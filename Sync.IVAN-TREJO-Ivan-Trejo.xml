<?xml version="1.0" encoding="utf-8"?><logs><log type="Controllers"><c y="NodeSet" t="2021-05-18T19:31:31"><controller name="Material" /><clone /></c><c y="NodeSet" t="2021-05-18T20:12:32"><controller name="Material2" /><view id="grid1" /><update><Label>Reguistro de Material Indirecto.</Label></update></c><c y="NodeSet" t="2021-05-18T20:12:49"><controller name="Material2" /><view id="editForm1" /><update><Label>Actualizar Reguistro de Material Indirecto.</Label></update></c><c y="NodeSet" t="2021-05-18T20:13:00"><controller name="Material2" /><view id="editForm1" /><category id="c1" /><update><HeaderText>Actualizar Reguistro de Material Indirecto.</HeaderText></update></c><c y="NodeSet" t="2021-05-18T20:13:17"><controller name="Material2" /><view id="createForm1" /><update><Label>Nuevo Reguistro de Material Indirecto.</Label></update></c><c y="NodeSet" t="2021-05-18T20:13:34"><controller name="Material2" /><view id="createForm1" /><category id="c1" /><update><HeaderText>Nuevo Reguistro de Material Indirecto.</HeaderText></update></c><c y="NodeSet" t="2021-05-18T20:14:21"><controller name="Material2" /><view id="Material_LookUp_List_Indirecto" /><update><Label>Material Indirecto</Label></update></c><c y="NodeSet" t="2021-05-19T09:37:57"><controller name="Material_Ubicacion_Stock1" /><rule id="r100" /><update><Script>/*
DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   [APP].[Material_Ubicacion_Stock] 
WHERE 
         [Material_Id] = @Material_Id
	 AND [Tipo_Almacenamiento_Id] = @Tipo_Almacenamiento_Id
	 AND [Ubicacion_Almacenamiento_Id] = @Ubicacion_Almacenamiento_Id
	 AND [Tipo_Ubicacion_Id] =  @Tipo_Ubicacion_Id
	 
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](224,1,64,@Material + ' vs. ' + @Tipo_Almacenamiento + ' vs. ' + @Ubicacion_Almacenamiento + ' vs. ' + CONVERT(VARCHAR(20),@Clave_Tipo_Ubicacion)) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](224,1,64,@Material + ' vs. ' + @Tipo_Almacenamiento + ' vs. ' + @Ubicacion_Almacenamiento + ' vs. ' + CONVERT(VARCHAR(20),@Clave_Tipo_Ubicacion)) 
   RETURN 
END */




DECLARE @Es_Almacen BIT
    ,@Es_Piso BIT
    ,@Material_Ubicacion_Stock_Existente_Id BIGINT
    ,@Transaccion_Id UNIQUEIDENTIFIER = NEWID()
	,@Relacion_Mensaje VARCHAR(700)
	--,@Material_Identificador_Sap VARCHAR(500)


-- Verificar si el registro actual es piso o almacen
SELECT TOP 1
    @Es_Almacen = Es_Almacen
    ,@Es_Piso = Es_Piso
FROM APP.Tipo_Ubicacion
WHERE Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id


IF @Es_Almacen = 1
BEGIN
    SET @Material_Ubicacion_Stock_Existente_Id = ISNull((
        SELECT TOP 1 Material_Ubicacion_Stock_Id
        FROM APP.Material_Ubicacion_Stock
        WHERE Material_Id = @Material_Id
        AND Tipo_Almacenamiento_Id = @Tipo_Almacenamiento_Id
        AND Ubicacion_Almacenamiento_Id = @Ubicacion_Almacenamiento_Id
        AND Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id	
        AND Estatus_Registro_Id = 1 --- Considerar solo activos

    ),0)
	
	SET @Relacion_Mensaje = @Material + ' vs ' + @Ubicacion_Almacenamiento + ' vs ' + @Tipo_Almacenamiento
END
ELSE IF @Es_Piso  =1
BEGIN
    SET @Material_Ubicacion_Stock_Existente_Id = ISNull((
        SELECT TOP 1 Material_Ubicacion_Stock_Id
        FROM APP.Material_Ubicacion_Stock
        WHERE Material_Id = @Material_Id
        AND Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id
        AND Estatus_Registro_Id = 1 --- Considerar solo activos
    ),0)
	SET @Relacion_Mensaje = @Material + ' vs ' +  CONVERT(VARCHAR(10),@Clave_Tipo_Ubicacion);
END

-- Validamos si ya existe el registro
IF @Material_Ubicacion_Stock_Existente_Id &gt; 0 
BEGIN 
    -- Significa que si existen.
    INSERT INTO APP.Material_Ubicacion_Stock_Historial (
         Material_Ubicacion_Stock_Id
        ,Material_Id
        ,Material
        ,Tipo_Almacenamiento_Id
        ,Tipo_Almacenamiento
        ,Ubicacion_Almacenamiento_Id
        ,Ubicacion_Almacenamiento
        ,Tipo_Ubicacion_Id
        ,Clave_Tipo_Ubicacion
        ,Total_Stock_Before
        ,Total_Stock
        ,Til
        ,Registrado_Desde_Id
        ,Ruta_Optima_Id
        ,Material_Surtido_Id
        ,Cantidad
        ,Operacion
	    ,PO
        ------------------------------
        ,Transaccion_Id
        ,Creado_Por_Id
        ,Fecha_Creacion
        ,Actualizado_Por_Id
        ,Fecha_Ultima_Actualizacion
    ) SELECT TOP 1
        Material_Ubicacion_Stock_Id
        ,MUS.Material_Id
        ,MAT.Material
        ,MUS.Tipo_Almacenamiento_Id
        ,TA.Tipo_Almacenamiento
        ,MUS.Ubicacion_Almacenamiento_Id
        ,UA.Ubicacion_Almacenamiento
        ,MUS.Tipo_Ubicacion_Id
        ,TU.Clave_Tipo_Ubicacion
        ,MUS.Total_Stock-- Total_Stock_Before
        ,MUS.Total_Stock + @Total_Stock -- Total_Stock
        ,MUS.Til
        ,41 --- 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
        ,0 -- Ruta_Optima_Id
        ,0 -- Material_Surtido_Id
        ,@Total_Stock -- Cantidad
        ,'Aumento de inventario existente desde pantalla' -- Operacion
		,@PO
        ------------------------------
        ,@Transaccion_Id -- Transaccion_Id
        ,@BusinessRules_UserId -- Creado_Por_Id
        ,dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)  -- Fecha_Creacion
        ,@BusinessRules_UserId -- Actualizado_Por_Id
        ,dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)  -- Fecha_Ultima_Actualizacion
    FROM APP.Material_Ubicacion_Stock MUS
    INNER JOIN APP.Material MAT ON MAT.Material_Id = MUS.Material_Id
    INNER JOIN APP.Ubicacion_Almacenamiento UA ON UA.Ubicacion_Almacenamiento_Id = MUS.Ubicacion_Almacenamiento_Id
    INNER JOIN APP.Tipo_Almacenamiento TA ON TA.Tipo_Almacenamiento_Id = MUS.Tipo_Almacenamiento_Id
    INNER JOIN APP.Tipo_Ubicacion TU ON TU.Tipo_Ubicacion_Id = MUS.Tipo_Ubicacion_Id
    WHERE MUS.Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Existente_Id

    -- Sumar al registro en inventario
    UPDATE APP.Material_Ubicacion_Stock SET
        Total_Stock = Total_Stock + @Total_Stock
		,Tipo_Almacenamiento_Id = ISNULL(@Tipo_Almacenamiento_Id,0)
		,Ubicacion_Almacenamiento_Id = ISNULL(@Ubicacion_Almacenamiento_Id,0)
		,Til = ISNULL(@Til,0)
		,Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id
		,PO = @PO
        -----------------------------------------------
        ,Transaccion_Id = @Transaccion_Id
        ,Actualizado_Por_Id = @BusinessRules_UserId
        ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
    WHERE Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Existente_Id
	
	-- Limpiar el formulario
	SET @Material_Id = NULL
	SET @Material = NULL
	SET @Total_Stock = NULL
	SET @Tipo_Almacenamiento_Id = NULL
	SET @Tipo_Almacenamiento = NULL
	SET @Ubicacion_Almacenamiento_Id = NULL
	SET @Ubicacion_Almacenamiento = NULL
	SET @Til = NULL
	SET @Tipo_Ubicacion_Id = NULL
	SET @Clave_Tipo_Ubicacion = NULL
	SET @PO = NULL

    -- Guardamos en el historial un nuevo movimiento
   SET @BusinessRules_PreventDefault = 1  -- Cancelar el INSERT normal
   
   --SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1404,1,188, @Relacion_Mensaje) 
   --SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1404,1,188,@Relacion_Mensaje) 
   --SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1404,1,188,@Relacion_Mensaje) 
   
   DECLARE @Mensaje_Usuario VARCHAR(600) = [dbo].[fn_Obtener_Mensaje_Sistema](1404,1,188,@Relacion_Mensaje) 
   
   SET @Mensaje_Usuario = REPLACE(@Mensaje_Usuario,'\\','')
   SET @Mensaje_Usuario = REPLACE(@Mensaje_Usuario,'"','\"')
   
   --SET @Result_Continue = 1
   --SET @Result_Refresh = 1
   SET @Result_ExecuteOnClient = '$app.touch.contextDataView().discard(); $app.touch.contextDataView().cancel(); setTimeout(function(){  $app.alert("'+@Mensaje_Usuario+'"); }, 1000); '
   
   
   RETURN
END
ELSE
BEGIN
	
	SET @BusinessRules_PreventDefault = 0
	SET @Result_Continue = 1

END</Script></update></c><c y="NodeSet" t="2021-05-19T09:39:06"><controller name="Material_Ubicacion_Stock1" /><rule id="r102" /><update><Script>UPDATE  
   [APP].[Material_Ubicacion_Stock]
SET 
    Creado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Creacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
   ,Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
WHERE 
   Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id




-------------------------

-- Cuando se insert√≥ por primera vez se debe guardar en el historial para que vean las PO de todas las entradas
INSERT INTO APP.Material_Ubicacion_Stock_Historial (
     Material_Ubicacion_Stock_Id
    ,Material_Id
    ,Material
    ,Tipo_Almacenamiento_Id
    ,Tipo_Almacenamiento
    ,Ubicacion_Almacenamiento_Id
    ,Ubicacion_Almacenamiento
    ,Tipo_Ubicacion_Id
    ,Clave_Tipo_Ubicacion
    ,Total_Stock_Before
    ,Total_Stock
    ,Til
    ,Registrado_Desde_Id
    ,Ruta_Optima_Id
    ,Material_Surtido_Id
    ,Cantidad
    ,Operacion
    ,PO
    ------------------------------
    ,Creado_Por_Id
    ,Fecha_Creacion
    ,Actualizado_Por_Id
    ,Fecha_Ultima_Actualizacion
) SELECT TOP 1
     Material_Ubicacion_Stock_Id
    ,MUS.Material_Id
    ,MAT.Material
    ,MUS.Tipo_Almacenamiento_Id
    ,TA.Tipo_Almacenamiento
    ,MUS.Ubicacion_Almacenamiento_Id
    ,UA.Ubicacion_Almacenamiento
    ,MUS.Tipo_Ubicacion_Id
    ,TU.Clave_Tipo_Ubicacion
    ,0 -- Total_Stock_Before
    ,MUS.Total_Stock -- Total_Stock
    ,MUS.Til
    ,41 --- 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
    ,0 -- Ruta_Optima_Id
    ,0 -- Material_Surtido_Id
    ,@Total_Stock -- Cantidad
    ,'Nuevo registro de inventario desde pantalla' -- Operacion
    ,@PO
    ------------------------------
    ,@BusinessRules_UserId -- Creado_Por_Id
    ,dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)  -- Fecha_Creacion
    ,@BusinessRules_UserId -- Actualizado_Por_Id
    ,dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)  -- Fecha_Ultima_Actualizacion
FROM APP.Material_Ubicacion_Stock MUS
INNER JOIN APP.Material MAT ON MAT.Material_Id = MUS.Material_Id
INNER JOIN APP.Ubicacion_Almacenamiento UA ON UA.Ubicacion_Almacenamiento_Id = MUS.Ubicacion_Almacenamiento_Id
INNER JOIN APP.Tipo_Almacenamiento TA ON TA.Tipo_Almacenamiento_Id = MUS.Tipo_Almacenamiento_Id
INNER JOIN APP.Tipo_Ubicacion TU ON TU.Tipo_Ubicacion_Id = MUS.Tipo_Ubicacion_Id
WHERE MUS.Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id</Script></update></c><c y="NodeSet" t="2021-05-19T09:40:14"><controller name="Material_Ubicacion_Stock1" /><rule id="r100" /><update><Script>/*
DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   [APP].[Material_Ubicacion_Stock] 
WHERE 
         [Material_Id] = @Material_Id
	 AND [Tipo_Almacenamiento_Id] = @Tipo_Almacenamiento_Id
	 AND [Ubicacion_Almacenamiento_Id] = @Ubicacion_Almacenamiento_Id
	 AND [Tipo_Ubicacion_Id] =  @Tipo_Ubicacion_Id
	 
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](224,1,64,@Material + ' vs. ' + @Tipo_Almacenamiento + ' vs. ' + @Ubicacion_Almacenamiento + ' vs. ' + CONVERT(VARCHAR(20),@Clave_Tipo_Ubicacion)) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](224,1,64,@Material + ' vs. ' + @Tipo_Almacenamiento + ' vs. ' + @Ubicacion_Almacenamiento + ' vs. ' + CONVERT(VARCHAR(20),@Clave_Tipo_Ubicacion)) 
   RETURN 
END */




DECLARE @Es_Almacen BIT
    ,@Es_Piso BIT
    ,@Material_Ubicacion_Stock_Existente_Id BIGINT
    ,@Transaccion_Id UNIQUEIDENTIFIER = NEWID()
	,@Relacion_Mensaje VARCHAR(700)
	--,@Material_Identificador_Sap VARCHAR(500)


-- Verificar si el registro actual es piso o almacen
SELECT TOP 1
    @Es_Almacen = Es_Almacen
    ,@Es_Piso = Es_Piso
FROM APP.Tipo_Ubicacion
WHERE Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id


IF @Es_Almacen = 1
BEGIN
    SET @Material_Ubicacion_Stock_Existente_Id = ISNull((
        SELECT TOP 1 Material_Ubicacion_Stock_Id
        FROM APP.Material_Ubicacion_Stock
        WHERE Material_Id = @Material_Id
        AND Tipo_Almacenamiento_Id = @Tipo_Almacenamiento_Id
        AND Ubicacion_Almacenamiento_Id = @Ubicacion_Almacenamiento_Id
        AND Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id	
        AND Estatus_Registro_Id = 1 --- Considerar solo activos

    ),0)
	
	SET @Relacion_Mensaje = @Material + ' vs ' + @Ubicacion_Almacenamiento + ' vs ' + @Tipo_Almacenamiento
END
ELSE IF @Es_Piso  =1
BEGIN
    SET @Material_Ubicacion_Stock_Existente_Id = ISNull((
        SELECT TOP 1 Material_Ubicacion_Stock_Id
        FROM APP.Material_Ubicacion_Stock
        WHERE Material_Id = @Material_Id
        AND Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id
        AND Estatus_Registro_Id = 1 --- Considerar solo activos
    ),0)
	SET @Relacion_Mensaje = @Material + ' vs ' +  CONVERT(VARCHAR(10),@Clave_Tipo_Ubicacion);
END

-- Validamos si ya existe el registro
IF @Material_Ubicacion_Stock_Existente_Id &gt; 0 
BEGIN 
    -- Significa que si existen.
    INSERT INTO APP.Material_Ubicacion_Stock_Historial (
         Material_Ubicacion_Stock_Id
        ,Material_Id
        ,Material
        ,Tipo_Almacenamiento_Id
        ,Tipo_Almacenamiento
        ,Ubicacion_Almacenamiento_Id
        ,Ubicacion_Almacenamiento
        ,Tipo_Ubicacion_Id
        ,Clave_Tipo_Ubicacion
        ,Total_Stock_Before
        ,Total_Stock
        ,Til
        ,Registrado_Desde_Id
        ,Ruta_Optima_Id
        ,Material_Surtido_Id
        ,Cantidad
        ,Operacion
	    ,PO
        ------------------------------
        ,Transaccion_Id
        ,Creado_Por_Id
        ,Fecha_Creacion
        ,Actualizado_Por_Id
        ,Fecha_Ultima_Actualizacion
    ) SELECT TOP 1
        Material_Ubicacion_Stock_Id
        ,MUS.Material_Id
        ,MAT.Material
        ,MUS.Tipo_Almacenamiento_Id
        ,TA.Tipo_Almacenamiento
        ,MUS.Ubicacion_Almacenamiento_Id
        ,UA.Ubicacion_Almacenamiento
        ,MUS.Tipo_Ubicacion_Id
        ,TU.Clave_Tipo_Ubicacion
        ,MUS.Total_Stock-- Total_Stock_Before
        ,MUS.Total_Stock + @Total_Stock -- Total_Stock
        ,MUS.Til
        ,41 --- 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
        ,0 -- Ruta_Optima_Id
        ,0 -- Material_Surtido_Id
        ,@Total_Stock -- Cantidad
        ,'Aumento de inventario existente desde pantalla' -- Operacion
		,@PO
        ------------------------------
        ,@Transaccion_Id -- Transaccion_Id
        ,@BusinessRules_UserId -- Creado_Por_Id
        ,dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)  -- Fecha_Creacion
        ,@BusinessRules_UserId -- Actualizado_Por_Id
        ,dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)  -- Fecha_Ultima_Actualizacion
    FROM APP.Material_Ubicacion_Stock MUS
    INNER JOIN APP.Material MAT ON MAT.Material_Id = MUS.Material_Id
    INNER JOIN APP.Ubicacion_Almacenamiento UA ON UA.Ubicacion_Almacenamiento_Id = MUS.Ubicacion_Almacenamiento_Id
    INNER JOIN APP.Tipo_Almacenamiento TA ON TA.Tipo_Almacenamiento_Id = MUS.Tipo_Almacenamiento_Id
    INNER JOIN APP.Tipo_Ubicacion TU ON TU.Tipo_Ubicacion_Id = MUS.Tipo_Ubicacion_Id
    WHERE MUS.Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Existente_Id

    -- Sumar al registro en inventario
    UPDATE APP.Material_Ubicacion_Stock SET
        Total_Stock = Total_Stock + @Total_Stock
		,Tipo_Almacenamiento_Id = ISNULL(@Tipo_Almacenamiento_Id,0)
		,Ubicacion_Almacenamiento_Id = ISNULL(@Ubicacion_Almacenamiento_Id,0)
		,Til = ISNULL(@Til,0)
		,Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id
		,PO = @PO
        -----------------------------------------------
        ,Transaccion_Id = @Transaccion_Id
        ,Actualizado_Por_Id = @BusinessRules_UserId
        ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
    WHERE Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Existente_Id
	
	-- Limpiar el formulario
	SET @Material_Id = NULL
	SET @Material = NULL
	SET @Total_Stock = NULL
	SET @Tipo_Almacenamiento_Id = NULL
	SET @Tipo_Almacenamiento = NULL
	SET @Ubicacion_Almacenamiento_Id = NULL
	SET @Ubicacion_Almacenamiento = NULL
	SET @Til = NULL
	SET @Tipo_Ubicacion_Id = NULL
	SET @Clave_Tipo_Ubicacion = NULL
	SET @PO = NULL

    -- Guardamos en el historial un nuevo movimiento
   SET @BusinessRules_PreventDefault = 1  -- Cancelar el INSERT normal
   
   --SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1404,1,188, @Relacion_Mensaje) 
   --SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1404,1,188,@Relacion_Mensaje) 
   --SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1404,1,188,@Relacion_Mensaje) 
   
   DECLARE @Mensaje_Usuario VARCHAR(600) = [dbo].[fn_Obtener_Mensaje_Sistema](1404,1,188,@Relacion_Mensaje) 
   
   SET @Mensaje_Usuario = REPLACE(@Mensaje_Usuario,'\\','')
   SET @Mensaje_Usuario = REPLACE(@Mensaje_Usuario,'"','\"')
   
   --SET @Result_Continue = 1
   --SET @Result_Refresh = 1
   SET @Result_ExecuteOnClient = '$app.touch.contextDataView().discard(); $app.touch.contextDataView().cancel(); setTimeout(function(){  $app.alert("'+@Mensaje_Usuario+'"); }, 1000); '
   
   
   RETURN
END
ELSE
BEGIN
	
	SET @BusinessRules_PreventDefault = 0
	SET @Result_Continue = 1

END</Script></update></c><c y="NodeSet" t="2021-05-19T15:25:12"><controller name="Material2" /><actionGroup id="ag3" /><action id="a1" /><update><Roles /></update></c><c y="NodeSet" t="2021-05-19T15:25:25"><controller name="Material2" /><actionGroup id="ag4" /><action id="a1" /><update><Roles /></update></c><c y="NodeSet" t="2021-05-19T15:25:36"><controller name="Material2" /><actionGroup id="ag1" /><action id="a2" /><update><Roles /></update></c><c y="NodeSet" t="2021-05-19T15:26:09"><controller name="Material2" /><actionGroup id="ag9" /><action id="a1" /><update><Roles /></update></c><c y="NodeSet" t="2021-05-19T16:28:03"><controller name="Material2" /><view id="grid1" /><dataField fieldName="Mrp_Type" /><move><controller name="Material2" /><view id="grid1" /><dataField fieldName="Clasificacion_Id" /></move></c><c y="NodeSet" t="2021-05-19T16:28:09"><controller name="Material2" /><view id="grid1" /><dataField fieldName="Clasificacion_Id" /><move><controller name="Material2" /><view id="grid1" /><dataField fieldName="Registrado_Desde" /></move></c><c y="NodeSet" t="2021-05-19T16:28:12"><controller name="Material2" /><view id="grid1" /><dataField fieldName="Registrado_Desde" /><move><controller name="Material2" /><view id="grid1" /><dataField fieldName="Registrado_Desde_Id" /></move></c><c y="NodeSet" t="2021-05-19T16:28:14"><controller name="Material2" /><view id="grid1" /><dataField fieldName="Registrado_Desde_Id" /><move><controller name="Material2" /><view id="grid1" /><dataField fieldName="Es_Material_Indirecto" /></move></c><c y="NodeSet" t="2021-05-19T16:28:53"><controller name="Material2" /><view id="grid1" /><dataField fieldName="Mrp_Type_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-19T16:29:00"><controller name="Material2" /><view id="grid1" /><dataField fieldName="Mrp_Type" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-19T16:29:31"><controller name="Material2" /><view id="grid1" /><dataField fieldName="Mrp_Type" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-19T16:29:40"><controller name="Material2" /><view id="grid1" /><dataField fieldName="Clasificacion_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-19T16:31:51"><controller name="Material2" /><view id="grid1" /><update><Label>Registro de Material Indirecto.</Label></update></c><c y="NodeSet" t="2021-05-19T16:31:59"><controller name="Material2" /><view id="editForm1" /><update><Label>Actualizar Registro de Material Indirecto.</Label></update></c><c y="NodeSet" t="2021-05-19T16:32:06"><controller name="Material2" /><view id="editForm1" /><category id="c1" /><update><HeaderText>Actualizar Registro de Material Indirecto.</HeaderText></update></c><c y="NodeSet" t="2021-05-19T16:32:17"><controller name="Material2" /><view id="createForm1" /><update><Label>Nuevo Registro de Material Indirecto.</Label></update></c><c y="NodeSet" t="2021-05-19T16:32:23"><controller name="Material2" /><view id="createForm1" /><category id="c1" /><update><HeaderText>Nuevo Registro de Material Indirecto.</HeaderText></update></c><c y="NodeSet" t="2021-05-19T16:32:53"><controller name="Material2" /><view id="Material_LookUp_List" /><update><Label>Registro de Material Indirecto.</Label></update></c><c y="NodeSet" t="2021-05-19T16:33:08"><controller name="Material2" /><view id="Material_LookUp_List" /><update><Label>Material </Label></update></c><c y="NodeSet" t="2021-05-19T16:33:52"><controller name="Material2" /><actionGroup id="ag2" /><action id="a1" /><update><Roles /></update></c><c y="NodeSet" t="2021-05-19T16:36:21"><controller name="Material2" /><actionGroup id="ag9" /><action id="a2" /><update><Data>UPDATE 
   APP.Material
SET
    Estatus_Registro_Id = 3
    ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Id = @Material_Id</Data><Roles /></update></c><c y="NodeSet" t="2021-05-19T16:36:35"><controller name="Material2" /><actionGroup id="ag1" /><action id="a3" /><update><Data>UPDATE 
   APP.Material
SET
    Estatus_Registro_Id = 3
    ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Id = @Material_Id</Data><Roles /></update></c><c y="NodeSet" t="2021-05-19T16:36:44"><controller name="Material2" /><actionGroup id="ag2" /><action id="a2" /><update><Data>UPDATE 
   APP.Material
SET
    Estatus_Registro_Id = 3
    ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Id = @Material_Id</Data><Roles /></update></c><c y="NodeSet" t="2021-05-19T16:36:55"><controller name="Material2" /><actionGroup id="ag4" /><action id="a2" /><update><Data>UPDATE 
   APP.Material
SET
    Estatus_Registro_Id = 3
    ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Id = @Material_Id</Data><Roles /></update></c><c y="NodeSet" t="2021-05-20T10:22:42"><controller name="Material1" /><view id="grid1" /><dataField fieldName="Material_Descripcion" /><move><controller name="Material1" /><view id="grid1" /><dataField fieldName="Clasificacion_Id" /></move></c><c y="NodeSet" t="2021-05-20T10:22:51"><controller name="Material1" /><view id="grid1" /><dataField fieldName="Mrp_Type" /><move><controller name="Material1" /><view id="grid1" /><dataField fieldName="Registrado_Desde" /></move></c><c y="NodeSet" t="2021-05-20T10:22:56"><controller name="Material1" /><view id="grid1" /><dataField fieldName="Registrado_Desde" /><move><controller name="Material1" /><view id="grid1" /><dataField fieldName="Registrado_Desde_Id" /></move></c><c y="NodeSet" t="2021-05-20T10:23:00"><controller name="Material1" /><view id="grid1" /><dataField fieldName="Registrado_Desde_Id" /><move><controller name="Material1" /><view id="grid1" /><dataField fieldName="Es_Material_Indirecto" /></move></c><c y="NodeSet" t="2021-05-20T10:24:11"><controller name="Material1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Material_Descripcion" /><move><controller name="Material1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Clasificacion_Id" /></move></c><c y="NodeSet" t="2021-05-20T10:24:16"><controller name="Material1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Mrp_Type_Id" /><move><controller name="Material1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Es_Material_Indirecto" /></move></c><c y="NodeSet" t="2021-05-20T10:24:30"><controller name="Material1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Registrado_Desde_Id" /><move><controller name="Material1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Es_Material_Indirecto" /></move></c><c y="NodeSet" t="2021-05-20T11:26:55"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="editForm1" /><delete /></c><c y="NodeSet" t="2021-05-20T11:26:59"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="createForm1" /><delete /></c><c y="NodeSet" t="2021-05-20T11:32:06"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="grid1" /><update><Label>Reporte de Solicitud de Material Indirecto Por Dia Actual</Label></update></c><c y="NodeSet" t="2021-05-20T11:56:51"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><insert type="command"><CommandId>Grid_Reporte_Solicitud_Ind_Dia_Anterior_V</CommandId><Text>SELECT TOP (1000) [Orden_Produccion_Id]
      ,[Categoria_Solicitud]
      ,[Numero_Orden_Produccion]
      ,[Familia_Id]
      ,[Familia_Clave]
      ,[Categoria_Id]
      ,[Categoria_Clave]
      ,[Solicitud_Id]
      ,[Material_Solicitado_Id]
      ,[Material]
      ,[Estatus_Solicitud_Id]
      ,[Estatus_Solicitud]
      ,[Fecha_Solicitud_Dia]
      ,[Fecha_Solicitud]
      ,[Fecha_Entrega]
      ,[Solicitud_Fecha_Ultima_Actualizacion]
      ,[Ruta_Optima_Id]
      ,[Material_Surtido_Id]
      ,[Tiempo_Transcurrido]
      ,[Caso_Tiempo_Transcurrido]
      ,[Solicitud_Antiguedad_Dia]
      ,[Solicitud_Hora_De_Solicitud]
      ,[Solicitud_Hora]
      ,[Solicitud_Hora_Completa]
      ,[Entregado_Por_Id]
      ,[Entregado_Por]
      ,[Area_Entrega_Id]
      ,[Area_Entrega]
      ,[Area_Servicio_Id]
      ,[Area_Servicio]
      ,[Surtidor_Responsable_Id]
      ,[Surtidor_Responsable]
      ,[Solicitado_Por_Id]
      ,[Solicitado_Por]
      ,[Tipo_Solicitud_Id]
      ,[Tipo_Solicitud]
      ,[Fecha_Entrega_Cadista]
      ,[Tiempo_Transcurrido_Entrega_Cadista]
      ,[Caso_Tiempo_Transcurrido_Cadista]
      ,[Entregado_Por_Usuario_Cadista_Id]
      ,[Entregado_Por_Usuario_Cadista]
  FROM [dbo].[Grid_Reporte_Solicitud_Ind_Dia_Anterior_V]</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-05-20T11:57:55"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="grid1" /><copy><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-05-20T11:59:26"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="v100" /><update><CommandId>Grid_Reporte_Solicitud_Ind_Dia_Anterior_V</CommandId><Label>Reporte de Solicitud de Material Indirecto Por Dia Anterior</Label></update></c><c y="NodeSet" t="2021-05-20T11:59:40"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="v100" /><rename>Grid_Reporte_Solicitud_Ind_Dia_Anterior_V</rename></c><c y="NodeSet" t="2021-05-20T12:09:57"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><command id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><update><Text>SELECT [Orden_Produccion_Id]
      ,[Categoria_Solicitud]
      ,[Numero_Orden_Produccion]
      ,[Familia_Id]
      ,[Familia_Clave]
      ,[Categoria_Id]
      ,[Categoria_Clave]
      ,[Solicitud_Id]
      ,[Material_Solicitado_Id]
      ,[Material]
      ,[Estatus_Solicitud_Id]
      ,[Estatus_Solicitud]
      ,[Fecha_Solicitud_Dia]
      ,[Fecha_Solicitud]
      ,[Fecha_Entrega]
      ,[Solicitud_Fecha_Ultima_Actualizacion]
      ,[Ruta_Optima_Id]
      ,[Material_Surtido_Id]
      ,[Tiempo_Transcurrido]
      ,[Caso_Tiempo_Transcurrido]
      ,[Solicitud_Antiguedad_Dia]
      ,[Solicitud_Hora_De_Solicitud]
      ,[Solicitud_Hora]
      ,[Solicitud_Hora_Completa]
      ,[Entregado_Por_Id]
      ,[Entregado_Por]
      ,[Area_Entrega_Id]
      ,[Area_Entrega]
      ,[Area_Servicio_Id]
      ,[Area_Servicio]
      ,[Surtidor_Responsable_Id]
      ,[Surtidor_Responsable]
      ,[Solicitado_Por_Id]
      ,[Solicitado_Por]
      ,[Tipo_Solicitud_Id]
      ,[Tipo_Solicitud]
      ,[Fecha_Entrega_Cadista]
      ,[Tiempo_Transcurrido_Entrega_Cadista]
      ,[Caso_Tiempo_Transcurrido_Cadista]
      ,[Entregado_Por_Usuario_Cadista_Id]
      ,[Entregado_Por_Usuario_Cadista]
  FROM [dbo].[Grid_Reporte_Solicitud_Ind_Dia_Anterior_V]</Text></update></c><c y="NodeSet" t="2021-05-20T12:15:57"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><command id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><update><Text>select
	"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Orden_Produccion_Id" "Orden_Produccion_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Categoria_Solicitud" "Categoria_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Numero_Orden_Produccion" "Numero_Orden_Produccion"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Familia_Id" "Familia_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Familia_Clave" "Familia_Clave"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Categoria_Id" "Categoria_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Categoria_Clave" "Categoria_Clave"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Solicitud_Id" "Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Material_Solicitado_Id" "Material_Solicitado_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Material" "Material"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Estatus_Solicitud_Id" "Estatus_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Estatus_Solicitud" "Estatus_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Fecha_Solicitud_Dia" "Fecha_Solicitud_Dia"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Fecha_Solicitud" "Fecha_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Fecha_Entrega" "Fecha_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Solicitud_Fecha_Ultima_Actualizacion" "Solicitud_Fecha_Ultima_Actualizacion"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Tiempo_Transcurrido" "Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Caso_Tiempo_Transcurrido" "Caso_Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Solicitud_Antiguedad_Dia" "Solicitud_Antiguedad_Dia"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Solicitud_Hora_De_Solicitud" "Solicitud_Hora_De_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Solicitud_Hora" "Solicitud_Hora"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Solicitud_Hora_Completa" "Solicitud_Hora_Completa"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Entregado_Por_Id" "Entregado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Entregado_Por" "Entregado_Por"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Area_Entrega_Id" "Area_Entrega_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Area_Entrega" "Area_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Area_Servicio_Id" "Area_Servicio_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Area_Servicio" "Area_Servicio"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Surtidor_Responsable_Id" "Surtidor_Responsable_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Surtidor_Responsable" "Surtidor_Responsable"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Solicitado_Por_Id" "Solicitado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Solicitado_Por" "Solicitado_Por"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Tipo_Solicitud_Id" "Tipo_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Tipo_Solicitud" "Tipo_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Fecha_Entrega_Cadista" "Fecha_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Tiempo_Transcurrido_Entrega_Cadista" "Tiempo_Transcurrido_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Caso_Tiempo_Transcurrido_Cadista" "Caso_Tiempo_Transcurrido_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Entregado_Por_Usuario_Cadista_Id" "Entregado_Por_Usuario_Cadista_Id"
	,"Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"."Entregado_Por_Usuario_Cadista" "Entregado_Por_Usuario_Cadista"
from "dbo"."Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" "Grid_Reporte_Solicitud_Ind_Dia_Anterior_V"</Text></update></c><c y="NodeSet" t="2021-05-20T12:33:46"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><insert type="command"><CommandId>Grid_Reporte_Solicitud_Ind_Mes_Actual_V</CommandId><Text>select
	"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Orden_Produccion_Id" "Orden_Produccion_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Categoria_Solicitud" "Categoria_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Numero_Orden_Produccion" "Numero_Orden_Produccion"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Familia_Id" "Familia_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Familia_Clave" "Familia_Clave"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Categoria_Id" "Categoria_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Categoria_Clave" "Categoria_Clave"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Solicitud_Id" "Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Material_Solicitado_Id" "Material_Solicitado_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Material" "Material"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Estatus_Solicitud_Id" "Estatus_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Estatus_Solicitud" "Estatus_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Fecha_Solicitud_Dia" "Fecha_Solicitud_Dia"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Fecha_Solicitud" "Fecha_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Fecha_Entrega" "Fecha_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Solicitud_Fecha_Ultima_Actualizacion" "Solicitud_Fecha_Ultima_Actualizacion"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Tiempo_Transcurrido" "Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Caso_Tiempo_Transcurrido" "Caso_Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Solicitud_Antiguedad_Dia" "Solicitud_Antiguedad_Dia"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Solicitud_Hora_De_Solicitud" "Solicitud_Hora_De_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Solicitud_Hora" "Solicitud_Hora"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Solicitud_Hora_Completa" "Solicitud_Hora_Completa"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Entregado_Por_Id" "Entregado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Entregado_Por" "Entregado_Por"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Area_Entrega_Id" "Area_Entrega_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Area_Entrega" "Area_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Area_Servicio_Id" "Area_Servicio_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Area_Servicio" "Area_Servicio"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Surtidor_Responsable_Id" "Surtidor_Responsable_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Surtidor_Responsable" "Surtidor_Responsable"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Solicitado_Por_Id" "Solicitado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Solicitado_Por" "Solicitado_Por"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Tipo_Solicitud_Id" "Tipo_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Tipo_Solicitud" "Tipo_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Fecha_Entrega_Cadista" "Fecha_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Tiempo_Transcurrido_Entrega_Cadista" "Tiempo_Transcurrido_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Caso_Tiempo_Transcurrido_Cadista" "Caso_Tiempo_Transcurrido_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Entregado_Por_Usuario_Cadista_Id" "Entregado_Por_Usuario_Cadista_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Actual_V"."Entregado_Por_Usuario_Cadista" "Entregado_Por_Usuario_Cadista"
from "dbo"."Grid_Reporte_Solicitud_Ind_Mes_Actual_V" "Grid_Reporte_Solicitud_Ind_Mes_Actual_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-05-20T12:34:02"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><copy><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-05-20T12:34:26"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="v100" /><rename>Grid_Reporte_Solicitud_Ind_Mes_Actual_V</rename></c><c y="NodeSet" t="2021-05-20T12:34:51"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><update><CommandId>Grid_Reporte_Solicitud_Ind_Mes_Actual_V</CommandId></update></c><c y="NodeSet" t="2021-05-20T12:38:11"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><update><Label>Reporte de Solicitud de Material Indirecto Por Mes Actual</Label></update></c><c y="NodeSet" t="2021-05-20T12:46:38"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><insert type="command"><CommandId>Grid_Reporte_Solicitud_Ind_Mes_Anterior_V</CommandId><Text>select
	"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Orden_Produccion_Id" "Orden_Produccion_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Categoria_Solicitud" "Categoria_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Numero_Orden_Produccion" "Numero_Orden_Produccion"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Familia_Id" "Familia_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Familia_Clave" "Familia_Clave"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Categoria_Id" "Categoria_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Categoria_Clave" "Categoria_Clave"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Solicitud_Id" "Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Material_Solicitado_Id" "Material_Solicitado_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Material" "Material"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Estatus_Solicitud_Id" "Estatus_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Estatus_Solicitud" "Estatus_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Fecha_Solicitud_Dia" "Fecha_Solicitud_Dia"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Fecha_Solicitud" "Fecha_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Fecha_Entrega" "Fecha_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Solicitud_Fecha_Ultima_Actualizacion" "Solicitud_Fecha_Ultima_Actualizacion"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Tiempo_Transcurrido" "Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Caso_Tiempo_Transcurrido" "Caso_Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Solicitud_Antiguedad_Dia" "Solicitud_Antiguedad_Dia"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Solicitud_Hora_De_Solicitud" "Solicitud_Hora_De_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Solicitud_Hora" "Solicitud_Hora"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Solicitud_Hora_Completa" "Solicitud_Hora_Completa"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Entregado_Por_Id" "Entregado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Entregado_Por" "Entregado_Por"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Area_Entrega_Id" "Area_Entrega_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Area_Entrega" "Area_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Area_Servicio_Id" "Area_Servicio_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Area_Servicio" "Area_Servicio"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Surtidor_Responsable_Id" "Surtidor_Responsable_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Surtidor_Responsable" "Surtidor_Responsable"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Solicitado_Por_Id" "Solicitado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Solicitado_Por" "Solicitado_Por"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Tipo_Solicitud_Id" "Tipo_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Tipo_Solicitud" "Tipo_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Fecha_Entrega_Cadista" "Fecha_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Tiempo_Transcurrido_Entrega_Cadista" "Tiempo_Transcurrido_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Caso_Tiempo_Transcurrido_Cadista" "Caso_Tiempo_Transcurrido_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Entregado_Por_Usuario_Cadista_Id" "Entregado_Por_Usuario_Cadista_Id"
	,"Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"."Entregado_Por_Usuario_Cadista" "Entregado_Por_Usuario_Cadista"
from "dbo"."Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" "Grid_Reporte_Solicitud_Ind_Mes_Anterior_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-05-20T12:47:06"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><copy><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-05-20T12:48:07"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="v100" /><update><Label>Reporte de Solicitud de Material Indirecto Del Mes Anterior</Label></update></c><c y="NodeSet" t="2021-05-20T12:49:04"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="v100" /><rename>Grid_Reporte_Solicitud_Ind_Mes_Anterior_V</rename></c><c y="NodeSet" t="2021-05-20T12:49:54"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><update><CommandId>Grid_Reporte_Solicitud_Ind_Mes_Anterior_V</CommandId></update></c><c y="NodeSet" t="2021-05-20T12:56:29"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><insert type="command"><CommandId>Grid_Reporte_Solicitud_Ind_Semana_Actual_V</CommandId><Text>select
	"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Orden_Produccion_Id" "Orden_Produccion_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Categoria_Solicitud" "Categoria_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Numero_Orden_Produccion" "Numero_Orden_Produccion"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Familia_Id" "Familia_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Familia_Clave" "Familia_Clave"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Categoria_Id" "Categoria_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Categoria_Clave" "Categoria_Clave"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Solicitud_Id" "Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Material_Solicitado_Id" "Material_Solicitado_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Material" "Material"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Estatus_Solicitud_Id" "Estatus_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Estatus_Solicitud" "Estatus_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Fecha_Solicitud_Dia" "Fecha_Solicitud_Dia"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Fecha_Solicitud" "Fecha_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Fecha_Entrega" "Fecha_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Solicitud_Fecha_Ultima_Actualizacion" "Solicitud_Fecha_Ultima_Actualizacion"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Tiempo_Transcurrido" "Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Caso_Tiempo_Transcurrido" "Caso_Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Solicitud_Antiguedad_Dia" "Solicitud_Antiguedad_Dia"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Solicitud_Hora_De_Solicitud" "Solicitud_Hora_De_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Solicitud_Hora" "Solicitud_Hora"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Solicitud_Hora_Completa" "Solicitud_Hora_Completa"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Entregado_Por_Id" "Entregado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Entregado_Por" "Entregado_Por"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Area_Entrega_Id" "Area_Entrega_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Area_Entrega" "Area_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Area_Servicio_Id" "Area_Servicio_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Area_Servicio" "Area_Servicio"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Surtidor_Responsable_Id" "Surtidor_Responsable_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Surtidor_Responsable" "Surtidor_Responsable"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Solicitado_Por_Id" "Solicitado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Solicitado_Por" "Solicitado_Por"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Tipo_Solicitud_Id" "Tipo_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Tipo_Solicitud" "Tipo_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Fecha_Entrega_Cadista" "Fecha_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Tiempo_Transcurrido_Entrega_Cadista" "Tiempo_Transcurrido_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Caso_Tiempo_Transcurrido_Cadista" "Caso_Tiempo_Transcurrido_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Entregado_Por_Usuario_Cadista_Id" "Entregado_Por_Usuario_Cadista_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Actual_V"."Entregado_Por_Usuario_Cadista" "Entregado_Por_Usuario_Cadista"
from "dbo"."Grid_Reporte_Solicitud_Ind_Semana_Actual_V" "Grid_Reporte_Solicitud_Ind_Semana_Actual_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-05-20T13:02:17"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><insert type="command"><CommandId>Grid_Reporte_Solicitud_Ind_Semana_Anterior_V</CommandId><Text>select
	"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Orden_Produccion_Id" "Orden_Produccion_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Categoria_Solicitud" "Categoria_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Numero_Orden_Produccion" "Numero_Orden_Produccion"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Familia_Id" "Familia_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Familia_Clave" "Familia_Clave"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Categoria_Id" "Categoria_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Categoria_Clave" "Categoria_Clave"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Solicitud_Id" "Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Material_Solicitado_Id" "Material_Solicitado_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Material" "Material"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Estatus_Solicitud_Id" "Estatus_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Estatus_Solicitud" "Estatus_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Fecha_Solicitud_Dia" "Fecha_Solicitud_Dia"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Fecha_Solicitud" "Fecha_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Fecha_Entrega" "Fecha_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Solicitud_Fecha_Ultima_Actualizacion" "Solicitud_Fecha_Ultima_Actualizacion"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Tiempo_Transcurrido" "Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Caso_Tiempo_Transcurrido" "Caso_Tiempo_Transcurrido"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Solicitud_Antiguedad_Dia" "Solicitud_Antiguedad_Dia"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Solicitud_Hora_De_Solicitud" "Solicitud_Hora_De_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Solicitud_Hora" "Solicitud_Hora"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Solicitud_Hora_Completa" "Solicitud_Hora_Completa"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Entregado_Por_Id" "Entregado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Entregado_Por" "Entregado_Por"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Area_Entrega_Id" "Area_Entrega_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Area_Entrega" "Area_Entrega"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Area_Servicio_Id" "Area_Servicio_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Area_Servicio" "Area_Servicio"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Surtidor_Responsable_Id" "Surtidor_Responsable_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Surtidor_Responsable" "Surtidor_Responsable"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Solicitado_Por_Id" "Solicitado_Por_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Solicitado_Por" "Solicitado_Por"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Tipo_Solicitud_Id" "Tipo_Solicitud_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Tipo_Solicitud" "Tipo_Solicitud"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Fecha_Entrega_Cadista" "Fecha_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Tiempo_Transcurrido_Entrega_Cadista" "Tiempo_Transcurrido_Entrega_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Caso_Tiempo_Transcurrido_Cadista" "Caso_Tiempo_Transcurrido_Cadista"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Entregado_Por_Usuario_Cadista_Id" "Entregado_Por_Usuario_Cadista_Id"
	,"Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"."Entregado_Por_Usuario_Cadista" "Entregado_Por_Usuario_Cadista"
from "dbo"."Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" "Grid_Reporte_Solicitud_Ind_Semana_Anterior_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-05-20T13:02:43"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="grid1" /><copy><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-05-20T13:02:46"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><move><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="v100" /></move></c><c y="NodeSet" t="2021-05-20T13:05:17"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="v100" /><update><CommandId>Grid_Reporte_Solicitud_Ind_Semana_Actual_V</CommandId><Label>Reporte de Solicitud de Material Indirecto Por Semana Actual</Label></update></c><c y="NodeSet" t="2021-05-20T13:06:12"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="v100" /><rename>Grid_Reporte_Solicitud_Ind_Semana_Actual_V</rename></c><c y="NodeSet" t="2021-05-20T13:08:01"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><copy><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-05-20T13:08:47"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="v100" /><rename>Grid_Reporte_Solicitud_Ind_Semana_Anterior_V</rename></c><c y="NodeSet" t="2021-05-20T13:09:40"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><update><CommandId>Grid_Reporte_Solicitud_Ind_Semana_Anterior_V</CommandId><Label>Reporte de Solicitud de Material Indirecto Por Semana Anterior</Label></update></c><c y="NodeSet" t="2021-05-20T13:10:40"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><update><Label>Reporte de Solicitud de Material Indirecto De La Semana Anterior</Label></update></c><c y="NodeSet" t="2021-05-20T13:13:16"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="grid1" /><rename>Grid_Reporte_Solicitud_Ind_Dia_Actual_V</rename></c><c y="NodeSet" t="2021-05-20T13:14:47"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><move><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /></move></c><c y="NodeSet" t="2021-05-20T13:14:50"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><move><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /></move></c><c y="NodeSet" t="2021-05-20T13:17:33"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags></update></c><c y="NodeSet" t="2021-05-20T13:17:39"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags></update></c><c y="NodeSet" t="2021-05-20T13:17:45"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags></update></c><c y="NodeSet" t="2021-05-20T13:17:51"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags></update></c><c y="NodeSet" t="2021-05-20T13:17:58"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags></update></c><c y="NodeSet" t="2021-05-20T13:18:04"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags></update></c><c y="NodeSet" t="2021-05-20T13:24:30"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags><Label>Reporte de Solicitud de Material Indirecto Del Dia Actual</Label></update></c><c y="NodeSet" t="2021-05-20T13:24:40"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags><Label>Reporte de Solicitud de Material Indirecto Del Dia Anterior</Label></update></c><c y="NodeSet" t="2021-05-20T13:24:53"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags><Label>Reporte de Solicitud de Material Indirecto De La Semana Actual</Label></update></c><c y="NodeSet" t="2021-05-20T13:25:10"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><update><Tags>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tags><Label>Reporte de Solicitud de Material Indirecto Del Mes Actual</Label></update></c><c y="NodeSet" t="2021-05-20T13:39:10"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Familia_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:39:24"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:39:31"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:39:50"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Material_Solicitado_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:39:58"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Estatus_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:40:08"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Ruta_Optima_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:40:19"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Material_Surtido_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:40:30"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Entregado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:40:40"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Area_Entrega_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:40:49"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Area_Servicio_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:41:00"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Surtidor_Responsable_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:41:08"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Solicitado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:41:15"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Tipo_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:41:27"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Entregado_Por_Usuario_Cadista_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:41:49"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Familia_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:41:58"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:42:08"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:42:16"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Material_Solicitado_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:42:24"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Estatus_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:42:34"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Ruta_Optima_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:42:43"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Material_Surtido_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:42:58"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Entregado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:43:05"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Area_Entrega_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:43:13"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Area_Servicio_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:43:23"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Surtidor_Responsable_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:43:31"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Solicitado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:43:42"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Tipo_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:44:03"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Entregado_Por_Usuario_Cadista_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:45:06"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Categoria_Solicitud" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:45:14"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Familia_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:45:22"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:45:30"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:45:41"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Material_Solicitado_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:45:49"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Estatus_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:45:58"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Ruta_Optima_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:46:07"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Material_Surtido_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:46:16"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Entregado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:46:36"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Area_Entrega_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:46:43"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Area_Servicio_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:46:51"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Surtidor_Responsable_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:47:01"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Solicitado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:47:08"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Tipo_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:47:21"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Entregado_Por_Usuario_Cadista_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:47:43"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Familia_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:47:51"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:47:59"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:48:06"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Material_Solicitado_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:48:14"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Estatus_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:48:21"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Ruta_Optima_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:48:29"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Material_Surtido_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:48:41"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Entregado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:48:51"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Area_Entrega_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:49:01"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Area_Servicio_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:49:10"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Surtidor_Responsable_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:50:35"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Solicitado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:50:44"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Tipo_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:50:56"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Entregado_Por_Usuario_Cadista_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:51:20"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Familia_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:51:29"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:51:36"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:51:44"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Material_Solicitado_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:51:50"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Estatus_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:52:00"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Ruta_Optima_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:52:10"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Material_Surtido_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:52:20"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Entregado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:52:27"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Entregado_Por" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:52:35"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Area_Entrega_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:52:43"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Area_Servicio_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:52:50"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Surtidor_Responsable_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:52:58"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Solicitado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:53:06"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Tipo_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:53:14"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Entregado_Por_Usuario_Cadista_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:53:40"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Familia_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:53:47"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:53:54"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:54:01"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Material_Solicitado_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:54:09"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Estatus_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:54:19"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Ruta_Optima_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:54:27"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Material_Surtido_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:56:34"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Entregado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:56:41"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Area_Entrega_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:56:49"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Area_Servicio_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:56:57"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Surtidor_Responsable_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:57:05"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Solicitado_Por_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:57:14"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Tipo_Solicitud_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T13:57:26"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Entregado_Por_Usuario_Cadista_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T14:03:22"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag3" /><action id="a1" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:14:29"><controller name="Material1" /><actionGroup id="ag1" /><action id="a2" /><update><Roles>Administrators,administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T18:14:38"><controller name="Material1" /><actionGroup id="ag1" /><action id="a3" /><update><Data>UPDATE 
   APP.Material
SET
    Estatus_Registro_Id = 3
    ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Id = @Material_Id</Data><Roles>Administrators,administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T18:14:50"><controller name="Material1" /><actionGroup id="ag2" /><action id="a1" /><update><Roles>Administrators,administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T18:14:59"><controller name="Material1" /><actionGroup id="ag2" /><action id="a2" /><update><Data>UPDATE 
   APP.Material
SET
    Estatus_Registro_Id = 3
    ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Id = @Material_Id</Data><Roles>Administrators,administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T18:15:09"><controller name="Material1" /><actionGroup id="ag3" /><action id="a1" /><update><Roles>Administrators,administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T18:15:20"><controller name="Material1" /><actionGroup id="ag4" /><action id="a2" /><update><Data>UPDATE 
   APP.Material
SET
    Estatus_Registro_Id = 3
    ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Id = @Material_Id</Data><Roles>Administrators,administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T18:15:29"><controller name="Material1" /><actionGroup id="ag4" /><action id="a1" /><update><Roles>Administrators,administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T18:15:40"><controller name="Material1" /><actionGroup id="ag9" /><action id="a1" /><update><Roles>Administrators,administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T18:15:48"><controller name="Material1" /><actionGroup id="ag9" /><action id="a2" /><update><Data>UPDATE 
   APP.Material
SET
    Estatus_Registro_Id = 3
    ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Id = @Material_Id</Data><Roles>Administrators,administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T18:17:42"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag1" /><action id="a2" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:17:48"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag1" /><action id="a3" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:17:56"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag2" /><action id="a1" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:18:02"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag2" /><action id="a2" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:18:17"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag4" /><action id="a1" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:18:23"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag4" /><action id="a2" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:18:42"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag9" /><action id="a1" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:18:50"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag9" /><action id="a2" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:19:49"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Orden_Produccion_Id" /><move><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Numero_Orden_Produccion" /></move></c><c y="NodeSet" t="2021-05-20T18:19:56"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><dataField fieldName="Orden_Produccion_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T18:20:07"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Orden_Produccion_Id" /><move><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Numero_Orden_Produccion" /></move></c><c y="NodeSet" t="2021-05-20T18:20:13"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Dia_Anterior_V" /><dataField fieldName="Orden_Produccion_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T18:20:18"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Orden_Produccion_Id" /><move><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Numero_Orden_Produccion" /></move></c><c y="NodeSet" t="2021-05-20T18:20:22"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Actual_V" /><dataField fieldName="Orden_Produccion_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T18:20:29"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Orden_Produccion_Id" /><move><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Numero_Orden_Produccion" /></move></c><c y="NodeSet" t="2021-05-20T18:20:35"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Semana_Anterior_V" /><dataField fieldName="Orden_Produccion_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T18:20:51"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Orden_Produccion_Id" /><move><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Numero_Orden_Produccion" /></move></c><c y="NodeSet" t="2021-05-20T18:20:55"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Actual_V" /><dataField fieldName="Orden_Produccion_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T18:21:00"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Orden_Produccion_Id" /><move><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Numero_Orden_Produccion" /></move></c><c y="NodeSet" t="2021-05-20T18:21:07"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><view id="Grid_Reporte_Solicitud_Ind_Mes_Anterior_V" /><dataField fieldName="Orden_Produccion_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T18:21:42"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag1" /><action id="a7" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:21:59"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag1" /><action id="a8" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T18:22:16"><controller name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><actionGroup id="ag1" /><action id="a10" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T19:59:20"><controller name="Material1" /><insert type="rule"><Type>Sql</Type><CommandName>New</CommandName><Phase>Execute</Phase><Script>SET Registrado_Desde = 53</Script></insert></c><c y="NodeSet" t="2021-05-20T19:59:47"><controller name="Material1" /><rule id="r104" /><update><Script>SET Registrado_Desde_Id = 53</Script></update></c><c y="NodeSet" t="2021-05-20T20:00:32"><controller name="Material1" /><rule id="r104" /><update><Script>SET Registrado_Desde_Id == 53</Script></update></c><c y="NodeSet" t="2021-05-20T20:01:28"><controller name="Material1" /><rule id="r104" /><update><Script>SET @Registrado_Desde_Id = 53</Script></update></c><c y="NodeSet" t="2021-05-20T20:54:39"><controller name="Material" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0</FilterExpression></update></c><c y="NodeSet" t="2021-05-20T20:59:27"><controller name="Material" /><view id="grid1" /><dataField fieldName="Mrp_Type_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-20T21:02:08"><controller name="Material1" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0</FilterExpression></update></c><c y="NodeSet" t="2021-05-21T09:28:28"><controller name="Material_Ubicacion_Stock1" /><rule id="r104" /><update><Script>-- NUEVO METODO

DECLARE @Es_Almacen BIT
    ,@Es_Piso BIT
    ,@Material_Ubicacion_Stock_Existente_Aumentar_Id BIGINT
    ,@Transaccion_Id UNIQUEIDENTIFIER = NEWID()
    ,@Fecha_Creacion DATETIME = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    ,@Permitir_Combinar_Registros BIT
    -- Variables para considerar si cambio algun campo "importante"
    ,@Tipo_Almacenamiento_Anterior_Id INT
    ,@Ubicacion_Almacenamiento_Anterior_Id INT
    ,@Tipo_Ubicacion_Anterior_Id INT
    ,@Total_Stock_Anterior NUMERIC(15,4)


-- Validar primero si cambio en algun dato imporanten con respecto a los datos anteriores
SELECT TOP 1
     @Tipo_Almacenamiento_Anterior_Id = Tipo_Almacenamiento_Id
    ,@Ubicacion_Almacenamiento_Anterior_Id = Ubicacion_Almacenamiento_Id
    ,@Tipo_Ubicacion_Anterior_Id = Tipo_Ubicacion_Id
    ,@Total_Stock_Anterior = Total_Stock
FROM APP.Material_Ubicacion_Stock
WHERE Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id

SET @Tipo_Almacenamiento_Id = ISNULL(@Tipo_Almacenamiento_Id,0)
SET @Ubicacion_Almacenamiento_Id = ISNULL(@Ubicacion_Almacenamiento_Id,0)
SET @Tipo_Ubicacion_Id = ISNULL(@Tipo_Ubicacion_Id,0)

IF (
    @Tipo_Almacenamiento_Anterior_Id &lt;&gt; @Tipo_Almacenamiento_Id
    OR @Ubicacion_Almacenamiento_Anterior_Id &lt;&gt; @Ubicacion_Almacenamiento_Id
    OR @Tipo_Ubicacion_Anterior_Id &lt;&gt; @Tipo_Ubicacion_Id
)
BEGIN
    ------------------------------------------------
    -- ***** SIGNIFICA UN MOVIMIENTO ENTRE BINES
    ------------------------------------------------
    -- Alguno de estos campos cambiaron
    -- Verificar si el registro actual es piso o almacen
    SELECT TOP 1
         @Es_Almacen = Es_Almacen
        ,@Es_Piso = Es_Piso
    FROM APP.Tipo_Ubicacion
    WHERE Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id

    IF @Es_Almacen = 1
    BEGIN
        -- Se est√° moviendo a almac√©n
        SET @Material_Ubicacion_Stock_Existente_Aumentar_Id = ISNull((
            SELECT TOP 1 Material_Ubicacion_Stock_Id
            FROM APP.Material_Ubicacion_Stock
            WHERE Material_Id = @Material_Id
            AND Tipo_Almacenamiento_Id = @Tipo_Almacenamiento_Id
            AND Ubicacion_Almacenamiento_Id = @Ubicacion_Almacenamiento_Id
            AND Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id	
            AND Estatus_Registro_Id = 1 --- Considerar solo activos
            AND Material_Ubicacion_Stock_Id &lt;&gt; @Material_Ubicacion_Stock_Id -- buscar si hay registro que no sea este
        ),0)
    END
    ELSE IF @Es_Piso = 1
    BEGIN
        -- Se esta moviendo a piso
        SET @Material_Ubicacion_Stock_Existente_Aumentar_Id = ISNull((
            SELECT TOP 1 Material_Ubicacion_Stock_Id
            FROM APP.Material_Ubicacion_Stock
            WHERE Material_Id = @Material_Id
            AND Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id
            AND Estatus_Registro_Id = 1 --- Considerar solo activos
            AND Material_Ubicacion_Stock_Id &lt;&gt; @Material_Ubicacion_Stock_Id -- buscar si hay registro que no sea este
        ),0)
    END

    IF @Material_Ubicacion_Stock_Existente_Aumentar_Id = 0 
    BEGIN
        -- Crear nuevo registro de inventario al cual llevar la cantidad 
        INSERT INTO APP.Material_Ubicacion_Stock (
             Material_Id
            ,Tipo_Almacenamiento_Id
            ,Ubicacion_Almacenamiento_Id
            ,Tipo_Ubicacion_Id
            ,Total_Stock
            ,Registrado_Desde_Id
            ------------------------------
            ,Transaccion_Id
            ,Creado_Por_Id
            ,Fecha_Creacion
            ,Actualizado_Por_Id
            ,Fecha_Ultima_Actualizacion
        ) VALUES (
             @Material_Id
            ,@Tipo_Almacenamiento_Id
            ,@Ubicacion_Almacenamiento_Id
            ,@Tipo_Ubicacion_Id
            ,0 -- Total_Stock
            ,41 -- Registrado_Desde_Id, 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
            ------------------------------
            ,@Transaccion_Id -- Transaccion_Id
            ,@BusinessRules_UserId -- Creado_Por_Id
            ,@Fecha_Creacion -- Fecha_Creacion
            ,@BusinessRules_UserId -- Actualizado_Por_Id
            ,@Fecha_Creacion -- Fecha_Ultima_Actualizacion
        )
        SET @Material_Ubicacion_Stock_Existente_Aumentar_Id = @@IDENTITY

    END

    INSERT INTO APP.Material_Ubicacion_Stock_Historial (
        Material_Ubicacion_Stock_Id
        ,Material_Id
        ,Material
        ,Tipo_Almacenamiento_Id
        ,Tipo_Almacenamiento
        ,Ubicacion_Almacenamiento_Id
        ,Ubicacion_Almacenamiento
        ,Tipo_Ubicacion_Id
        ,Clave_Tipo_Ubicacion
        ,Total_Stock_Before
        ,Total_Stock
        ,Til
        ,Registrado_Desde_Id
        ,Ruta_Optima_Id
        ,Material_Surtido_Id
        ,Cantidad
        ,Operacion
        ,PO
        ------------------------------
        ,Transaccion_Id
        ,Creado_Por_Id
        ,Fecha_Creacion
        ,Actualizado_Por_Id
        ,Fecha_Ultima_Actualizacion
    ) SELECT TOP 1
        Material_Ubicacion_Stock_Id
        ,MUS.Material_Id
        ,MAT.Material
        ,MUS.Tipo_Almacenamiento_Id
        ,TA.Tipo_Almacenamiento
        ,MUS.Ubicacion_Almacenamiento_Id
        ,UA.Ubicacion_Almacenamiento
        ,MUS.Tipo_Ubicacion_Id
        ,TU.Clave_Tipo_Ubicacion
        ,MUS.Total_Stock-- Total_Stock_Before
        ,MUS.Total_Stock + @Total_Stock -- Total_Stock
        ,MUS.Til
        ,41 --- 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
        ,0 -- Ruta_Optima_Id
        ,0 -- Material_Surtido_Id
        ,@Total_Stock -- Cantidad
        ,'Movimiento entre ubicaciones desde pantalla (incremento)' -- Operacion
        ,@PO
        ------------------------------
        ,@Transaccion_Id -- Transaccion_Id
        ,@BusinessRules_UserId -- Creado_Por_Id
        ,@Fecha_Creacion -- Fecha_Creacion
        ,@BusinessRules_UserId -- Actualizado_Por_Id
        ,@Fecha_Creacion -- Fecha_Ultima_Actualizacion
    FROM APP.Material_Ubicacion_Stock MUS
    INNER JOIN APP.Material MAT ON MAT.Material_Id = MUS.Material_Id
    INNER JOIN APP.Ubicacion_Almacenamiento UA ON UA.Ubicacion_Almacenamiento_Id = MUS.Ubicacion_Almacenamiento_Id
    INNER JOIN APP.Tipo_Almacenamiento TA ON TA.Tipo_Almacenamiento_Id = MUS.Tipo_Almacenamiento_Id
    INNER JOIN APP.Tipo_Ubicacion TU ON TU.Tipo_Ubicacion_Id = MUS.Tipo_Ubicacion_Id
    WHERE MUS.Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Existente_Aumentar_Id

    -- Sumar La cantidad de los dos registros en inventario
    UPDATE APP.Material_Ubicacion_Stock SET
        Total_Stock = Total_Stock + @Total_Stock
        ,Tipo_Almacenamiento_Id = ISNULL(@Tipo_Almacenamiento_Id,0)
        ,Ubicacion_Almacenamiento_Id = ISNULL(@Ubicacion_Almacenamiento_Id,0)
        ,Til = ISNULL(@Til,0)
        ,Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id
        ,PO = @PO
        -----------------------------------------------
        ,Transaccion_Id = @Transaccion_Id
        ,Actualizado_Por_Id = @BusinessRules_UserId
        ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
    WHERE Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Existente_Aumentar_Id

    -- Guardar que el segundo registro se decont√≥
    INSERT INTO APP.Material_Ubicacion_Stock_Historial (
        Material_Ubicacion_Stock_Id
        ,Material_Id
        ,Material
        ,Tipo_Almacenamiento_Id
        ,Tipo_Almacenamiento
        ,Ubicacion_Almacenamiento_Id
        ,Ubicacion_Almacenamiento
        ,Tipo_Ubicacion_Id
        ,Clave_Tipo_Ubicacion
        ,Total_Stock_Before
        ,Total_Stock
        ,Til
        ,Registrado_Desde_Id
        ,Ruta_Optima_Id
        ,Material_Surtido_Id
        ,Cantidad
        ,Operacion
        ,PO
        ------------------------------
        ,Transaccion_Id
        ,Creado_Por_Id
        ,Fecha_Creacion
        ,Actualizado_Por_Id
        ,Fecha_Ultima_Actualizacion
    ) SELECT TOP 1
        Material_Ubicacion_Stock_Id
        ,MUS.Material_Id
        ,MAT.Material
        ,MUS.Tipo_Almacenamiento_Id
        ,TA.Tipo_Almacenamiento
        ,MUS.Ubicacion_Almacenamiento_Id
        ,UA.Ubicacion_Almacenamiento
        ,MUS.Tipo_Ubicacion_Id
        ,TU.Clave_Tipo_Ubicacion
        ,MUS.Total_Stock-- Total_Stock_Before
        ,Total_Stock - @Total_Stock --0 -- Total_Stock
        ,MUS.Til
        ,41 --- 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
        ,0 -- Ruta_Optima_Id
        ,0 -- Material_Surtido_Id
        ,@Total_Stock -- Cantidad
        ,'Movimiento entre ubicaciones desde pantalla (Descuento)' -- Operacion
        ,MUS.PO
        ------------------------------
        ,@Transaccion_Id -- Transaccion_Id
        ,@BusinessRules_UserId -- Creado_Por_Id
        ,@Fecha_Creacion -- Fecha_Creacion
        ,@BusinessRules_UserId -- Actualizado_Por_Id
        ,@Fecha_Creacion -- Fecha_Ultima_Actualizacion
    FROM APP.Material_Ubicacion_Stock MUS
    INNER JOIN APP.Material MAT ON MAT.Material_Id = MUS.Material_Id
    INNER JOIN APP.Ubicacion_Almacenamiento UA ON UA.Ubicacion_Almacenamiento_Id = MUS.Ubicacion_Almacenamiento_Id
    INNER JOIN APP.Tipo_Almacenamiento TA ON TA.Tipo_Almacenamiento_Id = MUS.Tipo_Almacenamiento_Id
    INNER JOIN APP.Tipo_Ubicacion TU ON TU.Tipo_Ubicacion_Id = MUS.Tipo_Ubicacion_Id
    WHERE MUS.Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id


    SELECT TOP 1 
        @Material_Id = Material_Id
        --,@Material = Material
        ,@Tipo_Almacenamiento_Id = Tipo_Almacenamiento_Id
        ,@Ubicacion_Almacenamiento_Id = Ubicacion_Almacenamiento_Id
        ,@Tipo_Ubicacion_Id = Tipo_Ubicacion_Id
        ,@Til = Til
        -- ,@Tipo_Ubicacion_Id = Tipo_Ubicacion_Id
        -- ,@Clave_Tipo_Ubicacion = Clave_Tipo_Ubicacion
        ,@PO = PO
        ------------------
        --,@Estatus_Registro_Id = 2 -- Inhabilitar el registro
        ,@Total_Stock = Total_Stock - @Total_Stock
    FROM APP.Material_Ubicacion_Stock
    WHERE Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id


END
ELSE
BEGIN 
    -- Significa que se va aactualizar el inventario de forma manual
    -- Guardar en el historial la informaci√≥n que habia antes de actualizar
    INSERT INTO APP.Material_Ubicacion_Stock_Historial (
        Material_Ubicacion_Stock_Id
        ,Material_Id
        ,Material
        ,Tipo_Almacenamiento_Id
        ,Tipo_Almacenamiento
        ,Ubicacion_Almacenamiento_Id
        ,Ubicacion_Almacenamiento
        ,Tipo_Ubicacion_Id
        ,Clave_Tipo_Ubicacion
        ,Total_Stock_Before
        ,Total_Stock
        ,Til
        ,Registrado_Desde_Id
        ,Ruta_Optima_Id
        ,Material_Surtido_Id
        ,Cantidad
        ,Operacion
        ,PO
        ------------------------------
        ,Transaccion_Id
        ,Creado_Por_Id
        ,Fecha_Creacion
        ,Actualizado_Por_Id
        ,Fecha_Ultima_Actualizacion
    ) SELECT TOP 1
        Material_Ubicacion_Stock_Id
        ,MUS.Material_Id
        ,MAT.Material
        ,MUS.Tipo_Almacenamiento_Id
        ,TA.Tipo_Almacenamiento
        ,MUS.Ubicacion_Almacenamiento_Id
        ,UA.Ubicacion_Almacenamiento
        ,MUS.Tipo_Ubicacion_Id
        ,TU.Clave_Tipo_Ubicacion
        ,MUS.Total_Stock-- Total_Stock_Before
        ,@Total_Stock -- Total_Stock
        ,MUS.Til
        ,41 --- 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
        ,0 -- Ruta_Optima_Id
        ,0 -- Material_Surtido_Id
        ,@Total_Stock - MUS.Total_Stock -- Cantidad
        ,'Edici√≥n manual de registro por pantalla' -- Operacion
        ,MUS.PO
        ------------------------------
        ,@Transaccion_Id -- Transaccion_Id
        ,@BusinessRules_UserId -- Creado_Por_Id
        ,@Fecha_Creacion -- Fecha_Creacion
        ,@BusinessRules_UserId -- Actualizado_Por_Id
        ,@Fecha_Creacion -- Fecha_Ultima_Actualizacion
    FROM APP.Material_Ubicacion_Stock MUS
    INNER JOIN APP.Material MAT ON MAT.Material_Id = MUS.Material_Id
    INNER JOIN APP.Ubicacion_Almacenamiento UA ON UA.Ubicacion_Almacenamiento_Id = MUS.Ubicacion_Almacenamiento_Id
    INNER JOIN APP.Tipo_Almacenamiento TA ON TA.Tipo_Almacenamiento_Id = MUS.Tipo_Almacenamiento_Id
    INNER JOIN APP.Tipo_Ubicacion TU ON TU.Tipo_Ubicacion_Id = MUS.Tipo_Ubicacion_Id
    WHERE MUS.Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id

END










</Script></update></c><c y="NodeSet" t="2021-05-21T09:28:33"><controller name="Material_Ubicacion_Stock1" /><rule id="r104" /><update><Script>-- NUEVO METODO

DECLARE @Es_Almacen BIT
    ,@Es_Piso BIT
    ,@Material_Ubicacion_Stock_Existente_Aumentar_Id BIGINT
    ,@Transaccion_Id UNIQUEIDENTIFIER = NEWID()
    ,@Fecha_Creacion DATETIME = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    ,@Permitir_Combinar_Registros BIT
    -- Variables para considerar si cambio algun campo "importante"
    ,@Tipo_Almacenamiento_Anterior_Id INT
    ,@Ubicacion_Almacenamiento_Anterior_Id INT
    ,@Tipo_Ubicacion_Anterior_Id INT
    ,@Total_Stock_Anterior NUMERIC(15,4)


-- Validar primero si cambio en algun dato imporanten con respecto a los datos anteriores
SELECT TOP 1
     @Tipo_Almacenamiento_Anterior_Id = Tipo_Almacenamiento_Id
    ,@Ubicacion_Almacenamiento_Anterior_Id = Ubicacion_Almacenamiento_Id
    ,@Tipo_Ubicacion_Anterior_Id = Tipo_Ubicacion_Id
    ,@Total_Stock_Anterior = Total_Stock
FROM APP.Material_Ubicacion_Stock
WHERE Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id

SET @Tipo_Almacenamiento_Id = ISNULL(@Tipo_Almacenamiento_Id,0)
SET @Ubicacion_Almacenamiento_Id = ISNULL(@Ubicacion_Almacenamiento_Id,0)
SET @Tipo_Ubicacion_Id = ISNULL(@Tipo_Ubicacion_Id,0)

IF (
    @Tipo_Almacenamiento_Anterior_Id &lt;&gt; @Tipo_Almacenamiento_Id
    OR @Ubicacion_Almacenamiento_Anterior_Id &lt;&gt; @Ubicacion_Almacenamiento_Id
    OR @Tipo_Ubicacion_Anterior_Id &lt;&gt; @Tipo_Ubicacion_Id
)
BEGIN
    ------------------------------------------------
    -- ***** SIGNIFICA UN MOVIMIENTO ENTRE BINES
    ------------------------------------------------
    -- Alguno de estos campos cambiaron
    -- Verificar si el registro actual es piso o almacen
    SELECT TOP 1
         @Es_Almacen = Es_Almacen
        ,@Es_Piso = Es_Piso
    FROM APP.Tipo_Ubicacion
    WHERE Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id

    IF @Es_Almacen = 1
    BEGIN
        -- Se est√° moviendo a almac√©n
        SET @Material_Ubicacion_Stock_Existente_Aumentar_Id = ISNull((
            SELECT TOP 1 Material_Ubicacion_Stock_Id
            FROM APP.Material_Ubicacion_Stock
            WHERE Material_Id = @Material_Id
            AND Tipo_Almacenamiento_Id = @Tipo_Almacenamiento_Id
            AND Ubicacion_Almacenamiento_Id = @Ubicacion_Almacenamiento_Id
            AND Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id	
            AND Estatus_Registro_Id = 1 --- Considerar solo activos
            AND Material_Ubicacion_Stock_Id &lt;&gt; @Material_Ubicacion_Stock_Id -- buscar si hay registro que no sea este
        ),0)
    END
    ELSE IF @Es_Piso = 1
    BEGIN
        -- Se esta moviendo a piso
        SET @Material_Ubicacion_Stock_Existente_Aumentar_Id = ISNull((
            SELECT TOP 1 Material_Ubicacion_Stock_Id
            FROM APP.Material_Ubicacion_Stock
            WHERE Material_Id = @Material_Id
            AND Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id
            AND Estatus_Registro_Id = 1 --- Considerar solo activos
            AND Material_Ubicacion_Stock_Id &lt;&gt; @Material_Ubicacion_Stock_Id -- buscar si hay registro que no sea este
        ),0)
    END

    IF @Material_Ubicacion_Stock_Existente_Aumentar_Id = 0 
    BEGIN
        -- Crear nuevo registro de inventario al cual llevar la cantidad 
        INSERT INTO APP.Material_Ubicacion_Stock (
             Material_Id
            ,Tipo_Almacenamiento_Id
            ,Ubicacion_Almacenamiento_Id
            ,Tipo_Ubicacion_Id
            ,Total_Stock
            ,Registrado_Desde_Id
            ------------------------------
            ,Transaccion_Id
            ,Creado_Por_Id
            ,Fecha_Creacion
            ,Actualizado_Por_Id
            ,Fecha_Ultima_Actualizacion
        ) VALUES (
             @Material_Id
            ,@Tipo_Almacenamiento_Id
            ,@Ubicacion_Almacenamiento_Id
            ,@Tipo_Ubicacion_Id
            ,0 -- Total_Stock
            ,41 -- Registrado_Desde_Id, 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
            ------------------------------
            ,@Transaccion_Id -- Transaccion_Id
            ,@BusinessRules_UserId -- Creado_Por_Id
            ,@Fecha_Creacion -- Fecha_Creacion
            ,@BusinessRules_UserId -- Actualizado_Por_Id
            ,@Fecha_Creacion -- Fecha_Ultima_Actualizacion
        )
        SET @Material_Ubicacion_Stock_Existente_Aumentar_Id = @@IDENTITY

    END

    INSERT INTO APP.Material_Ubicacion_Stock_Historial (
        Material_Ubicacion_Stock_Id
        ,Material_Id
        ,Material
        ,Tipo_Almacenamiento_Id
        ,Tipo_Almacenamiento
        ,Ubicacion_Almacenamiento_Id
        ,Ubicacion_Almacenamiento
        ,Tipo_Ubicacion_Id
        ,Clave_Tipo_Ubicacion
        ,Total_Stock_Before
        ,Total_Stock
        ,Til
        ,Registrado_Desde_Id
        ,Ruta_Optima_Id
        ,Material_Surtido_Id
        ,Cantidad
        ,Operacion
        ,PO
        ------------------------------
        ,Transaccion_Id
        ,Creado_Por_Id
        ,Fecha_Creacion
        ,Actualizado_Por_Id
        ,Fecha_Ultima_Actualizacion
    ) SELECT TOP 1
        Material_Ubicacion_Stock_Id
        ,MUS.Material_Id
        ,MAT.Material
        ,MUS.Tipo_Almacenamiento_Id
        ,TA.Tipo_Almacenamiento
        ,MUS.Ubicacion_Almacenamiento_Id
        ,UA.Ubicacion_Almacenamiento
        ,MUS.Tipo_Ubicacion_Id
        ,TU.Clave_Tipo_Ubicacion
        ,MUS.Total_Stock-- Total_Stock_Before
        ,MUS.Total_Stock + @Total_Stock -- Total_Stock
        ,MUS.Til
        ,41 --- 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
        ,0 -- Ruta_Optima_Id
        ,0 -- Material_Surtido_Id
        ,@Total_Stock -- Cantidad
        ,'Movimiento entre ubicaciones desde pantalla (incremento)' -- Operacion
        ,@PO
        ------------------------------
        ,@Transaccion_Id -- Transaccion_Id
        ,@BusinessRules_UserId -- Creado_Por_Id
        ,@Fecha_Creacion -- Fecha_Creacion
        ,@BusinessRules_UserId -- Actualizado_Por_Id
        ,@Fecha_Creacion -- Fecha_Ultima_Actualizacion
    FROM APP.Material_Ubicacion_Stock MUS
    INNER JOIN APP.Material MAT ON MAT.Material_Id = MUS.Material_Id
    INNER JOIN APP.Ubicacion_Almacenamiento UA ON UA.Ubicacion_Almacenamiento_Id = MUS.Ubicacion_Almacenamiento_Id
    INNER JOIN APP.Tipo_Almacenamiento TA ON TA.Tipo_Almacenamiento_Id = MUS.Tipo_Almacenamiento_Id
    INNER JOIN APP.Tipo_Ubicacion TU ON TU.Tipo_Ubicacion_Id = MUS.Tipo_Ubicacion_Id
    WHERE MUS.Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Existente_Aumentar_Id

    -- Sumar La cantidad de los dos registros en inventario
    UPDATE APP.Material_Ubicacion_Stock SET
        Total_Stock = Total_Stock + @Total_Stock
        ,Tipo_Almacenamiento_Id = ISNULL(@Tipo_Almacenamiento_Id,0)
        ,Ubicacion_Almacenamiento_Id = ISNULL(@Ubicacion_Almacenamiento_Id,0)
        ,Til = ISNULL(@Til,0)
        ,Tipo_Ubicacion_Id = @Tipo_Ubicacion_Id
        ,PO = @PO
        -----------------------------------------------
        ,Transaccion_Id = @Transaccion_Id
        ,Actualizado_Por_Id = @BusinessRules_UserId
        ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
    WHERE Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Existente_Aumentar_Id

    -- Guardar que el segundo registro se decont√≥
    INSERT INTO APP.Material_Ubicacion_Stock_Historial (
        Material_Ubicacion_Stock_Id
        ,Material_Id
        ,Material
        ,Tipo_Almacenamiento_Id
        ,Tipo_Almacenamiento
        ,Ubicacion_Almacenamiento_Id
        ,Ubicacion_Almacenamiento
        ,Tipo_Ubicacion_Id
        ,Clave_Tipo_Ubicacion
        ,Total_Stock_Before
        ,Total_Stock
        ,Til
        ,Registrado_Desde_Id
        ,Ruta_Optima_Id
        ,Material_Surtido_Id
        ,Cantidad
        ,Operacion
        ,PO
        ------------------------------
        ,Transaccion_Id
        ,Creado_Por_Id
        ,Fecha_Creacion
        ,Actualizado_Por_Id
        ,Fecha_Ultima_Actualizacion
    ) SELECT TOP 1
        Material_Ubicacion_Stock_Id
        ,MUS.Material_Id
        ,MAT.Material
        ,MUS.Tipo_Almacenamiento_Id
        ,TA.Tipo_Almacenamiento
        ,MUS.Ubicacion_Almacenamiento_Id
        ,UA.Ubicacion_Almacenamiento
        ,MUS.Tipo_Ubicacion_Id
        ,TU.Clave_Tipo_Ubicacion
        ,MUS.Total_Stock-- Total_Stock_Before
        ,Total_Stock - @Total_Stock --0 -- Total_Stock
        ,MUS.Til
        ,41 --- 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
        ,0 -- Ruta_Optima_Id
        ,0 -- Material_Surtido_Id
        ,@Total_Stock -- Cantidad
        ,'Movimiento entre ubicaciones desde pantalla (Descuento)' -- Operacion
        ,MUS.PO
        ------------------------------
        ,@Transaccion_Id -- Transaccion_Id
        ,@BusinessRules_UserId -- Creado_Por_Id
        ,@Fecha_Creacion -- Fecha_Creacion
        ,@BusinessRules_UserId -- Actualizado_Por_Id
        ,@Fecha_Creacion -- Fecha_Ultima_Actualizacion
    FROM APP.Material_Ubicacion_Stock MUS
    INNER JOIN APP.Material MAT ON MAT.Material_Id = MUS.Material_Id
    INNER JOIN APP.Ubicacion_Almacenamiento UA ON UA.Ubicacion_Almacenamiento_Id = MUS.Ubicacion_Almacenamiento_Id
    INNER JOIN APP.Tipo_Almacenamiento TA ON TA.Tipo_Almacenamiento_Id = MUS.Tipo_Almacenamiento_Id
    INNER JOIN APP.Tipo_Ubicacion TU ON TU.Tipo_Ubicacion_Id = MUS.Tipo_Ubicacion_Id
    WHERE MUS.Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id


    SELECT TOP 1 
        @Material_Id = Material_Id
        --,@Material = Material
        ,@Tipo_Almacenamiento_Id = Tipo_Almacenamiento_Id
        ,@Ubicacion_Almacenamiento_Id = Ubicacion_Almacenamiento_Id
        ,@Tipo_Ubicacion_Id = Tipo_Ubicacion_Id
        ,@Til = Til
        -- ,@Tipo_Ubicacion_Id = Tipo_Ubicacion_Id
        -- ,@Clave_Tipo_Ubicacion = Clave_Tipo_Ubicacion
        ,@PO = PO
        ------------------
        --,@Estatus_Registro_Id = 2 -- Inhabilitar el registro
        ,@Total_Stock = Total_Stock - @Total_Stock
    FROM APP.Material_Ubicacion_Stock
    WHERE Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id


END
ELSE
BEGIN 
    -- Significa que se va aactualizar el inventario de forma manual
    -- Guardar en el historial la informaci√≥n que habia antes de actualizar
    INSERT INTO APP.Material_Ubicacion_Stock_Historial (
        Material_Ubicacion_Stock_Id
        ,Material_Id
        ,Material
        ,Tipo_Almacenamiento_Id
        ,Tipo_Almacenamiento
        ,Ubicacion_Almacenamiento_Id
        ,Ubicacion_Almacenamiento
        ,Tipo_Ubicacion_Id
        ,Clave_Tipo_Ubicacion
        ,Total_Stock_Before
        ,Total_Stock
        ,Til
        ,Registrado_Desde_Id
        ,Ruta_Optima_Id
        ,Material_Surtido_Id
        ,Cantidad
        ,Operacion
        ,PO
        ------------------------------
        ,Transaccion_Id
        ,Creado_Por_Id
        ,Fecha_Creacion
        ,Actualizado_Por_Id
        ,Fecha_Ultima_Actualizacion
    ) SELECT TOP 1
        Material_Ubicacion_Stock_Id
        ,MUS.Material_Id
        ,MAT.Material
        ,MUS.Tipo_Almacenamiento_Id
        ,TA.Tipo_Almacenamiento
        ,MUS.Ubicacion_Almacenamiento_Id
        ,UA.Ubicacion_Almacenamiento
        ,MUS.Tipo_Ubicacion_Id
        ,TU.Clave_Tipo_Ubicacion
        ,MUS.Total_Stock-- Total_Stock_Before
        ,@Total_Stock -- Total_Stock
        ,MUS.Til
        ,41 --- 'Inventario afectado desde pantalla (Actualizar o registrar inventario material)
        ,0 -- Ruta_Optima_Id
        ,0 -- Material_Surtido_Id
        ,@Total_Stock - MUS.Total_Stock -- Cantidad
        ,'Edici√≥n manual de registro por pantalla' -- Operacion
        ,MUS.PO
        ------------------------------
        ,@Transaccion_Id -- Transaccion_Id
        ,@BusinessRules_UserId -- Creado_Por_Id
        ,@Fecha_Creacion -- Fecha_Creacion
        ,@BusinessRules_UserId -- Actualizado_Por_Id
        ,@Fecha_Creacion -- Fecha_Ultima_Actualizacion
    FROM APP.Material_Ubicacion_Stock MUS
    INNER JOIN APP.Material MAT ON MAT.Material_Id = MUS.Material_Id
    INNER JOIN APP.Ubicacion_Almacenamiento UA ON UA.Ubicacion_Almacenamiento_Id = MUS.Ubicacion_Almacenamiento_Id
    INNER JOIN APP.Tipo_Almacenamiento TA ON TA.Tipo_Almacenamiento_Id = MUS.Tipo_Almacenamiento_Id
    INNER JOIN APP.Tipo_Ubicacion TU ON TU.Tipo_Ubicacion_Id = MUS.Tipo_Ubicacion_Id
    WHERE MUS.Material_Ubicacion_Stock_Id = @Material_Ubicacion_Stock_Id

END










</Script></update></c><c y="NodeSet" t="2021-05-21T09:29:41"><controller name="Grid_Ruta_Optima_A_Ejecutar_V" /><view id="editForm1" /><dataField fieldName="Material_Descripcion" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-21T09:29:52"><controller name="Grid_Ruta_Optima_A_Ejecutar_V" /><view id="editForm1" /><dataField fieldName="Cantidad_Solicitado" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-21T09:30:45"><controller name="Grid_Material_Pte_Por_Surtir_Con_Area_Asignada_V" /><view id="editForm1" /><dataField fieldName="Cantidad_Solicitado" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-21T10:15:11"><controller name="Grid_Material_Surtido_A_Ejecutar_V" /><view id="editForm1" /><dataField fieldName="Cantidad_Solicitado" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-21T10:16:12"><controller name="Solicitud2" /><view id="editForm1" /><category id="c1" /><copy><controller name="Solicitud2" /><field name="Categoria_Es_Material_Indirecto" /></copy></c><c y="NodeSet" t="2021-05-21T10:16:21"><controller name="Solicitud2" /><view id="editForm1" /><dataField fieldName="Categoria_Es_Material_Indirecto" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T15:00:56"><controller name="Estatus_Movimiento" /><field name="SignificaEnviadoATransferir" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T15:01:04"><controller name="Estatus_Movimiento" /><field name="En_Proceso_Enviado_A_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T15:02:43"><controller name="Bitacora_Captura_Sap" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T15:03:00"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T15:03:04"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><dataField fieldName="Devolucion_Destino_Ubicacion_Almacenamiento" /><move><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /></move></c><c y="NodeSet" t="2021-05-27T15:03:06"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><dataField fieldName="Es_Transferencia_De_Material" /><move><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /></move></c><c y="NodeSet" t="2021-05-27T15:03:44"><controller name="Bitacora_Captura_Sap" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Es_Captura_Remota" /><move><controller name="Bitacora_Captura_Sap" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /></move></c><c y="NodeSet" t="2021-05-27T15:03:58"><controller name="Bitacora_Captura_Sap" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Es_Captura_Remota" /><move><controller name="Bitacora_Captura_Sap" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /></move></c><c y="NodeSet" t="2021-05-27T15:04:29"><controller name="Bitacora_Captura_Sap1" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T15:05:46"><controller name="Bitacora_Captura_Sap" /><clone /></c><c y="NodeSet" t="2021-05-27T15:36:20"><controller name="Bitacora_Captura_Sap3" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0 AND Estatus_Movimiento_Id = 8 </FilterExpression></update></c><c y="NodeSet" t="2021-05-27T15:37:06"><controller name="Bitacora_Captura_Sap3" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0 AND Estatus_Movimiento_Id = 8 AND Movimiento_Solicitado_Por_Id = @BusinessRules_UserId </FilterExpression></update></c><c y="NodeSet" t="2021-05-27T15:39:29"><controller name="Bitacora_Captura_Sap3" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0 AND Estatus_Captura_Sap_Id = 1 AND Movimiento_Solicitado_Por_Id = @BusinessRules_UserId </FilterExpression></update></c><c y="NodeSet" t="2021-05-27T15:45:50"><controller name="Bitacora_Captura_Sap3" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0 AND Estatus_Captura_Sap_Id = 1 AND Solicitado_Por_Id = @BusinessRules_UserId </FilterExpression></update></c><c y="NodeSet" t="2021-05-27T15:46:35"><controller name="Bitacora_Captura_Sap3" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0 AND Estatus_Captura_Sap_Id = 1 AND Creado_Por_Id = @BusinessRules_UserId </FilterExpression></update></c><c y="NodeSet" t="2021-05-27T15:48:19"><controller name="Bitacora_Captura_Sap3" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0 AND Estatus_Captura_Sap_Id = 1 AND Creado_Por = @BusinessRules_UserId </FilterExpression></update></c><c y="NodeSet" t="2021-05-27T16:02:49"><controller name="Bitacora_Captura_Sap3" /><delete /></c><c y="NodeSet" t="2021-05-27T16:05:40"><controller name="Bitacora_Captura_Sap1_2" /><rule id="r102" /><move><controller name="Bitacora_Captura_Sap1_2" /><rule id="r103" /></move></c><c y="NodeSet" t="2021-05-27T16:06:20"><controller name="Bitacora_Captura_Sap1_2" /><clone /></c><c y="NodeSet" t="2021-05-27T16:12:16"><controller name="Bitacora_Captura_Sap" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:12:59"><controller name="Bitacora_Captura_Sap" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:13:13"><controller name="Bitacora_Captura_Sap" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:13:33"><controller name="Bitacora_Captura_Sap" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:13:52"><controller name="Bitacora_Captura_Sap1" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:14:15"><controller name="Bitacora_Captura_Sap1" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:14:38"><controller name="Bitacora_Captura_Sap1" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:15:08"><controller name="Bitacora_Captura_Sap1_1" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:15:15"><controller name="Bitacora_Captura_Sap1_1" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:15:31"><controller name="Bitacora_Captura_Sap1_1" /><view id="grid1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:15:37"><controller name="Bitacora_Captura_Sap1_1" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:15:49"><controller name="Bitacora_Captura_Sap1_1" /><view id="grid1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:15:58"><controller name="Bitacora_Captura_Sap1_1" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:16:14"><controller name="Bitacora_Captura_Sap1_1" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:16:21"><controller name="Bitacora_Captura_Sap1_1" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:16:41"><controller name="Bitacora_Captura_Sap1_2" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:17:00"><controller name="Bitacora_Captura_Sap1_2" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:17:13"><controller name="Bitacora_Captura_Sap1_2" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:17:19"><controller name="Bitacora_Captura_Sap1_2" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:17:37"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:17:43"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:18:00"><controller name="Bitacora_Captura_Sap1_2_2" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:18:06"><controller name="Bitacora_Captura_Sap1_2_2" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:18:24"><controller name="Bitacora_Captura_Sap1_2_1" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:18:30"><controller name="Bitacora_Captura_Sap1_2_1" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:18:56"><controller name="Bitacora_Captura_Sap1_2_2" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:19:03"><controller name="Bitacora_Captura_Sap1_2_2" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:19:31"><controller name="Bitacora_Captura_Sap2" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:19:43"><controller name="Bitacora_Captura_Sap2" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:19:59"><controller name="Bitacora_Captura_Sap2" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:20:06"><controller name="Bitacora_Captura_Sap2" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:20:18"><controller name="Bitacora_Captura_Sap2" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:20:44"><controller name="Bitacora_Captura_Sap2_1" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:20:51"><controller name="Bitacora_Captura_Sap2_1" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:21:10"><controller name="Bitacora_Captura_Sap2_1" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:21:27"><controller name="Bitacora_Captura_Sap2_1" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:21:33"><controller name="Bitacora_Captura_Sap2_1" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:21:53"><controller name="Bitacora_Captura_Sap2_2" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:22:02"><controller name="Bitacora_Captura_Sap2_2" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:22:17"><controller name="Bitacora_Captura_Sap2_2" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:22:26"><controller name="Bitacora_Captura_Sap2_2" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:22:33"><controller name="Bitacora_Captura_Sap2_2" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:22:47"><controller name="Bitacora_Captura_Sap2_3" /><field name="Es_Paso_Uno_Transferencia" /><move><controller name="Bitacora_Captura_Sap2_3" /><field name="Movimiento_Descto_Stock_En_Piso" /></move></c><c y="NodeSet" t="2021-05-27T16:22:50"><controller name="Bitacora_Captura_Sap2_3" /><field name="Movimiento_Descto_Stock_En_Piso" /><move><controller name="Bitacora_Captura_Sap2_3" /><field name="Es_Paso_Uno_Transferencia" /></move></c><c y="NodeSet" t="2021-05-27T16:22:57"><controller name="Bitacora_Captura_Sap2_3" /><field name="Movimiento_Descto_Stock_En_Piso" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:23:05"><controller name="Bitacora_Captura_Sap2_3" /><field name="Es_Paso_Uno_Transferencia" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-05-27T16:23:25"><controller name="Bitacora_Captura_Sap2_3" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:23:41"><controller name="Bitacora_Captura_Sap2_3" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:23:42"><controller name="Bitacora_Captura_Sap2_3" /><view id="editForm1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:23:47"><controller name="Bitacora_Captura_Sap2_3" /><view id="editForm1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T16:33:48"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="grid1" /><update><Label>Bit√°cora Captura SAP (Transferencia Pendientes)</Label></update></c><c y="NodeSet" t="2021-05-27T16:34:37"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="editForm1" /><update><Label>Actualizar Bit√°cora Captura SAP (Transferencia Pendientes)</Label></update></c><c y="NodeSet" t="2021-05-27T16:34:43"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="createForm1" /><update><Label>Nueva Bit√°cora Captura SAP (Transferencia Pendientes)</Label></update></c><c y="NodeSet" t="2021-05-27T16:34:47"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="createForm1" /><update><ShowInSelector>false</ShowInSelector></update></c><c y="NodeSet" t="2021-05-27T16:34:53"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="editForm1" /><update><ShowInSelector>false</ShowInSelector></update></c><c y="NodeSet" t="2021-05-27T18:36:30"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="grid1" /><dataField fieldName="Es_Paso_Uno_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-27T18:36:38"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="grid1" /><dataField fieldName="Movimiento_Descto_Stock_En_Piso" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-28T14:19:08"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="grid1" /><dataField fieldName="Es_Captura_Manual_Con_Pdf" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-28T14:19:22"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="editForm1" /><dataField fieldName="Es_Captura_Manual_Con_Pdf" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T10:21:56"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="grid1" /><dataField fieldName="Devolucion_Material_Descripcion" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T10:22:10"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="grid1" /><dataField fieldName="Material_Descripcion" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T10:22:57"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="editForm1" /><dataField fieldName="Material_Descripcion" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T11:24:58"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="editForm1" /><dataField fieldName="Devolucion_Material_Descripcion" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T11:43:55"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="grid1" /><dataField fieldName="Devolucion_Material_Descripcion" /><update><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T16:36:59"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="editForm1" /><dataField fieldName="Transferencia_Ubicacion_Almacenamiento_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T16:37:29"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="editForm1" /><dataField fieldName="Transferencia_Ubicacion_Almacenamiento_Id" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T16:53:18"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="editForm1" /><dataField fieldName="Cantidad_A_Transferir" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T16:54:03"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="editForm1" /><dataField fieldName="Cantidad_A_Transferir" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-05-31T17:04:55"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><field name="Transferencia_En_Ubicacion_Almacenamiento_Id" /><update><Label>ubicacion de almacen</Label><Copy>Transferencia_En_Ubicacion_Almacenamiento_Id=Ubicacion_Almacenamiento_Id
Transferencia_En_Ubicacion_Almacenamiento=Ubicacion_Almacenamiento,
Material_Ubicacion_Stock_Id=Material_Ubicacion_Stock_Id</Copy></update></c><c y="NodeSet" t="2021-05-31T17:05:56"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><field name="Transferencia_En_Ubicacion_Almacenamiento_Id" /><update><Label>Transferencia En Ubicacion Almacenamiento Id</Label><Copy>Transferencia_En_Ubicacion_Almacenamiento_Id=Ubicacion_Almacenamiento_Id
Transferencia_En_Ubicacion_Almacenamiento=Ubicacion_Almacenamiento,
Material_Ubicacion_Stock_Id=Material_Ubicacion_Stock_Id</Copy></update></c><c y="NodeSet" t="2021-05-31T17:10:38"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Movimiento_Ruta_Optima_Id" /><move><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Transferencia_Material" /></move></c><c y="NodeSet" t="2021-05-31T17:11:06"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Transferencia_Material" /><move><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Transferencia_Material_Desc" /></move></c><c y="NodeSet" t="2021-05-31T17:11:55"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Transferencia_Material" /><move><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Cantidad_Transferido" /></move></c><c y="NodeSet" t="2021-05-31T17:12:19"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Transferencia_Material_Desc" /><move><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Cantidad_Transferido" /></move></c><c y="NodeSet" t="2021-05-31T17:12:56"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Transferencia_Material" /><move><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Cantidad_A_Transferir" /></move></c><c y="NodeSet" t="2021-05-31T17:13:27"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Transferencia_Material_Desc" /><move><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="grid1" /><dataField fieldName="Cantidad_A_Transferir" /></move></c><c y="NodeSet" t="2021-05-31T17:28:32"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><view id="editForm1" /><update><Label>Transferencia de Material en Ruta √ìptima.</Label></update></c><c y="NodeSet" t="2021-05-31T17:43:23"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><actionGroup id="ag4" /><action id="a1" /><update><WhenKeySelected>false</WhenKeySelected></update></c><c y="NodeSet" t="2021-05-31T17:44:03"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><actionGroup id="ag4" /><action id="a1" /><update><WhenKeySelected>true</WhenKeySelected></update></c><c y="NodeSet" t="2021-05-31T17:56:34"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><insert type="rule"><Type>Sql</Type><CommandName>edit</CommandName><Phase>Execute</Phase><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0 BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento_Id = ' '
END

IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0 BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento_Id = ' '
END</Script></insert></c><c y="NodeSet" t="2021-05-31T18:09:34"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF [Transferencia_En_Ubicacion_Almacenamiento_Id] = 0 BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = ' '
END
</Script></update></c><c y="NodeSet" t="2021-05-31T18:10:53"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF [Transferencia_En_Ubicacion_Almacenamiento_Id] = 0 BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = ' '
END
</Script></update></c><c y="NodeSet" t="2021-05-31T18:14:45"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF [Transferencia_En_Ubicacion_Almacenamiento_Id] = 0 
BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento_Id = ' '
END
</Script></update></c><c y="NodeSet" t="2021-05-31T18:20:38"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF [Transferencia_En_Ubicacion_Almacenamiento_Id] = 0 

BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = ' '
END
</Script></update></c><c y="NodeSet" t="2021-05-31T18:21:28"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF Transferencia_En_Ubicacion_Almacenamiento_Id = 0 
BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = ' '
END
</Script></update></c><c y="NodeSet" t="2021-05-31T18:22:19"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF Transferencia_En_Ubicacion_Almacenamiento_Id = 0 
BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = 'h'
END
</Script></update></c><c y="NodeSet" t="2021-05-31T18:23:10"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF Transferencia_En_Ubicacion_Almacenamiento_Id = 0 
BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = ' '
END
</Script></update></c><c y="NodeSet" t="2021-05-31T18:23:41"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0 
BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = ' '
END
</Script></update></c><c y="NodeSet" t="2021-05-31T18:24:19"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0 
BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = ' '
END
</Script></update></c><c y="NodeSet" t="2021-05-31T18:38:39"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0 
BEGIN
SET @Ubicacion_Almacenamiento = ' '
END</Script></update></c><c y="NodeSet" t="2021-05-31T18:39:49"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0 
BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = ' '
END</Script></update></c><c y="NodeSet" t="2021-05-31T19:10:47"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0 
BEGIN
SET @Transferencia_En_Ubicacion_Almacenamiento = ' '
END

IF @Transferencia_Ubicacion_Almacenamiento_Id = 0 
BEGIN
SET @Transferencia_Ubicacion_Almacenamiento = ' '
END</Script></update></c><c y="NodeSet" t="2021-05-31T19:14:31"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>if 0 =0 </Script></update></c><c y="NodeSet" t="2021-05-31T19:26:23"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>if @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN
 		@Transferencia_En_Ubicacion_Almacenamiento = 'NULL'
END</Script></update></c><c y="NodeSet" t="2021-05-31T19:32:14"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>if @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN
 		@Transferencia_En_Ubicacion_Almacenamiento = ''
END</Script></update></c><c y="NodeSet" t="2021-05-31T19:41:55"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>if @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN
 	 Transferencia_En_Ubicacion_Almacenamiento = ''
END</Script></update></c><c y="NodeSet" t="2021-05-31T19:53:48"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>iF EXISTS(SELECT * FROM [dbo].[Mov_Transfer_Ruta_Optima_A_Ejecutar_V] WHERE Transferencia_En_Ubicacion_Almacenamiento_Id = 0)
BEGIN
 		UPDATE [dbo].[Mov_Transfer_Ruta_Optima_A_Ejecutar_V]
    SET Transferencia_En_Ubicacion_Almacenamiento = ''
END</Script></update></c><c y="NodeSet" t="2021-05-31T19:57:22"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>iF EXISTS(SELECT * FROM [dbo].[Mov_Transfer_Ruta_Optima_A_Ejecutar_V] WHERE Transferencia_En_Ubicacion_Almacenamiento_Id = 0)
BEGIN
 		UPDATE [dbo].[Mov_Transfer_Ruta_Optima_A_Ejecutar_V]
    	SET Transferencia_En_Ubicacion_Almacenamiento = ''
END</Script></update></c><c y="NodeSet" t="2021-05-31T20:08:59"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>iF  @Transferencia_En_Ubicacion_Almacenamiento = 'Sin Ubicacion Almacenamiento'
BEGIN
 		SELECT REPLACE('Sin Ubicacion Almacenamiento','Sin Ubicacion Almacenamiento','');

END</Script></update></c><c y="NodeSet" t="2021-05-31T20:12:53"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><delete /></c><c y="NodeSet" t="2021-06-01T10:03:12"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><insert type="rule"><Type>Sql</Type><CommandName>Validar</CommandName><Phase>After</Phase><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN 
   
END</Script></insert></c><c y="NodeSet" t="2021-06-01T10:32:21"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   dbo.mov_transfer_ruta_optima_a_ejecutar_v
WHERE
   @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
   AND @Cantidad_A_Transferir &lt;&gt; 0

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2021-06-01T10:34:42"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   dbo.mov_transfer_ruta_optima_a_ejecutar_v
WHERE
   @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
   AND @Cantidad_A_Transferir &lt;&gt; 0

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script><Phase>Before</Phase></update></c><c y="NodeSet" t="2021-06-01T10:35:58"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   dbo.mov_transfer_ruta_optima_a_ejecutar_v
WHERE
   @Transferencia_En_Ubicacion_Almacenamiento_Id = 0

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2021-06-01T10:37:55"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2021-06-01T10:43:02"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 

IF @Transferencia_Ubicacion_Almacenamiento = ''
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END</Script></update></c><c y="NodeSet" t="2021-06-01T10:46:44"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 

IF @Transferencia_En_Ubicacion_Almacenamiento = ''
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END
IF @Transferencia_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 

IF @Transferencia_Ubicacion_Almacenamiento = ''
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END
</Script></update></c><c y="NodeSet" t="2021-06-01T10:50:15"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 

IF @Ubicacion_Almacenamiento = ''
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END
IF @Transferencia_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 

</Script></update></c><c y="NodeSet" t="2021-06-01T10:52:09"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 

IF @Ubicacion_Almacenamiento = ''
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END
IF @Transferencia_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 

</Script><Phase>Execute</Phase></update></c><c y="NodeSet" t="2021-06-01T11:14:15"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1" /><field name="Esta_En_Bcsap" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-06-01T11:14:25"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1" /><view id="grid1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:14:39"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1" /><view id="editForm1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:14:54"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1" /><view id="createForm1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:15:17"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento2" /><field name="Esta_En_Bcsap" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-06-01T11:15:35"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento2" /><view id="grid1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:15:44"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento2" /><view id="editForm1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:16:18"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento2" /><view id="createForm1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:16:35"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento3" /><field name="Esta_En_Bcsap" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-06-01T11:16:46"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento3" /><view id="grid1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:16:56"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento3" /><view id="editForm1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:17:05"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento3" /><view id="createForm1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:17:20"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento4" /><field name="Esta_En_Bcsap" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2021-06-01T11:17:38"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento4" /><view id="grid1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:17:49"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento4" /><view id="editForm1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:18:00"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento4" /><view id="createForm1" /><dataField fieldName="Esta_En_Bcsap" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-01T11:22:37"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0 AND Esta_En_BCSAP = 0</FilterExpression></update></c><c y="NodeSet" t="2021-06-01T11:25:01"><controller name="Mov_Dev_Ruta_Optima_A_Ejecutar_V" /><rule id="r101" /><update><Script>//this.preventDefault();
// Obtenemos el valor
var valor = $("#Cantidad_Material_Devuelto").val();
//-------------------------------//
var Ubicacion_Formulario = '';
var material_Devolucion = [Devolucion_Material];
//Variables ExecCS01
var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Movimiento_Ruta_Optima_Id = [Movimiento_Ruta_Optima_Id]
var Devolucion_Material_Id = [Devolucion_Material_Id] 
var Cantidad_A_Devolver = [Cantidad_A_Devolver]
var Cantidad_Devuelto = [Cantidad_Devuelto]
var Unidad_Material_Devuelto_Id = [Unidad_Material_Devuelto_Id]
var Devolucion_En_Ubicacion_Almacenamiento_Id = [Devolucion_En_Ubicacion_Almacenamiento_Id]
var Movimiento = [Movimiento]
var Material_Ubicacion_Stock_Id=[Material_Ubicacion_Stock_Id];

if (valor &gt; 0) {
    //Asignamos el valor al campo [Cantidad_Devuelto]
    [Cantidad_Devuelto] = valor;
    Cantidad_Devuelto = [Cantidad_Devuelto];
    Ubicacion_Formulario = [Devolucion_En_Ubicacion_Almacenamiento] + '; ';
    fnDebug("Valor: " + valor);
    fnDebug("Cantidad_Devuelto: " + [Cantidad_Devuelto]);

}

if (valor &lt; 0) {
    this.preventDefault();
    $app.alert("Ingrese cantidad de mat. v√°lido para devolver");
    $("#Cantidad_Material_Devuelto").focus();
}
else{
    if (valor &gt; [Cantidad_A_Devolver]) {
        fnDebug("&gt; Valor: " + valor);
        fnDebug("Cantidad_A_Devolver: " + [Cantidad_A_Devolver]);

        this.preventDefault();
        $app.alert("La cantidad devuelto no debe ser mayor a la cantidad a devolver.");
        $("#Cantidad_Material_Devuelto").focus();
    }
    else {
       
        $app.execute({
            controller: 'Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1'
            , filter: [
                { field: 'Devolucion_Material_Id', operator: '=', value: [Devolucion_Material_Id] },
                { field: 'Movimiento_Ruta_Optima_Id', operator: '=', value: [Movimiento_Ruta_Optima_Id] },
                { field: 'Tipo_Movimiento_Id', operator: '=', value: [Tipo_Movimiento_Id] },
                { field: 'Estatus_Registro_Id', operator: '=', value: 1 }
              	{ field: 'Esta_En_Bcsap', operator: '=', value: 0 }
            ]
            , dataType: 'json'
            , done: function (result) {
        
                if (debug === 1) {
                    console.log("result: ");
                    console.log(result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1);
                }
        
                arregloUbicaciones = result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1;
        
                var Ubicaciones_Origen = Ubicacion_Formulario;
        
                arregloUbicaciones.forEach(function (elemento, indice, array) { Ubicaciones_Origen = Ubicaciones_Origen + elemento.Devolucion_Ubicacion_Almacenamiento + '; '; });
        
                $app.confirm(
                    "Realizar√° la devoluci√≥n del material " + material_Devolucion + " en las siguientes ubicaciones: " + Ubicaciones_Origen + ". ¬øDesea continuar?"
                ).done(function (e) {
                    if (debug == true) {
                        console.log("Se confirm√≥ la operaci√≥n");
                    }
        
                    // Ejecutamos BR ExecCS01
                    // =======================
                    $app.execute({
                        controller: 'Mov_Dev_Ruta_Optima_A_Ejecutar_V'
                        , command: 'Custom'
                        , argument: 'ExecCS01'
                        , values: [
                            { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Movimiento_Ruta_Optima_Id', newValue: Movimiento_Ruta_Optima_Id }
                            , { name: 'Devolucion_Material_Id', newValue: Devolucion_Material_Id }
                            , { name: 'Cantidad_A_Devolver', newValue: Cantidad_A_Devolver }
                            , { name: 'Cantidad_Devuelto', newValue: Cantidad_Devuelto }
                            , { name: 'Unidad_Material_Devuelto_Id', newValue: Unidad_Material_Devuelto_Id }
                            , { name: 'Devolucion_En_Ubicacion_Almacenamiento_Id', newValue: Devolucion_En_Ubicacion_Almacenamiento_Id }
                            , { name: 'Movimiento', newValue: Movimiento }
                            , { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Material_Ubicacion_Stock_Id', newValue: Material_Ubicacion_Stock_Id}
                        ]
                        , done: function (result) {
                            eval(result.clientScript);
                            fnDebug("ExecCS01 result : ");
                            fnDebug(result);
            
                             // cerrar el modal que se se queda abierto
                             $app.touch.contextDataView().discard();
                             $app.touch.contextDataView().cancel();
            
                        }
                    })
                    
        
                }); // END $app.confirm(
        
            } // END done execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
        }); // END execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
    }
    this.preventDefault();
}</Script></update></c><c y="NodeSet" t="2021-06-01T11:43:39"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r103" /><update><Script>IF @Transferencia_En_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 

IF @Ubicacion_Almacenamiento = ''
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END
IF @Transferencia_Ubicacion_Almacenamiento_Id = 0
BEGIN
   SET @Result_ShowViewMessage = 'Ha ocurrido un error. Seleccione una ubicacion de almacenamiento'
   RETURN
END 

</Script></update></c><c y="NodeSet" t="2021-06-01T17:56:42"><controller name="Mov_Dev_Ruta_Optima_A_Ejecutar_V" /><rule id="r101" /><update><Script>//this.preventDefault();
// Obtenemos el valor
var valor = $("#Cantidad_Material_Devuelto").val();
//-------------------------------//
var Ubicacion_Formulario = '';
var material_Devolucion = [Devolucion_Material];
//Variables ExecCS01
var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Movimiento_Ruta_Optima_Id = [Movimiento_Ruta_Optima_Id]
var Devolucion_Material_Id = [Devolucion_Material_Id] 
var Cantidad_A_Devolver = [Cantidad_A_Devolver]
var Cantidad_Devuelto = [Cantidad_Devuelto]
var Unidad_Material_Devuelto_Id = [Unidad_Material_Devuelto_Id]
var Devolucion_En_Ubicacion_Almacenamiento_Id = [Devolucion_En_Ubicacion_Almacenamiento_Id]
var Movimiento = [Movimiento]
var Material_Ubicacion_Stock_Id=[Material_Ubicacion_Stock_Id];

if (valor &gt; 0) {
    //Asignamos el valor al campo [Cantidad_Devuelto]
    [Cantidad_Devuelto] = valor;
    Cantidad_Devuelto = [Cantidad_Devuelto];
    Ubicacion_Formulario = [Devolucion_En_Ubicacion_Almacenamiento] + '; ';
    fnDebug("Valor: " + valor);
    fnDebug("Cantidad_Devuelto: " + [Cantidad_Devuelto]);

}

if (valor &lt; 0) {
    this.preventDefault();
    $app.alert("Ingrese cantidad de mat. v√°lido para devolver");
    $("#Cantidad_Material_Devuelto").focus();
}
else{
    if (valor &gt; [Cantidad_A_Devolver]) {
        fnDebug("&gt; Valor: " + valor);
        fnDebug("Cantidad_A_Devolver: " + [Cantidad_A_Devolver]);

        this.preventDefault();
        $app.alert("La cantidad devuelto no debe ser mayor a la cantidad a devolver.");
        $("#Cantidad_Material_Devuelto").focus();
    }
    else {
       
        $app.execute({
            controller: 'Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1'
            , filter: [
                { field: 'Devolucion_Material_Id', operator: '=', value: [Devolucion_Material_Id] },
                { field: 'Movimiento_Ruta_Optima_Id', operator: '=', value: [Movimiento_Ruta_Optima_Id] },
                { field: 'Tipo_Movimiento_Id', operator: '=', value: [Tipo_Movimiento_Id] },
                { field: 'Estatus_Registro_Id', operator: '=', value: 1 },
              	{ field: 'Esta_En_Bcsap', operator: '=', value: 0 }
            ]
            , dataType: 'json'
            , done: function (result) {
        
                if (debug === 1) {
                    console.log("result: ");
                    console.log(result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1);
                }
        
                arregloUbicaciones = result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1;
        
                var Ubicaciones_Origen = Ubicacion_Formulario;
        
                arregloUbicaciones.forEach(function (elemento, indice, array) { Ubicaciones_Origen = Ubicaciones_Origen + elemento.Devolucion_Ubicacion_Almacenamiento + '; '; });
        
                $app.confirm(
                    "Realizar√° la devoluci√≥n del material " + material_Devolucion + " en las siguientes ubicaciones: " + Ubicaciones_Origen + ". ¬øDesea continuar?"
                ).done(function (e) {
                    if (debug == true) {
                        console.log("Se confirm√≥ la operaci√≥n");
                    }
        
                    // Ejecutamos BR ExecCS01
                    // =======================
                    $app.execute({
                        controller: 'Mov_Dev_Ruta_Optima_A_Ejecutar_V'
                        , command: 'Custom'
                        , argument: 'ExecCS01'
                        , values: [
                            { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Movimiento_Ruta_Optima_Id', newValue: Movimiento_Ruta_Optima_Id }
                            , { name: 'Devolucion_Material_Id', newValue: Devolucion_Material_Id }
                            , { name: 'Cantidad_A_Devolver', newValue: Cantidad_A_Devolver }
                            , { name: 'Cantidad_Devuelto', newValue: Cantidad_Devuelto }
                            , { name: 'Unidad_Material_Devuelto_Id', newValue: Unidad_Material_Devuelto_Id }
                            , { name: 'Devolucion_En_Ubicacion_Almacenamiento_Id', newValue: Devolucion_En_Ubicacion_Almacenamiento_Id }
                            , { name: 'Movimiento', newValue: Movimiento }
                            , { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Material_Ubicacion_Stock_Id', newValue: Material_Ubicacion_Stock_Id}
                        ]
                        , done: function (result) {
                            eval(result.clientScript);
                            fnDebug("ExecCS01 result : ");
                            fnDebug(result);
            
                             // cerrar el modal que se se queda abierto
                             $app.touch.contextDataView().discard();
                             $app.touch.contextDataView().cancel();
            
                        }
                    })
                    
        
                }); // END $app.confirm(
        
            } // END done execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
        }); // END execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
    }
    this.preventDefault();
}</Script></update></c><c y="NodeSet" t="2021-06-01T17:58:12"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r100" /><update><Script>//this.preventDefault();
// Obtenemos el valor
var valor = $("#Cantidad_Material_Transferido").val();

var Ubicacion_Formulario = '';
var Transferencia_Material = [Transferencia_Material];

var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Movimiento_Ruta_Optima_Id = [Movimiento_Ruta_Optima_Id]
var Transferencia_Material_Id= [Transferencia_Material_Id]
var Cantidad_A_Transferir = [Cantidad_A_Transferir]
var Cantidad_Transferido = [Cantidad_Transferido]      
var Unidad_Material_Transferido_Id =  [Unidad_Material_Transferido_Id]
var Transferencia_En_Ubicacion_Almacenamiento_Id = [Transferencia_En_Ubicacion_Almacenamiento_Id]
var Movimiento = [Movimiento]
var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Material_Ubicacion_Stock_Id =[Material_Ubicacion_Stock_Id]


if(valor &gt; 0){
  //Asignamos el valor al campo [Cantidad_Transferido]
  [Cantidad_Transferido] = valor;
  Cantidad_Transferido = [Cantidad_Transferido];
  Ubicacion_Formulario = [Transferencia_En_Ubicacion_Almacenamiento] + '; ';
  fnDebug("Valor: " + valor);
  fnDebug("Cantidad_Transferido: " + [Cantidad_Transferido]);	
}

if(valor &lt; 0){
	this.preventDefault();
  	$app.alert("Ingrese cantidad de mat. v√°lido para devolver");   	
  	$("#Cantidad_Material_Transferido").focus();
}
else{
if(valor &gt; [Cantidad_A_Transferir]){
  fnDebug("&gt; Valor: " + valor);
  fnDebug("Cantidad_A_Transferir: " + [Cantidad_A_Transferir]);

  	this.preventDefault();
  	$app.alert("La cantidad transferido no debe ser mayor a la cantidad a transferir.");
  	$("#Cantidad_Material_Transferido").focus();
}
else
	{
      // Ejecutamos BR ExecCS01
      $app.execute({
        controller: 'Movimiento_Ruta_Optima_Ubicacion_almacenamiento3'
        , filter: [
            { field: 'Transferencia_Material_Id', operator: '=', value: [Transferencia_Material_Id] },
            { field: 'Movimiento_Ruta_Optima_Id', operator: '=', value: [Movimiento_Ruta_Optima_Id] },
            { field: 'Tipo_Movimiento_Id', operator: '=', value: [Tipo_Movimiento_Id] },
            { field: 'Estatus_Registro_Id', operator: '=', value: 1 },
          	{ field: 'Esta_En_Bcsap', operator: '=', value: 0 }
        ]
        , dataType: 'json'
        , done: function (result) {
    
            if (debug === 1) {
                console.log("result: ");
                console.log(result.Movimiento_Ruta_Optima_Ubicacion_almacenamiento3);
            }
    
            arregloUbicaciones = result.Movimiento_Ruta_Optima_Ubicacion_almacenamiento3;
    
            var Ubicaciones_Origen = Ubicacion_Formulario;
    
            arregloUbicaciones.forEach(function (elemento, indice, array) { Ubicaciones_Origen = Ubicaciones_Origen + elemento.Transferencia_Ubicacion_Almacenamiento + '; '; });
    
            $app.confirm(
                "Ingresar√° el material " + Transferencia_Material  + " en las siguientes ubicaciones: " + Ubicaciones_Origen + ". ¬øDesea continuar?"
            ).done(function (e) {
                if (debug == true) {
                    console.log("Se confirm√≥ la operaci√≥n");
                }
    
                // Ejecutamos BR ExecCS01
                // =======================
                $app.execute({
                    controller: 'Mov_Transfer_Ruta_Optima_A_Ejecutar_V'
                    , command: 'Custom'
                    , argument: 'ExecCS01'
                    , values: [
                      { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id}
                      ,{ name: 'Movimiento_Ruta_Optima_Id', newValue: Movimiento_Ruta_Optima_Id}
                      ,{ name: 'Transferencia_Material_Id', newValue: Transferencia_Material_Id}
                      ,{ name: 'Cantidad_A_Transferir', newValue: Cantidad_A_Transferir}
                      ,{ name: 'Cantidad_Transferido', newValue: Cantidad_Transferido}      
                      ,{ name: 'Unidad_Material_Transferido_Id', newValue: Unidad_Material_Transferido_Id}
                      ,{ name: 'Transferencia_En_Ubicacion_Almacenamiento_Id', newValue: Transferencia_En_Ubicacion_Almacenamiento_Id}
                      ,{ name: 'Movimiento', newValue: Movimiento}
                      ,{ name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id}
                      ,{ name: 'Material_Ubicacion_Stock_Id', newValue: Material_Ubicacion_Stock_Id}
                      ]
                    ,done: function (result) {
                          eval(result.clientScript); 
                          fnDebug("ExecCS01 result : ");
                          fnDebug(result);

                          // cerrar el modal que se se queda abierto
                          $app.touch.contextDataView().discard();
                          $app.touch.contextDataView().cancel();
                    }
                  })
    
            }); // END $app.confirm(
    
        } // END done execute Movimiento_Ruta_Optima_Ubicacion_almacenamiento3
    }); // END execute Movimiento_Ruta_Optima_Ubicacion_almacenamiento3

	}
    this.preventDefault();
}</Script></update></c><c y="NodeSet" t="2021-06-01T17:59:09"><controller name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento3" /><view id="grid1" /><update><FilterExpression>Estatus_Registro_Id &lt;&gt; 0 AND Esta_En_BCSAP = 0</FilterExpression></update></c><c y="NodeSet" t="2021-06-02T09:51:06"><controller name="Bitacora_Captura_Sap" /><insert type="command"><CommandId>Grid_BCSAP_Admin_Dia_Actual_V</CommandId><Text>select
	"Grid_BCSAP_Admin_Dia_Actual_V"."Bitacora_Captura_Sap_Id" "Bitacora_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Ruta_Optima" "Ruta_Optima"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Material_Surtido" "Material_Surtido"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Material_Id" "Material_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Material_Material" "Material_Material"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Material_Descripcion" "Material_Descripcion"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Material" "Material"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Cantidad_Entregado" "Cantidad_Entregado"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Tipo_Surtido_Id" "Tipo_Surtido_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Es_Captura_Local" "Es_Captura_Local"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Es_Captura_Remota" "Es_Captura_Remota"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Estatus_Captura_Sap_Id" "Estatus_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Estatus_Captura_Sap" "Estatus_Captura_Sap"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Usuario_Surtidor_Id" "Usuario_Surtidor_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Usuario_Sistema" "Usuario_Sistema"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Nombre_Equipo_Llamada" "Nombre_Equipo_Llamada"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Nombre_Equipo_Captura" "Nombre_Equipo_Captura"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Mensaje_Sistema_Id" "Mensaje_Sistema_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Mensaje_Sistema" "Mensaje_Sistema"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Error" "Error"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Fecha_Creacion" "Fecha_Creacion"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Actualizado_Por" "Actualizado_Por"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Fecha_Ultima_Actualizacion" "Fecha_Ultima_Actualizacion"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Estatus_Registro_Id" "Estatus_Registro_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Estatus_Registro" "Estatus_Registro"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Creado_Por" "Creado_Por"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Fecha_Captura" "Fecha_Captura"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Tipo_Ubicacion_Id" "Tipo_Ubicacion_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Clave_Tipo_Ubicacion" "Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Ubicacion_Almacenamiento_Id" "Ubicacion_Almacenamiento_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Ubicacion_Almacenamiento" "Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Ubicacion_Origen" "Ubicacion_Origen"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Ubicacion_Destino" "Ubicacion_Destino"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Capturado_Por_Id" "Capturado_Por_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Capturado_Por" "Capturado_Por"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Tipo_Operacion_Sap_Id" "Tipo_Operacion_Sap_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Tipo_Operacion_Sap" "Tipo_Operacion_Sap"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Es_Captura_De_Surtido" "Es_Captura_De_Surtido"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Es_Devolucion_De_Material" "Es_Devolucion_De_Material"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Es_Transferencia_De_Material" "Es_Transferencia_De_Material"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Transferencia_Destino_Id" "Transferencia_Destino_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Transferencia_Destino_Ubicacion_Almacenamiento" "Transferencia_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Transferencia_Origen_Id" "Transferencia_Origen_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Transferencia_Origen_Ubicacion_Almacenamiento" "Transferencia_Origen_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Transferencia_Material_Id" "Transferencia_Material_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Tranferencia_Material" "Tranferencia_Material"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Devolucion_Destino_Id" "Devolucion_Destino_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Devolucion_Destino_Ubicacion_Almacenamiento" "Devolucion_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Devolucion_Material_Id" "Devolucion_Material_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Devolucion_Material" "Devolucion_Material"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Devolucion_Material_Descripcion" "Devolucion_Material_Descripcion"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Movimiento_Ruta_Optima_Id" "Movimiento_Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Numero_Grupo_Ruta_Optima" "Numero_Grupo_Ruta_Optima"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Tipo_Movimiento_Id" "Tipo_Movimiento_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Tipo_Movimiento" "Tipo_Movimiento"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Devolucion_Origen_Id" "Devolucion_Origen_Id"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Devolucion_Origen_Clave_Tipo_Ubicacion" "Devolucion_Origen_Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Devolucion_Origen_Descripcion_Tipo_Ubicacion" "Devolucion_Origen_Descripcion_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Cantidad_Devuelto" "Cantidad_Devuelto"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Cantidad_Transferido" "Cantidad_Transferido"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Es_Captura_Manual_Con_Pdf" "Es_Captura_Manual_Con_Pdf"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Movimiento_Descto_Stock_En_Piso" "Movimiento_Descto_Stock_En_Piso"
	,"Grid_BCSAP_Admin_Dia_Actual_V"."Es_Paso_Uno_Transferencia" "Es_Paso_Uno_Transferencia"
from "dbo"."Grid_BCSAP_Admin_Dia_Actual_V" "Grid_BCSAP_Admin_Dia_Actual_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-06-02T09:51:11"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><copy><controller name="Bitacora_Captura_Sap" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-06-02T09:51:35"><controller name="Bitacora_Captura_Sap" /><view id="v100" /><rename>Grid_BCSAP_Admin_Dia_Actual_V</rename></c><c y="NodeSet" t="2021-06-02T09:51:52"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Dia_Actual_V" /><update><CommandId>Grid_BCSAP_Admin_Dia_Actual_V</CommandId><ShowInSelector>true</ShowInSelector></update></c><c y="NodeSet" t="2021-06-02T09:52:13"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><update><Label>Bitacora Captura SAP (Todo)</Label><ShowInSelector>true</ShowInSelector></update></c><c y="NodeSet" t="2021-06-02T09:52:34"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Dia_Actual_V" /><update><Label>Bitacora Captura SAP (Dia Actual)</Label></update></c><c y="NodeSet" t="2021-06-02T09:53:20"><controller name="Bitacora_Captura_Sap" /><insert type="command"><CommandId>Grid_BCSAP_Admin_Dia_Anterior_V</CommandId><Text>select
	"Grid_BCSAP_Admin_Dia_Anterior_V"."Bitacora_Captura_Sap_Id" "Bitacora_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Ruta_Optima" "Ruta_Optima"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Material_Surtido" "Material_Surtido"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Material_Id" "Material_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Material_Material" "Material_Material"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Material_Descripcion" "Material_Descripcion"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Material" "Material"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Cantidad_Entregado" "Cantidad_Entregado"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Tipo_Surtido_Id" "Tipo_Surtido_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Es_Captura_Local" "Es_Captura_Local"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Es_Captura_Remota" "Es_Captura_Remota"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Estatus_Captura_Sap_Id" "Estatus_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Estatus_Captura_Sap" "Estatus_Captura_Sap"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Usuario_Surtidor_Id" "Usuario_Surtidor_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Usuario_Sistema" "Usuario_Sistema"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Nombre_Equipo_Llamada" "Nombre_Equipo_Llamada"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Nombre_Equipo_Captura" "Nombre_Equipo_Captura"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Mensaje_Sistema_Id" "Mensaje_Sistema_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Mensaje_Sistema" "Mensaje_Sistema"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Error" "Error"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Fecha_Creacion" "Fecha_Creacion"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Actualizado_Por" "Actualizado_Por"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Fecha_Ultima_Actualizacion" "Fecha_Ultima_Actualizacion"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Estatus_Registro_Id" "Estatus_Registro_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Estatus_Registro" "Estatus_Registro"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Creado_Por" "Creado_Por"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Fecha_Captura" "Fecha_Captura"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Tipo_Ubicacion_Id" "Tipo_Ubicacion_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Clave_Tipo_Ubicacion" "Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Ubicacion_Almacenamiento_Id" "Ubicacion_Almacenamiento_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Ubicacion_Almacenamiento" "Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Ubicacion_Origen" "Ubicacion_Origen"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Ubicacion_Destino" "Ubicacion_Destino"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Capturado_Por_Id" "Capturado_Por_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Capturado_Por" "Capturado_Por"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Tipo_Operacion_Sap_Id" "Tipo_Operacion_Sap_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Tipo_Operacion_Sap" "Tipo_Operacion_Sap"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Es_Captura_De_Surtido" "Es_Captura_De_Surtido"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Es_Devolucion_De_Material" "Es_Devolucion_De_Material"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Es_Transferencia_De_Material" "Es_Transferencia_De_Material"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Transferencia_Destino_Id" "Transferencia_Destino_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Transferencia_Destino_Ubicacion_Almacenamiento" "Transferencia_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Transferencia_Origen_Id" "Transferencia_Origen_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Transferencia_Origen_Ubicacion_Almacenamiento" "Transferencia_Origen_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Transferencia_Material_Id" "Transferencia_Material_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Tranferencia_Material" "Tranferencia_Material"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Devolucion_Destino_Id" "Devolucion_Destino_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Devolucion_Destino_Ubicacion_Almacenamiento" "Devolucion_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Devolucion_Material_Id" "Devolucion_Material_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Devolucion_Material" "Devolucion_Material"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Devolucion_Material_Descripcion" "Devolucion_Material_Descripcion"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Movimiento_Ruta_Optima_Id" "Movimiento_Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Numero_Grupo_Ruta_Optima" "Numero_Grupo_Ruta_Optima"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Tipo_Movimiento_Id" "Tipo_Movimiento_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Tipo_Movimiento" "Tipo_Movimiento"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Devolucion_Origen_Id" "Devolucion_Origen_Id"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Devolucion_Origen_Clave_Tipo_Ubicacion" "Devolucion_Origen_Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Devolucion_Origen_Descripcion_Tipo_Ubicacion" "Devolucion_Origen_Descripcion_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Cantidad_Devuelto" "Cantidad_Devuelto"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Cantidad_Transferido" "Cantidad_Transferido"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Es_Captura_Manual_Con_Pdf" "Es_Captura_Manual_Con_Pdf"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Movimiento_Descto_Stock_En_Piso" "Movimiento_Descto_Stock_En_Piso"
	,"Grid_BCSAP_Admin_Dia_Anterior_V"."Es_Paso_Uno_Transferencia" "Es_Paso_Uno_Transferencia"
from "dbo"."Grid_BCSAP_Admin_Dia_Anterior_V" "Grid_BCSAP_Admin_Dia_Anterior_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-06-02T09:53:36"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><copy><controller name="Bitacora_Captura_Sap" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-06-02T09:53:39"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Dia_Actual_V" /><move><controller name="Bitacora_Captura_Sap" /><view id="v100" /></move></c><c y="NodeSet" t="2021-06-02T09:53:54"><controller name="Bitacora_Captura_Sap" /><view id="v100" /><rename>Grid_BCSAP_Admin_Dia_Anterior_V</rename></c><c y="NodeSet" t="2021-06-02T09:54:17"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Dia_Anterior_V" /><update><CommandId>Grid_BCSAP_Admin_Dia_Anterior_V</CommandId><Label>Bitacora Captura SAP (Dia Anterior)</Label></update></c><c y="NodeSet" t="2021-06-02T09:56:08"><controller name="Bitacora_Captura_Sap" /><insert type="command"><CommandId>Grid_BCSAP_Admin_Semana_Actual_V</CommandId><Text>select
	"Grid_BCSAP_Admin_Semana_Actual_V"."Bitacora_Captura_Sap_Id" "Bitacora_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Ruta_Optima" "Ruta_Optima"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Material_Surtido" "Material_Surtido"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Material_Id" "Material_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Material_Material" "Material_Material"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Material_Descripcion" "Material_Descripcion"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Material" "Material"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Cantidad_Entregado" "Cantidad_Entregado"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Tipo_Surtido_Id" "Tipo_Surtido_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Es_Captura_Local" "Es_Captura_Local"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Es_Captura_Remota" "Es_Captura_Remota"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Estatus_Captura_Sap_Id" "Estatus_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Estatus_Captura_Sap" "Estatus_Captura_Sap"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Usuario_Surtidor_Id" "Usuario_Surtidor_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Usuario_Sistema" "Usuario_Sistema"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Nombre_Equipo_Llamada" "Nombre_Equipo_Llamada"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Nombre_Equipo_Captura" "Nombre_Equipo_Captura"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Mensaje_Sistema_Id" "Mensaje_Sistema_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Mensaje_Sistema" "Mensaje_Sistema"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Error" "Error"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Fecha_Creacion" "Fecha_Creacion"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Actualizado_Por" "Actualizado_Por"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Fecha_Ultima_Actualizacion" "Fecha_Ultima_Actualizacion"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Estatus_Registro_Id" "Estatus_Registro_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Estatus_Registro" "Estatus_Registro"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Creado_Por" "Creado_Por"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Fecha_Captura" "Fecha_Captura"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Tipo_Ubicacion_Id" "Tipo_Ubicacion_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Clave_Tipo_Ubicacion" "Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Ubicacion_Almacenamiento_Id" "Ubicacion_Almacenamiento_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Ubicacion_Almacenamiento" "Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Ubicacion_Origen" "Ubicacion_Origen"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Ubicacion_Destino" "Ubicacion_Destino"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Capturado_Por_Id" "Capturado_Por_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Capturado_Por" "Capturado_Por"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Tipo_Operacion_Sap_Id" "Tipo_Operacion_Sap_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Tipo_Operacion_Sap" "Tipo_Operacion_Sap"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Es_Captura_De_Surtido" "Es_Captura_De_Surtido"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Es_Devolucion_De_Material" "Es_Devolucion_De_Material"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Es_Transferencia_De_Material" "Es_Transferencia_De_Material"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Transferencia_Destino_Id" "Transferencia_Destino_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Transferencia_Destino_Ubicacion_Almacenamiento" "Transferencia_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Transferencia_Origen_Id" "Transferencia_Origen_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Transferencia_Origen_Ubicacion_Almacenamiento" "Transferencia_Origen_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Transferencia_Material_Id" "Transferencia_Material_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Tranferencia_Material" "Tranferencia_Material"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Devolucion_Destino_Id" "Devolucion_Destino_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Devolucion_Destino_Ubicacion_Almacenamiento" "Devolucion_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Devolucion_Material_Id" "Devolucion_Material_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Devolucion_Material" "Devolucion_Material"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Devolucion_Material_Descripcion" "Devolucion_Material_Descripcion"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Movimiento_Ruta_Optima_Id" "Movimiento_Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Numero_Grupo_Ruta_Optima" "Numero_Grupo_Ruta_Optima"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Tipo_Movimiento_Id" "Tipo_Movimiento_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Tipo_Movimiento" "Tipo_Movimiento"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Devolucion_Origen_Id" "Devolucion_Origen_Id"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Devolucion_Origen_Clave_Tipo_Ubicacion" "Devolucion_Origen_Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Devolucion_Origen_Descripcion_Tipo_Ubicacion" "Devolucion_Origen_Descripcion_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Cantidad_Devuelto" "Cantidad_Devuelto"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Cantidad_Transferido" "Cantidad_Transferido"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Es_Captura_Manual_Con_Pdf" "Es_Captura_Manual_Con_Pdf"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Movimiento_Descto_Stock_En_Piso" "Movimiento_Descto_Stock_En_Piso"
	,"Grid_BCSAP_Admin_Semana_Actual_V"."Es_Paso_Uno_Transferencia" "Es_Paso_Uno_Transferencia"
from "dbo"."Grid_BCSAP_Admin_Semana_Actual_V" "Grid_BCSAP_Admin_Semana_Actual_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-06-02T09:56:18"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><copy><controller name="Bitacora_Captura_Sap" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-06-02T09:56:21"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Dia_Anterior_V" /><move><controller name="Bitacora_Captura_Sap" /><view id="v100" /></move></c><c y="NodeSet" t="2021-06-02T09:56:39"><controller name="Bitacora_Captura_Sap" /><view id="v100" /><rename>Grid_BCSAP_Admin_Semana_Actual_V</rename></c><c y="NodeSet" t="2021-06-02T09:57:00"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Semana_Actual_V" /><update><CommandId>Grid_BCSAP_Admin_Semana_Actual_V</CommandId><Label>Bitacora Captura SAP (Semana Actual)</Label></update></c><c y="NodeSet" t="2021-06-02T09:58:25"><controller name="Bitacora_Captura_Sap" /><insert type="command"><CommandId>Grid_BCSAP_Admin_Semana_Anterior_V</CommandId><Text>select
	"Grid_BCSAP_Admin_Semana_Anterior_V"."Bitacora_Captura_Sap_Id" "Bitacora_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Ruta_Optima" "Ruta_Optima"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Material_Surtido" "Material_Surtido"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Material_Id" "Material_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Material_Material" "Material_Material"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Material_Descripcion" "Material_Descripcion"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Material" "Material"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Cantidad_Entregado" "Cantidad_Entregado"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Tipo_Surtido_Id" "Tipo_Surtido_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Es_Captura_Local" "Es_Captura_Local"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Es_Captura_Remota" "Es_Captura_Remota"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Estatus_Captura_Sap_Id" "Estatus_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Estatus_Captura_Sap" "Estatus_Captura_Sap"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Usuario_Surtidor_Id" "Usuario_Surtidor_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Usuario_Sistema" "Usuario_Sistema"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Nombre_Equipo_Llamada" "Nombre_Equipo_Llamada"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Nombre_Equipo_Captura" "Nombre_Equipo_Captura"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Mensaje_Sistema_Id" "Mensaje_Sistema_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Mensaje_Sistema" "Mensaje_Sistema"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Error" "Error"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Fecha_Creacion" "Fecha_Creacion"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Actualizado_Por" "Actualizado_Por"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Fecha_Ultima_Actualizacion" "Fecha_Ultima_Actualizacion"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Estatus_Registro_Id" "Estatus_Registro_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Estatus_Registro" "Estatus_Registro"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Creado_Por" "Creado_Por"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Fecha_Captura" "Fecha_Captura"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Tipo_Ubicacion_Id" "Tipo_Ubicacion_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Clave_Tipo_Ubicacion" "Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Ubicacion_Almacenamiento_Id" "Ubicacion_Almacenamiento_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Ubicacion_Almacenamiento" "Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Ubicacion_Origen" "Ubicacion_Origen"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Ubicacion_Destino" "Ubicacion_Destino"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Capturado_Por_Id" "Capturado_Por_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Capturado_Por" "Capturado_Por"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Tipo_Operacion_Sap_Id" "Tipo_Operacion_Sap_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Tipo_Operacion_Sap" "Tipo_Operacion_Sap"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Es_Captura_De_Surtido" "Es_Captura_De_Surtido"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Es_Devolucion_De_Material" "Es_Devolucion_De_Material"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Es_Transferencia_De_Material" "Es_Transferencia_De_Material"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Transferencia_Destino_Id" "Transferencia_Destino_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Transferencia_Destino_Ubicacion_Almacenamiento" "Transferencia_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Transferencia_Origen_Id" "Transferencia_Origen_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Transferencia_Origen_Ubicacion_Almacenamiento" "Transferencia_Origen_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Transferencia_Material_Id" "Transferencia_Material_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Tranferencia_Material" "Tranferencia_Material"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Devolucion_Destino_Id" "Devolucion_Destino_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Devolucion_Destino_Ubicacion_Almacenamiento" "Devolucion_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Devolucion_Material_Id" "Devolucion_Material_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Devolucion_Material" "Devolucion_Material"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Devolucion_Material_Descripcion" "Devolucion_Material_Descripcion"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Movimiento_Ruta_Optima_Id" "Movimiento_Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Numero_Grupo_Ruta_Optima" "Numero_Grupo_Ruta_Optima"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Tipo_Movimiento_Id" "Tipo_Movimiento_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Tipo_Movimiento" "Tipo_Movimiento"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Devolucion_Origen_Id" "Devolucion_Origen_Id"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Devolucion_Origen_Clave_Tipo_Ubicacion" "Devolucion_Origen_Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Devolucion_Origen_Descripcion_Tipo_Ubicacion" "Devolucion_Origen_Descripcion_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Cantidad_Devuelto" "Cantidad_Devuelto"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Cantidad_Transferido" "Cantidad_Transferido"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Es_Captura_Manual_Con_Pdf" "Es_Captura_Manual_Con_Pdf"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Movimiento_Descto_Stock_En_Piso" "Movimiento_Descto_Stock_En_Piso"
	,"Grid_BCSAP_Admin_Semana_Anterior_V"."Es_Paso_Uno_Transferencia" "Es_Paso_Uno_Transferencia"
from "dbo"."Grid_BCSAP_Admin_Semana_Anterior_V" "Grid_BCSAP_Admin_Semana_Anterior_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-06-02T09:58:32"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><copy><controller name="Bitacora_Captura_Sap" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-06-02T09:58:35"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Semana_Actual_V" /><move><controller name="Bitacora_Captura_Sap" /><view id="v100" /></move></c><c y="NodeSet" t="2021-06-02T09:58:51"><controller name="Bitacora_Captura_Sap" /><view id="v100" /><rename>Grid_BCSAP_Admin_Semana_Anterior_V</rename></c><c y="NodeSet" t="2021-06-02T09:59:16"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Semana_Anterior_V" /><update><CommandId>Grid_BCSAP_Admin_Semana_Anterior_V</CommandId><Label>Bitacora Captura SAP (Semana Anterior)</Label></update></c><c y="NodeSet" t="2021-06-02T10:00:27"><controller name="Bitacora_Captura_Sap" /><insert type="command"><CommandId>Grid_BCSAP_Admin_Mes_Actual_V</CommandId><Text>select
	"Grid_BCSAP_Admin_Mes_Actual_V"."Bitacora_Captura_Sap_Id" "Bitacora_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Ruta_Optima" "Ruta_Optima"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Material_Surtido" "Material_Surtido"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Material_Id" "Material_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Material_Material" "Material_Material"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Material_Descripcion" "Material_Descripcion"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Material" "Material"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Cantidad_Entregado" "Cantidad_Entregado"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Tipo_Surtido_Id" "Tipo_Surtido_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Es_Captura_Local" "Es_Captura_Local"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Es_Captura_Remota" "Es_Captura_Remota"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Estatus_Captura_Sap_Id" "Estatus_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Estatus_Captura_Sap" "Estatus_Captura_Sap"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Usuario_Surtidor_Id" "Usuario_Surtidor_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Usuario_Sistema" "Usuario_Sistema"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Nombre_Equipo_Llamada" "Nombre_Equipo_Llamada"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Nombre_Equipo_Captura" "Nombre_Equipo_Captura"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Mensaje_Sistema_Id" "Mensaje_Sistema_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Mensaje_Sistema" "Mensaje_Sistema"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Error" "Error"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Fecha_Creacion" "Fecha_Creacion"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Actualizado_Por" "Actualizado_Por"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Fecha_Ultima_Actualizacion" "Fecha_Ultima_Actualizacion"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Estatus_Registro_Id" "Estatus_Registro_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Estatus_Registro" "Estatus_Registro"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Creado_Por" "Creado_Por"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Fecha_Captura" "Fecha_Captura"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Tipo_Ubicacion_Id" "Tipo_Ubicacion_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Clave_Tipo_Ubicacion" "Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Ubicacion_Almacenamiento_Id" "Ubicacion_Almacenamiento_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Ubicacion_Almacenamiento" "Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Ubicacion_Origen" "Ubicacion_Origen"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Ubicacion_Destino" "Ubicacion_Destino"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Capturado_Por_Id" "Capturado_Por_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Capturado_Por" "Capturado_Por"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Tipo_Operacion_Sap_Id" "Tipo_Operacion_Sap_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Tipo_Operacion_Sap" "Tipo_Operacion_Sap"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Es_Captura_De_Surtido" "Es_Captura_De_Surtido"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Es_Devolucion_De_Material" "Es_Devolucion_De_Material"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Es_Transferencia_De_Material" "Es_Transferencia_De_Material"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Transferencia_Destino_Id" "Transferencia_Destino_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Transferencia_Destino_Ubicacion_Almacenamiento" "Transferencia_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Transferencia_Origen_Id" "Transferencia_Origen_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Transferencia_Origen_Ubicacion_Almacenamiento" "Transferencia_Origen_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Transferencia_Material_Id" "Transferencia_Material_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Tranferencia_Material" "Tranferencia_Material"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Devolucion_Destino_Id" "Devolucion_Destino_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Devolucion_Destino_Ubicacion_Almacenamiento" "Devolucion_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Devolucion_Material_Id" "Devolucion_Material_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Devolucion_Material" "Devolucion_Material"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Devolucion_Material_Descripcion" "Devolucion_Material_Descripcion"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Movimiento_Ruta_Optima_Id" "Movimiento_Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Numero_Grupo_Ruta_Optima" "Numero_Grupo_Ruta_Optima"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Tipo_Movimiento_Id" "Tipo_Movimiento_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Tipo_Movimiento" "Tipo_Movimiento"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Devolucion_Origen_Id" "Devolucion_Origen_Id"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Devolucion_Origen_Clave_Tipo_Ubicacion" "Devolucion_Origen_Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Devolucion_Origen_Descripcion_Tipo_Ubicacion" "Devolucion_Origen_Descripcion_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Cantidad_Devuelto" "Cantidad_Devuelto"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Cantidad_Transferido" "Cantidad_Transferido"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Es_Captura_Manual_Con_Pdf" "Es_Captura_Manual_Con_Pdf"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Movimiento_Descto_Stock_En_Piso" "Movimiento_Descto_Stock_En_Piso"
	,"Grid_BCSAP_Admin_Mes_Actual_V"."Es_Paso_Uno_Transferencia" "Es_Paso_Uno_Transferencia"
from "dbo"."Grid_BCSAP_Admin_Mes_Actual_V" "Grid_BCSAP_Admin_Mes_Actual_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-06-02T10:00:32"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><copy><controller name="Bitacora_Captura_Sap" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-06-02T10:00:35"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Semana_Anterior_V" /><move><controller name="Bitacora_Captura_Sap" /><view id="v100" /></move></c><c y="NodeSet" t="2021-06-02T10:00:51"><controller name="Bitacora_Captura_Sap" /><view id="v100" /><rename>Grid_BCSAP_Admin_Mes_Actual_V</rename></c><c y="NodeSet" t="2021-06-02T10:01:11"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Mes_Actual_V" /><update><CommandId>Grid_BCSAP_Admin_Mes_Actual_V</CommandId><Label>Bitacora Captura SAP (Mes Actual)</Label></update></c><c y="NodeSet" t="2021-06-02T10:01:27"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><copy><controller name="Bitacora_Captura_Sap" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-06-02T10:01:30"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Mes_Actual_V" /><move><controller name="Bitacora_Captura_Sap" /><view id="v100" /></move></c><c y="NodeSet" t="2021-06-02T10:02:55"><controller name="Bitacora_Captura_Sap" /><view id="v100" /><rename>Grid_BCSAP_Admin_Mes_Anterior_V</rename></c><c y="NodeSet" t="2021-06-02T10:03:36"><controller name="Bitacora_Captura_Sap" /><insert type="command"><CommandId>Grid_BCSAP_Admin_Mes_Anterior_V</CommandId><Text>select
	"Grid_BCSAP_Admin_Mes_Anterior_V"."Bitacora_Captura_Sap_Id" "Bitacora_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Ruta_Optima_Id" "Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Ruta_Optima" "Ruta_Optima"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Material_Surtido_Id" "Material_Surtido_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Material_Surtido" "Material_Surtido"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Material_Id" "Material_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Material_Material" "Material_Material"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Material_Descripcion" "Material_Descripcion"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Material" "Material"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Cantidad_Entregado" "Cantidad_Entregado"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Tipo_Surtido_Id" "Tipo_Surtido_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Es_Captura_Local" "Es_Captura_Local"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Es_Captura_Remota" "Es_Captura_Remota"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Estatus_Captura_Sap_Id" "Estatus_Captura_Sap_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Estatus_Captura_Sap" "Estatus_Captura_Sap"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Usuario_Surtidor_Id" "Usuario_Surtidor_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Usuario_Sistema" "Usuario_Sistema"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Nombre_Equipo_Llamada" "Nombre_Equipo_Llamada"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Nombre_Equipo_Captura" "Nombre_Equipo_Captura"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Mensaje_Sistema_Id" "Mensaje_Sistema_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Mensaje_Sistema" "Mensaje_Sistema"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Error" "Error"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Fecha_Creacion" "Fecha_Creacion"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Actualizado_Por" "Actualizado_Por"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Fecha_Ultima_Actualizacion" "Fecha_Ultima_Actualizacion"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Estatus_Registro_Id" "Estatus_Registro_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Estatus_Registro" "Estatus_Registro"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Creado_Por" "Creado_Por"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Fecha_Captura" "Fecha_Captura"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Tipo_Ubicacion_Id" "Tipo_Ubicacion_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Clave_Tipo_Ubicacion" "Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Ubicacion_Almacenamiento_Id" "Ubicacion_Almacenamiento_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Ubicacion_Almacenamiento" "Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Ubicacion_Origen" "Ubicacion_Origen"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Ubicacion_Destino" "Ubicacion_Destino"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Capturado_Por_Id" "Capturado_Por_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Capturado_Por" "Capturado_Por"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Tipo_Operacion_Sap_Id" "Tipo_Operacion_Sap_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Tipo_Operacion_Sap" "Tipo_Operacion_Sap"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Es_Captura_De_Surtido" "Es_Captura_De_Surtido"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Es_Devolucion_De_Material" "Es_Devolucion_De_Material"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Es_Transferencia_De_Material" "Es_Transferencia_De_Material"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Transferencia_Destino_Id" "Transferencia_Destino_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Transferencia_Destino_Ubicacion_Almacenamiento" "Transferencia_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Transferencia_Origen_Id" "Transferencia_Origen_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Transferencia_Origen_Ubicacion_Almacenamiento" "Transferencia_Origen_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Transferencia_Material_Id" "Transferencia_Material_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Tranferencia_Material" "Tranferencia_Material"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Devolucion_Destino_Id" "Devolucion_Destino_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Devolucion_Destino_Ubicacion_Almacenamiento" "Devolucion_Destino_Ubicacion_Almacenamiento"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Devolucion_Material_Id" "Devolucion_Material_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Devolucion_Material" "Devolucion_Material"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Devolucion_Material_Descripcion" "Devolucion_Material_Descripcion"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Movimiento_Ruta_Optima_Id" "Movimiento_Ruta_Optima_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Numero_Grupo_Ruta_Optima" "Numero_Grupo_Ruta_Optima"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Tipo_Movimiento_Id" "Tipo_Movimiento_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Tipo_Movimiento" "Tipo_Movimiento"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Devolucion_Origen_Id" "Devolucion_Origen_Id"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Devolucion_Origen_Clave_Tipo_Ubicacion" "Devolucion_Origen_Clave_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Devolucion_Origen_Descripcion_Tipo_Ubicacion" "Devolucion_Origen_Descripcion_Tipo_Ubicacion"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Cantidad_Devuelto" "Cantidad_Devuelto"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Cantidad_Transferido" "Cantidad_Transferido"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Es_Captura_Manual_Con_Pdf" "Es_Captura_Manual_Con_Pdf"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Movimiento_Descto_Stock_En_Piso" "Movimiento_Descto_Stock_En_Piso"
	,"Grid_BCSAP_Admin_Mes_Anterior_V"."Es_Paso_Uno_Transferencia" "Es_Paso_Uno_Transferencia"
from "dbo"."Grid_BCSAP_Admin_Mes_Anterior_V" "Grid_BCSAP_Admin_Mes_Anterior_V"</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2021-06-02T10:03:50"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Mes_Anterior_V" /><update><CommandId>Grid_BCSAP_Admin_Mes_Anterior_V</CommandId></update></c><c y="NodeSet" t="2021-06-02T10:04:10"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Mes_Anterior_V" /><update><Label>Bitacora Captura SAP (Mes Anterior)</Label></update></c><c y="NodeSet" t="2021-06-02T10:30:25"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Dia_Actual_V" /><move><controller name="Bitacora_Captura_Sap" /><view id="grid1" /></move></c><c y="NodeSet" t="2021-06-02T10:48:16"><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Dia_Actual_V" /><move><controller name="Bitacora_Captura_Sap" /><view id="grid1" /></move></c><c y="NodeSet" t="2021-06-02T10:48:19"><controller name="Bitacora_Captura_Sap" /><view id="grid1" /><move><controller name="Bitacora_Captura_Sap" /><view id="Grid_BCSAP_Admin_Dia_Actual_V" /></move></c><c y="NodeSet" t="2021-06-07T16:16:21"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy>Transferencia_Ubicacion_Destino = Ubicacion_Almacenamiento</Copy></update></c><c y="NodeSet" t="2021-06-07T16:25:09"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsNewDataView>createForm1</ItemsNewDataView></update></c><c y="NodeSet" t="2021-06-07T16:26:54"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsNewDataView /></update></c><c y="NodeSet" t="2021-06-07T16:27:20"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ContextFields /></update></c><c y="NodeSet" t="2021-06-07T16:28:03"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ContextFields>Area_Entrega_Id=Area_Entrega_Id</ContextFields></update></c><c y="NodeSet" t="2021-06-07T16:28:21"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy>Transferencia_Ubicacion_Destino=Ubicacion_Almacenamiento</Copy></update></c><c y="NodeSet" t="2021-06-07T16:30:58"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataValueField>Area_Entrega_Id</ItemsDataValueField></update></c><c y="NodeSet" t="2021-06-07T16:32:05"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataTextField>Area_Entrega</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-07T16:32:56"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy /></update></c><c y="NodeSet" t="2021-06-07T16:34:21"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController>Ubicacion_Almacenamiento</ItemsDataController><ItemsDataView>Ubicacion_Almacenamiento_LookUp_List</ItemsDataView><ItemsDataValueField>Ubicacion_Almacenamiento</ItemsDataValueField><ItemsDataTextField /></update></c><c y="NodeSet" t="2021-06-07T16:37:01"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController>Ubicacion_Almacenamiento_Area_Entrega</ItemsDataController><ItemsDataView>grid1</ItemsDataView><ItemsDataValueField>Ubicacion_Almacenamiento_Id</ItemsDataValueField><ItemsDataTextField>Ubicacion_Almacenamiento</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-07T16:45:07"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataView>UbicacionAlmacAreaEntrega_LookUp_List</ItemsDataView></update></c><c y="NodeSet" t="2021-06-07T16:46:51"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController>Area_Entrega</ItemsDataController><ItemsDataView>Area_Entrega_LookUp_List</ItemsDataView><ItemsDataValueField>Area_Entrega_Id</ItemsDataValueField><ItemsDataTextField>Area_Entrega</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-07T16:49:05"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController>Ubicacion_Almacenamiento_Area_Entrega</ItemsDataController><ItemsDataView>UbicacionAlmacAreaEntrega_LookUp_List</ItemsDataView><ItemsDataValueField>Ubicacion_Almacenamiento_Area_Entrega_Id</ItemsDataValueField><ItemsDataTextField>Ubicacion_Almacenamiento</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-07T18:29:04"><controller name="Movimiento_Detalle" /><clone /></c><c y="NodeSet" t="2021-06-07T18:33:14"><controller name="Movimiento_Detalle4" /><view id="grid1" /><delete /></c><c y="NodeSet" t="2021-06-07T18:33:14"><controller name="Movimiento_Detalle4" /><view id="editForm1" /><delete /></c><c y="NodeSet" t="2021-06-07T18:33:15"><controller name="Movimiento_Detalle4" /><view id="createForm1" /><delete /></c><c y="NodeSet" t="2021-06-07T18:33:20"><controller name="Movimiento_Detalle4" /><copy><controller name="Movimiento_Detalle1" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-06-07T18:33:20"><controller name="Movimiento_Detalle4" /><copy><controller name="Movimiento_Detalle1" /><view id="editForm1" /></copy></c><c y="NodeSet" t="2021-06-07T18:33:20"><controller name="Movimiento_Detalle4" /><copy><controller name="Movimiento_Detalle1" /><view id="createForm1" /></copy></c><c y="NodeSet" t="2021-06-07T18:34:51"><controller name="Movimiento_Detalle4" /><actionGroup id="ag3" /><action id="a1" /><update><CommandArgument>createForm1</CommandArgument></update></c><c y="NodeSet" t="2021-06-07T18:36:14"><controller name="Movimiento_Detalle4" /><actionGroup id="ag2" /><action id="a14" /><update><CommandArgument>createForm1</CommandArgument></update></c><c y="NodeSet" t="2021-06-07T18:39:52"><controller name="Movimiento_Detalle4" /><copy><controller name="Movimiento_Detalle1" /><actionGroup id="ag100" /></copy></c><c y="NodeSet" t="2021-06-07T18:41:02"><controller name="Movimiento_Detalle4" /><rule id="r100" /><delete /></c><c y="NodeSet" t="2021-06-07T18:41:02"><controller name="Movimiento_Detalle4" /><rule id="r101" /><delete /></c><c y="NodeSet" t="2021-06-07T18:41:02"><controller name="Movimiento_Detalle4" /><rule id="r102" /><delete /></c><c y="NodeSet" t="2021-06-07T18:41:02"><controller name="Movimiento_Detalle4" /><rule id="r103" /><delete /></c><c y="NodeSet" t="2021-06-07T18:41:05"><controller name="Movimiento_Detalle4" /><copy><controller name="Movimiento_Detalle1" /><rule id="r101" /></copy></c><c y="NodeSet" t="2021-06-07T18:41:05"><controller name="Movimiento_Detalle4" /><copy><controller name="Movimiento_Detalle1" /><rule id="r103" /></copy></c><c y="NodeSet" t="2021-06-07T18:41:09"><controller name="Movimiento_Detalle4" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id</Script></update></c><c y="NodeSet" t="2021-06-07T18:42:18"><controller name="Movimiento_Detalle4" /><copy><controller name="Movimiento_Detalle1" /><rule id="r104" /></copy></c><c y="NodeSet" t="2021-06-07T18:42:21"><controller name="Movimiento_Detalle4" /><rule id="r104" /><update><Script>SET @Devolucion_Ubicacion_Origen_Id = (SELECT TOP 1 m.Devolucion_Ubicacion_Origen_Id FROM APP.Movimiento m WHERE
									  m.Movimiento_Id = @Movimiento_Id)
									  
									  
SET @Devolucion_Ubicacion_Destino_Id = (SELECT TOP 1 m.Devolucion_Ubicacion_Destino_Id FROM APP.Movimiento m WHERE
									  m.Movimiento_Id = @Movimiento_Id)
									  
SELECT 
  	TOP 1	
	@Estatus_Movimiento_Id  = em.Estatus_Movimiento_Id 
	,@Estatus_Movimiento = em.Estatus_Movimiento	
	FROM 
		[APP].[Estatus_Movimiento] em 
	WHERE em.Estatus_Registro_Id = 1 
	AND em.Aplica_A_Devolucion = 1 
	AND em.Significa_Pendiente = 1;

									  
</Script></update></c><c y="NodeSet" t="2021-06-07T18:43:21"><controller name="Movimiento_Detalle4" /><copy><controller name="Movimiento_Detalle1" /><rule id="r105" /></copy></c><c y="NodeSet" t="2021-06-07T18:43:25"><controller name="Movimiento_Detalle4" /><rule id="r105" /><update><Script>/*
-- DECLARE @Devolucion_Ubicacion_Origen_Id INT  -- APP.Tipo_Ubicacion.Tipo_Ubicacion_Id
SET @Devolucion_Ubicacion_Origen_Id = ISNULL((
    SELECT TOP 1 Devolucion_Ubicacion_Origen_Id 
    FROM APP.Movimiento 
    WHERE Movimiento_Id = @Movimiento_Id
),0)

DECLARE @Clave_ INT 
SET @Clave_ = ISNULL((
    SELECT TOP 1 Clave_Tipo_Ubicacion
    FROM APP.Tipo_Ubicacion
    WHERE Tipo_Ubicacion_Id = @Devolucion_Ubicacion_Origen_Id
),0)



-- DECLARE @Material_Stock_Total_Piso NUMERIC(15,4)
SET @Material_Stock_Total_Piso = ISNULL((
    SELECT TOP 1 SUM(mus_.Total_Stock) 
	FROM [APP].[Material_Ubicacion_Stock] mus_ 
	INNER JOIN APP.Tipo_Ubicacion tu ON (
    	mus_.Tipo_Ubicacion_Id = tu.Tipo_Ubicacion_Id
    	AND tu.Es_Piso = 1
	    AND tu.Clave_Tipo_Ubicacion = @Clave_
	    AND tu.Estatus_Registro_Id = 1
	)
	AND mus_.Material_Id = @Devolucion_Material_Id
	AND mus_.Tipo_Ubicacion_Id = @Devolucion_Ubicacion_Origen_Id
    AND mus_.Estatus_Registro_Id = 1
),0);


IF @Cantidad_A_Devolver IS NOT NULL BEGIN
  IF @Material_Stock_Total_Piso &lt; @Cantidad_A_Devolver
  BEGIN	
	  --SET @Devolucion_Material_Id = NULL
	  SET @BusinessRules_PreventDefault = 1
	  SET @Result_ShowViewMessage = 'La cantidad a devolver debe ser menor o igual a la cantidad de existencia en piso. La cantidad Actual es ' + CONVERT(VARCHAR(30),CONVERT(NUMERIC(15,4),@Material_Stock_Total_Piso))
	  SET @Result_ShowAlert = @Result_ShowViewMessage
	  RETURN
  END 
END
*/
</Script></update></c><c y="NodeSet" t="2021-06-07T18:44:18"><controller name="Movimiento_Detalle4" /><copy><controller name="Movimiento_Detalle1" /><rule id="r102" /></copy></c><c y="NodeSet" t="2021-06-07T18:44:21"><controller name="Movimiento_Detalle4" /><rule id="r102" /><update><Script>/*
DECLARE @Devolucion_Ubicacion_Origen_Id_ INT  -- APP.Tipo_Ubicacion.Tipo_Ubicacion_Id
SET @Devolucion_Ubicacion_Origen_Id_ = ISNULL((
    SELECT TOP 1 Devolucion_Ubicacion_Origen_Id 
    FROM APP.Movimiento 
    WHERE Movimiento_Id = @Movimiento_Id
),0)

DECLARE @Clave_ INT 
SET @Clave_ = ISNULL((
    SELECT TOP 1 Clave_Tipo_Ubicacion
    FROM APP.Tipo_Ubicacion
    WHERE Tipo_Ubicacion_Id = @Devolucion_Ubicacion_Origen_Id_
),0)



DECLARE @Material_Stock_Total_Piso_ NUMERIC(15,4)
SET @Material_Stock_Total_Piso_ = ISNULL((
    SELECT TOP 1 SUM(mus_.Total_Stock) 
	FROM [APP].[Material_Ubicacion_Stock] mus_ 
	INNER JOIN APP.Tipo_Ubicacion tu ON (
    	mus_.Tipo_Ubicacion_Id = tu.Tipo_Ubicacion_Id
    	AND tu.Es_Piso = 1
	    AND tu.Clave_Tipo_Ubicacion = @Clave_
	    AND tu.Estatus_Registro_Id = 1
	)
	AND mus_.Material_Id = @Devolucion_Material_Id
	AND mus_.Tipo_Ubicacion_Id = @Devolucion_Ubicacion_Origen_Id_
    AND mus_.Estatus_Registro_Id = 1
),0);


IF @Material_Stock_Total_Piso_ &lt; @Cantidad_A_Devolver
BEGIN	
    --SET @Devolucion_Material_Id = NULL
    SET @BusinessRules_PreventDefault = 1
    SET @Result_ShowViewMessage = 'La cantidad a devolver debe ser menor o igual a la cantidad de existencia en piso. La cantidad Actual es ' + CONVERT(VARCHAR(30),CONVERT(NUMERIC(15,4),@Material_Stock_Total_Piso))
    --SET @Result_ShowAlert = @Result_ShowViewMessage
    RETURN
END */
</Script></update></c><c y="NodeSet" t="2021-06-07T18:44:48"><controller name="Movimiento_Detalle4" /><rule id="r102" /><update><Script>/*
DECLARE @Devolucion_Ubicacion_Origen_Id_ INT  -- APP.Tipo_Ubicacion.Tipo_Ubicacion_Id
SET @Devolucion_Ubicacion_Origen_Id_ = ISNULL((
    SELECT TOP 1 Devolucion_Ubicacion_Origen_Id 
    FROM APP.Movimiento 
    WHERE Movimiento_Id = @Movimiento_Id
),0)

DECLARE @Clave_ INT 
SET @Clave_ = ISNULL((
    SELECT TOP 1 Clave_Tipo_Ubicacion
    FROM APP.Tipo_Ubicacion
    WHERE Tipo_Ubicacion_Id = @Devolucion_Ubicacion_Origen_Id_
),0)



DECLARE @Material_Stock_Total_Piso_ NUMERIC(15,4)
SET @Material_Stock_Total_Piso_ = ISNULL((
    SELECT TOP 1 SUM(mus_.Total_Stock) 
	FROM [APP].[Material_Ubicacion_Stock] mus_ 
	INNER JOIN APP.Tipo_Ubicacion tu ON (
    	mus_.Tipo_Ubicacion_Id = tu.Tipo_Ubicacion_Id
    	AND tu.Es_Piso = 1
	    AND tu.Clave_Tipo_Ubicacion = @Clave_
	    AND tu.Estatus_Registro_Id = 1
	)
	AND mus_.Material_Id = @Devolucion_Material_Id
	AND mus_.Tipo_Ubicacion_Id = @Devolucion_Ubicacion_Origen_Id_
    AND mus_.Estatus_Registro_Id = 1
),0);


IF @Material_Stock_Total_Piso_ &lt; @Cantidad_A_Devolver
BEGIN	
    --SET @Devolucion_Material_Id = NULL
    SET @BusinessRules_PreventDefault = 1
    SET @Result_ShowViewMessage = 'La cantidad a devolver debe ser menor o igual a la cantidad de existencia en piso. La cantidad Actual es ' + CONVERT(VARCHAR(30),CONVERT(NUMERIC(15,4),@Material_Stock_Total_Piso))
    --SET @Result_ShowAlert = @Result_ShowViewMessage
    RETURN
END */
</Script></update></c><c y="NodeSet" t="2021-06-08T09:18:43"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r100" /><update><Script>//this.preventDefault();
// Obtenemos el valor
var valor = $("#Cantidad_Material_Transferido").val();
var Ubicacion = [Transferencia_En_Ubicacion_Almacenamiento_Id]

var Ubicacion_Formulario = '';
var Transferencia_Material = [Transferencia_Material];

var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Movimiento_Ruta_Optima_Id = [Movimiento_Ruta_Optima_Id]
var Transferencia_Material_Id= [Transferencia_Material_Id]
var Cantidad_A_Transferir = [Cantidad_A_Transferir]
var Cantidad_Transferido = [Cantidad_Transferido]      
var Unidad_Material_Transferido_Id =  [Unidad_Material_Transferido_Id]
var Transferencia_En_Ubicacion_Almacenamiento_Id = [Transferencia_En_Ubicacion_Almacenamiento_Id]
var Movimiento = [Movimiento]
var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Material_Ubicacion_Stock_Id =[Material_Ubicacion_Stock_Id]


if(valor &gt; 0){
  //Asignamos el valor al campo [Cantidad_Transferido]
  [Cantidad_Transferido] = valor;
  Cantidad_Transferido = [Cantidad_Transferido];
  Ubicacion_Formulario = [Transferencia_En_Ubicacion_Almacenamiento] + '; ';
  fnDebug("Valor: " + valor);
  fnDebug("Cantidad_Transferido: " + [Cantidad_Transferido]);	
      
}

if(valor &lt; 0 ){
	this.preventDefault();
  	$app.alert("Ingrese cantidad de material v√°lido para devolver");   	
  	$("#Cantidad_Material_Transferido").focus();
}


if ( Ubicacion == 0 &amp;&amp; valor &gt; 0) {
  this.preventDefault();
  $app.alert("Error: La ubicaci√≥n es incorrecta, ingrese una ubicaci√≥n valida.");
  $([Transferencia_En_Ubicacion_Almacenamiento_Id]).focus();
}
else{
if(valor &gt; [Cantidad_A_Transferir]){
  fnDebug("&gt; Valor: " + valor);
  fnDebug("Cantidad_A_Transferir: " + [Cantidad_A_Transferir]);

  	this.preventDefault();
  	$app.alert("La cantidad transferido no debe ser mayor a la cantidad a transferir.");
  	$("#Cantidad_Material_Transferido").focus();
}
else
	{
      
      [Cantidad_Transferido] = valor; 
      Cantidad_Transferido = [Cantidad_Transferido];
      fnDebug("&gt; Cantidad_Transferido:" + Cantidad_Transferido);
      
      // Ejecutamos BR ExecCS01
      $app.execute({
        controller: 'Movimiento_Ruta_Optima_Ubicacion_almacenamiento3'
        , filter: [
            { field: 'Transferencia_Material_Id', operator: '=', value: [Transferencia_Material_Id] },
            { field: 'Movimiento_Ruta_Optima_Id', operator: '=', value: [Movimiento_Ruta_Optima_Id] },
            { field: 'Tipo_Movimiento_Id', operator: '=', value: [Tipo_Movimiento_Id] },
            { field: 'Estatus_Registro_Id', operator: '=', value: 1 },
          	{ field: 'Esta_En_Bcsap', operator: '=', value: 0 }
        ]
        , dataType: 'json'
        , done: function (result) {
    
            if (debug === 1) {
                console.log("result: ");
                console.log(result.Movimiento_Ruta_Optima_Ubicacion_almacenamiento3);
            }
    
            arregloUbicaciones = result.Movimiento_Ruta_Optima_Ubicacion_almacenamiento3;
    
            var Ubicaciones_Origen = Ubicacion_Formulario;
    
            arregloUbicaciones.forEach(function (elemento, indice, array) { Ubicaciones_Origen = Ubicaciones_Origen + elemento.Transferencia_Ubicacion_Almacenamiento + '; '; });
          
            $app.confirm(
                "Ingresar√° el material " + Transferencia_Material  + " en las siguientes ubicaciones: " + Ubicaciones_Origen + ". ¬øDesea continuar?"
            ).done(function (e) {
                if (debug == true) {
                    console.log("Se confirm√≥ la operaci√≥n");
                }
    
                // Ejecutamos BR ExecCS01
                // =======================
                $app.execute({
                    controller: 'Mov_Transfer_Ruta_Optima_A_Ejecutar_V'
                    , command: 'Custom'
                    , argument: 'ExecCS01'
                    , values: [
                      { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id}
                      ,{ name: 'Movimiento_Ruta_Optima_Id', newValue: Movimiento_Ruta_Optima_Id}
                      ,{ name: 'Transferencia_Material_Id', newValue: Transferencia_Material_Id}
                      ,{ name: 'Cantidad_A_Transferir', newValue: Cantidad_A_Transferir}
                      ,{ name: 'Cantidad_Transferido', newValue: Cantidad_Transferido}      
                      ,{ name: 'Unidad_Material_Transferido_Id', newValue: Unidad_Material_Transferido_Id}
                      ,{ name: 'Transferencia_En_Ubicacion_Almacenamiento_Id', newValue: Transferencia_En_Ubicacion_Almacenamiento_Id}
                      ,{ name: 'Movimiento', newValue: Movimiento}
                      ,{ name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id}
                      ,{ name: 'Material_Ubicacion_Stock_Id', newValue: Material_Ubicacion_Stock_Id}
                      ]
                    ,done: function (result) {
                          eval(result.clientScript); 
                          fnDebug("ExecCS01 result : ");
                          fnDebug(result);

                          // cerrar el modal que se se queda abierto
                          $app.touch.contextDataView().discard();
                          $app.touch.contextDataView().cancel();
                    }
                  })
    
            }); // END $app.confirm(
    
        } // END done execute Movimiento_Ruta_Optima_Ubicacion_almacenamiento3
    }); // END execute Movimiento_Ruta_Optima_Ubicacion_almacenamiento3

	}
    this.preventDefault();
}
</Script></update></c><c y="NodeSet" t="2021-06-08T09:25:40"><controller name="Movimiento_Detalle4" /><field name="Dev_Material" /><update><Label>Devoluci√≥n Material</Label></update></c><c y="NodeSet" t="2021-06-08T09:25:52"><controller name="Movimiento_Detalle4" /><field name="Dev_Material_Descripcion" /><update><Label>Devoluci√≥n Material Descripci√≥n</Label></update></c><c y="NodeSet" t="2021-06-08T09:27:09"><controller name="Movimiento_Detalle4" /><field name="Devolucion_Material_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:28:08"><controller name="Movimiento_Detalle4" /><field name="Movimiento_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:28:24"><controller name="Movimiento_Detalle4" /><field name="Devolucion_Ubicacion_Origen_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:28:34"><controller name="Movimiento_Detalle4" /><field name="Devolucion_Ubicacion_Destino_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:28:44"><controller name="Movimiento_Detalle4" /><field name="Estatus_Devolucion_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:28:58"><controller name="Movimiento_Detalle4" /><field name="Unidad_Material_A_Devolver_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:29:10"><controller name="Movimiento_Detalle4" /><field name="Unidad_Material_Devuelto_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:29:21"><controller name="Movimiento_Detalle4" /><field name="Transferencia_Material_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:29:32"><controller name="Movimiento_Detalle4" /><field name="Transferencia_Ubicacion_Origen_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:29:42"><controller name="Movimiento_Detalle4" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:29:52"><controller name="Movimiento_Detalle4" /><field name="Unidad_Material_A_Transferir_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:30:05"><controller name="Movimiento_Detalle4" /><field name="Unidad_Material_Transferido_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:30:15"><controller name="Movimiento_Detalle4" /><field name="Estatus_Transferencia_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:30:26"><controller name="Movimiento_Detalle4" /><field name="Motivo_Movimiento_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T09:30:44"><controller name="Movimiento_Detalle4" /><field name="Movimiento_Ruta_Optima_Id" /><update><Default>((0))</Default><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T12:06:55"><controller name="Movimiento_Detalle4" /><actionGroup id="ag1" /><action id="a1" /><update><CommandArgument>editForm1</CommandArgument></update></c><c y="NodeSet" t="2021-06-08T12:07:16"><controller name="Movimiento_Detalle4" /><actionGroup id="ag1" /><action id="a8" /><update><CommandArgument>createForm1</CommandArgument></update></c><c y="NodeSet" t="2021-06-08T12:07:26"><controller name="Movimiento_Detalle4" /><actionGroup id="ag1" /><action id="a10" /><update><CommandArgument>createForm1</CommandArgument></update></c><c y="NodeSet" t="2021-06-08T12:07:56"><controller name="Movimiento_Detalle4" /><actionGroup id="ag2" /><action id="a13" /><update><CommandArgument>createForm1</CommandArgument></update></c><c y="NodeSet" t="2021-06-08T12:08:14"><controller name="Movimiento_Detalle4" /><actionGroup id="ag2" /><action id="a13" /><update><CommandArgument>editForm1</CommandArgument></update></c><c y="NodeSet" t="2021-06-08T12:08:51"><controller name="Movimiento_Detalle4" /><actionGroup id="ag4" /><action id="a1" /><update><CommandArgument>editForm1</CommandArgument></update></c><c y="NodeSet" t="2021-06-08T12:09:05"><controller name="Movimiento_Detalle4" /><actionGroup id="ag9" /><action id="a1" /><update><CommandArgument>editForm1</CommandArgument></update></c><c y="NodeSet" t="2021-06-08T12:18:38"><controller name="Movimiento_Detalle4" /><field name="Motivo_Movimiento_Id" /><update><ItemsDataView>Motivo_Movimiento_Dev_LookUp_List</ItemsDataView></update></c><c y="NodeSet" t="2021-06-08T13:48:48"><controller name="Movimiento_Detalle4" /><field name="Unidad_Material_A_Devolver_Id" /><update><ItemsNewDataView /></update></c><c y="NodeSet" t="2021-06-08T13:52:33"><controller name="Movimiento_Detalle4" /><field name="Devolucion_Material_Id" /><update><ItemsNewDataView /></update></c><c y="NodeSet" t="2021-06-08T13:53:01"><controller name="Movimiento_Detalle4" /><field name="Motivo_Movimiento_Id" /><update><ItemsNewDataView /></update></c><c y="NodeSet" t="2021-06-08T14:36:42"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataValueField>Ubicacion_Almacenamiento_Id</ItemsDataValueField></update></c><c y="NodeSet" t="2021-06-08T14:44:11"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataValueField>Ubicacion_Almacenamiento_Area_Entrega_Id</ItemsDataValueField></update></c><c y="NodeSet" t="2021-06-08T14:51:57"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataValueField>Ubicacion_Almacenamiento_Id</ItemsDataValueField></update></c><c y="NodeSet" t="2021-06-08T15:04:51"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController>Ubicacion_Almacenamiento</ItemsDataController><ItemsDataView>Ubicacion_Almacenamiento_LookUp_List</ItemsDataView></update></c><c y="NodeSet" t="2021-06-08T15:06:33"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="UbicacionAlmacAreaEntrega_LookUp_List" /><copy><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><field name="Ubicacion_Almacenamiento" /></copy></c><c y="NodeSet" t="2021-06-08T15:06:37"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="UbicacionAlmacAreaEntrega_LookUp_List" /><dataField fieldName="Ubicacion_Almacenamiento_Id" /><move><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="UbicacionAlmacAreaEntrega_LookUp_List" /><dataField fieldName="Ubicacion_Almacenamiento" /></move></c><c y="NodeSet" t="2021-06-08T15:07:40"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController>Ubicacion_Almacenamiento_Area_Entrega</ItemsDataController><ItemsDataView>UbicacionAlmacAreaEntrega_LookUp_List</ItemsDataView><ItemsDataValueField>Ubicacion_Almacenamiento_Area_Entrega_Id</ItemsDataValueField></update></c><c y="NodeSet" t="2021-06-08T15:09:02"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataValueField>Ubicacion_Almacenamiento_Id</ItemsDataValueField></update></c><c y="NodeSet" t="2021-06-08T15:10:47"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><copy><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="grid1" /></copy></c><c y="NodeSet" t="2021-06-08T15:11:45"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="v100" /><rename>Ubicacion_Amacenamiento_Area_LookUp</rename></c><c y="NodeSet" t="2021-06-08T15:11:59"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp" /><rename>Ubicacion_Amacenamiento_Area_LookUp_List</rename></c><c y="NodeSet" t="2021-06-08T15:12:11"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><dataField fieldName="Creado_Por" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T15:12:17"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><dataField fieldName="Fecha_Creacion" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T15:12:23"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><dataField fieldName="Actualizado_Por" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T15:12:28"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><dataField fieldName="Fecha_Ultima_Actualizacion" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T15:16:49"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><copy><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><field name="Ubicacion_Almacenamiento" /></copy></c><c y="NodeSet" t="2021-06-08T15:16:49"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><copy><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><field name="Area_Entrega" /></copy></c><c y="NodeSet" t="2021-06-08T15:16:53"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><dataField fieldName="Ubicacion_Almacenamiento_Id" /><move><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><dataField fieldName="Ubicacion_Almacenamiento" /></move></c><c y="NodeSet" t="2021-06-08T15:16:56"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><dataField fieldName="Area_Entrega_Id" /><move><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><dataField fieldName="Area_Entrega" /></move></c><c y="NodeSet" t="2021-06-08T15:17:07"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><copy><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><field name="Estatus_Registro" /></copy></c><c y="NodeSet" t="2021-06-08T15:17:09"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><dataField fieldName="Estatus_Registro" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T15:17:55"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="UbicacionAlmacAreaEntrega_LookUp_List" /><dataField fieldName="Ubicacion_Almacenamiento" /><delete /></c><c y="NodeSet" t="2021-06-08T15:18:43"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><field name="Ubicacion_Almacenamiento_Id" /><update><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T15:18:54"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><field name="Area_Entrega_Id" /><update><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2021-06-08T15:28:29"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Amacenamiento_Area_LookUp_List" /><rename>Ubicacion_Almacenamiento_Area_LookUp_List</rename></c><c y="NodeSet" t="2021-06-08T15:29:01"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataView>Ubicacion_Almacenamiento_Area_LookUp_List</ItemsDataView></update></c><c y="NodeSet" t="2021-06-08T15:32:22"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy>Transferencia_Ubicacion_Destino = Ubicacion_Almacenamiento</Copy></update></c><c y="NodeSet" t="2021-06-08T15:33:38"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino" /><update><ContextFields>Transferencia_Ubicacion_Destino = Ubicacion_Almacenamiento</ContextFields></update></c><c y="NodeSet" t="2021-06-08T15:34:16"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino" /><update><ContextFields /></update></c><c y="NodeSet" t="2021-06-08T15:34:39"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy>Transferencia_Ubicacion_Destino_Id = Ubicacion_Almacenamiento</Copy></update></c><c y="NodeSet" t="2021-06-08T15:36:33"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy>Ubicacion_Almacenamiento=Transferencia_Ubicacion_Destino</Copy></update></c><c y="NodeSet" t="2021-06-08T15:37:19"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy>Transferencia_Ubicacion_Destino=Ubicacion_Almacenamiento</Copy></update></c><c y="NodeSet" t="2021-06-08T15:37:37"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataTextField>Ubicacion_Almacenamiento_Id</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-08T15:55:46"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataTextField>Ubicacion_Almacenamiento</ItemsDataTextField><Copy /></update></c><c y="NodeSet" t="2021-06-08T16:00:23"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataView>UbicacionAlmacAreaEntrega_LookUp_List</ItemsDataView><Copy>Transferencia_Ubicacion_Destino=Ubicacion_Almacenamiento</Copy></update></c><c y="NodeSet" t="2021-06-08T16:05:43"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController /><ItemsDataView /><ItemsDataValueField /><ItemsDataTextField /></update></c><c y="NodeSet" t="2021-06-08T16:06:14"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController>Ubicacion_Almacenamiento_Area_Entrega</ItemsDataController><ItemsDataView>UbicacionAlmacAreaEntrega_LookUp_List</ItemsDataView><ItemsDataValueField>Ubicacion_Almacenamiento_Id</ItemsDataValueField><ItemsDataTextField>Ubicacion_Almacenamiento</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-08T16:07:19"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataTextField>Ubicacion_Almacenamiento_Id</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-08T16:14:37"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Almacenamiento_Area_LookUp_List" /><dataField fieldName="Ubicacion_Almacenamiento" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T16:15:45"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataView>Ubicacion_Almacenamiento_Area_LookUp_List</ItemsDataView><ItemsDataTextField>Ubicacion_Almacenamiento</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-08T16:16:03"><controller name="Ubicacion_Almacenamiento_Area_Entrega" /><view id="Ubicacion_Almacenamiento_Area_LookUp_List" /><dataField fieldName="Ubicacion_Almacenamiento" /><update><ReadOnly>false</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T16:33:20"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataTextField>Area_Entrega</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-08T16:35:58"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataTextField>Ubicacion_Almacenamiento</ItemsDataTextField></update></c><c y="NodeSet" t="2021-06-08T16:43:07"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><category id="c1" /><copy><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino" /></copy></c><c y="NodeSet" t="2021-06-08T16:43:13"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Transferencia_Ubicacion_Destino_Id" /><move><controller name="Movimiento_Detalle2" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Transferencia_Ubicacion_Destino" /></move></c><c y="NodeSet" t="2021-06-08T16:43:16"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><dataField fieldName="Transferencia_Ubicacion_Destino" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T16:44:49"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><dataField fieldName="Transferencia_Ubicacion_Destino_Id" /><update><Alias>Transferencia_Ubicacion_Destino_Id</Alias><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T16:45:01"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><dataField fieldName="Transferencia_Ubicacion_Destino" /><update><Alias>Transferencia_Ubicacion_Destino</Alias><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T16:46:24"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Transferencia_Ubicacion_Destino" /><delete /></c><c y="NodeSet" t="2021-06-08T16:46:34"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><dataField fieldName="Transferencia_Ubicacion_Destino_Id" /><update><Alias>Transferencia_Ubicacion_Destino</Alias><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T18:15:41"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ContextFields /></update></c><c y="NodeSet" t="2021-06-08T18:22:48"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy /></update></c><c y="NodeSet" t="2021-06-08T18:23:04"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><dataField fieldName="Transferencia_Ubicacion_Destino_Id" /><update><Alias /><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T18:42:14"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController>Ubicacion_Almacenamiento</ItemsDataController><ItemsDataView>Ubicacion_Almacenamiento_LookUp_List</ItemsDataView></update></c><c y="NodeSet" t="2021-06-08T18:46:25"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><dataField fieldName="Area_Entrega_Id" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T18:48:21"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ItemsDataController>Ubicacion_Almacenamiento_Area_Entrega</ItemsDataController><ItemsDataView>UbicacionAlmacAreaEntrega_LookUp_List</ItemsDataView></update></c><c y="NodeSet" t="2021-06-08T18:51:21"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ContextFields>Aria_Entrega_Id = Aria_Entrega_Id </ContextFields></update></c><c y="NodeSet" t="2021-06-08T18:51:44"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><ContextFields>Area_Entrega_Id = Area_Entrega_Id </ContextFields></update></c><c y="NodeSet" t="2021-06-08T18:57:13"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy>Transferencia_Ubicacion_Destino=Ubicacion_Almacenamiento</Copy></update></c><c y="NodeSet" t="2021-06-08T19:00:04"><controller name="Movimiento_Detalle2" /><view id="createForm1" /><dataField fieldName="Transferencia_Ubicacion_Destino_Id" /><update><Alias>Transferencia_Ubicacion_Destino</Alias><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-08T19:08:41"><controller name="Movimiento_Detalle2" /><field name="Transferencia_Ubicacion_Destino_Id" /><update><Copy>Transferencia_Ubicacion_Destino=Ubicacion_Almacenamiento
Transferencia_Ubicacion_Destino_Id=Ubicacion_Almacenamiento_Id</Copy></update></c><c y="NodeSet" t="2021-06-08T19:23:15"><controller name="Mov_Transfer_Ruta_Optima_A_Ejecutar_V" /><rule id="r100" /><update><Script>//this.preventDefault();
// Obtenemos el valor
var valor = $("#Cantidad_Material_Transferido").val();
var Ubicacion = [Transferencia_En_Ubicacion_Almacenamiento_Id]

var Ubicacion_Formulario = '';
var Transferencia_Material = [Transferencia_Material];

var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Movimiento_Ruta_Optima_Id = [Movimiento_Ruta_Optima_Id]
var Transferencia_Material_Id= [Transferencia_Material_Id]
var Cantidad_A_Transferir = [Cantidad_A_Transferir]
var Cantidad_Transferido = [Cantidad_Transferido]      
var Unidad_Material_Transferido_Id =  [Unidad_Material_Transferido_Id]
var Transferencia_En_Ubicacion_Almacenamiento_Id = [Transferencia_En_Ubicacion_Almacenamiento_Id]
var Movimiento = [Movimiento]
var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Material_Ubicacion_Stock_Id =[Material_Ubicacion_Stock_Id]


if(valor &gt; 0){
  //Asignamos el valor al campo [Cantidad_Transferido]
  [Cantidad_Transferido] = valor;
  Cantidad_Transferido = [Cantidad_Transferido];
  Ubicacion_Formulario = [Transferencia_En_Ubicacion_Almacenamiento] + '; ';
  fnDebug("Valor: " + valor);
  fnDebug("Cantidad_Transferido: " + [Cantidad_Transferido]);	
      
}

if(valor &lt; 0 ){
	this.preventDefault();
  	$app.alert("Ingrese cantidad de material v√°lido para devolver");   	
  	$("#Cantidad_Material_Transferido").focus();
}


if ( Ubicacion == 0 &amp;&amp; valor &gt; 0) {
  this.preventDefault();
  $app.alert("Seleccione una ubicaci√≥n v√°lida.");
  $([Transferencia_En_Ubicacion_Almacenamiento_Id]).focus();
}
else{
if(valor &gt; [Cantidad_A_Transferir]){
  fnDebug("&gt; Valor: " + valor);
  fnDebug("Cantidad_A_Transferir: " + [Cantidad_A_Transferir]);

  	this.preventDefault();
  	$app.alert("La cantidad transferido no debe ser mayor a la cantidad a transferir.");
  	$("#Cantidad_Material_Transferido").focus();
}
else
	{
      
      [Cantidad_Transferido] = valor; 
      Cantidad_Transferido = [Cantidad_Transferido];
      fnDebug("&gt; Cantidad_Transferido:" + Cantidad_Transferido);
      
      // Ejecutamos BR ExecCS01
      $app.execute({
        controller: 'Movimiento_Ruta_Optima_Ubicacion_almacenamiento3'
        , filter: [
            { field: 'Transferencia_Material_Id', operator: '=', value: [Transferencia_Material_Id] },
            { field: 'Movimiento_Ruta_Optima_Id', operator: '=', value: [Movimiento_Ruta_Optima_Id] },
            { field: 'Tipo_Movimiento_Id', operator: '=', value: [Tipo_Movimiento_Id] },
            { field: 'Estatus_Registro_Id', operator: '=', value: 1 },
          	{ field: 'Esta_En_Bcsap', operator: '=', value: 0 }
        ]
        , dataType: 'json'
        , done: function (result) {
    
            if (debug === 1) {
                console.log("result: ");
                console.log(result.Movimiento_Ruta_Optima_Ubicacion_almacenamiento3);
            }
    
            arregloUbicaciones = result.Movimiento_Ruta_Optima_Ubicacion_almacenamiento3;
    
            var Ubicaciones_Origen = Ubicacion_Formulario;
    
            arregloUbicaciones.forEach(function (elemento, indice, array) { Ubicaciones_Origen = Ubicaciones_Origen + elemento.Transferencia_Ubicacion_Almacenamiento + '; '; });
          
            $app.confirm(
                "Ingresar√° el material " + Transferencia_Material  + " en las siguientes ubicaciones: " + Ubicaciones_Origen + ". ¬øDesea continuar?"
            ).done(function (e) {
                if (debug == true) {
                    console.log("Se confirm√≥ la operaci√≥n");
                }
    
                // Ejecutamos BR ExecCS01
                // =======================
                $app.execute({
                    controller: 'Mov_Transfer_Ruta_Optima_A_Ejecutar_V'
                    , command: 'Custom'
                    , argument: 'ExecCS01'
                    , values: [
                      { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id}
                      ,{ name: 'Movimiento_Ruta_Optima_Id', newValue: Movimiento_Ruta_Optima_Id}
                      ,{ name: 'Transferencia_Material_Id', newValue: Transferencia_Material_Id}
                      ,{ name: 'Cantidad_A_Transferir', newValue: Cantidad_A_Transferir}
                      ,{ name: 'Cantidad_Transferido', newValue: Cantidad_Transferido}      
                      ,{ name: 'Unidad_Material_Transferido_Id', newValue: Unidad_Material_Transferido_Id}
                      ,{ name: 'Transferencia_En_Ubicacion_Almacenamiento_Id', newValue: Transferencia_En_Ubicacion_Almacenamiento_Id}
                      ,{ name: 'Movimiento', newValue: Movimiento}
                      ,{ name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id}
                      ,{ name: 'Material_Ubicacion_Stock_Id', newValue: Material_Ubicacion_Stock_Id}
                      ]
                    ,done: function (result) {
                          eval(result.clientScript); 
                          fnDebug("ExecCS01 result : ");
                          fnDebug(result);

                          // cerrar el modal que se se queda abierto
                          $app.touch.contextDataView().discard();
                          $app.touch.contextDataView().cancel();
                    }
                  })
    
            }); // END $app.confirm(
    
        } // END done execute Movimiento_Ruta_Optima_Ubicacion_almacenamiento3
    }); // END execute Movimiento_Ruta_Optima_Ubicacion_almacenamiento3

	}
    this.preventDefault();
}
</Script></update></c><c y="NodeSet" t="2021-06-08T19:39:50"><controller name="Mov_Dev_Ruta_Optima_A_Ejecutar_V" /><rule id="r101" /><update><Script>//this.preventDefault();
// Obtenemos el valor
var valor = $("#Cantidad_Material_Devuelto").val();
var Ubicacion = [Devolucion_En_Ubicacion_Almacenamiento_Id]
//-------------------------------//
var Ubicacion_Formulario = '';
var material_Devolucion = [Devolucion_Material];
//Variables ExecCS01
var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Movimiento_Ruta_Optima_Id = [Movimiento_Ruta_Optima_Id]
var Devolucion_Material_Id = [Devolucion_Material_Id] 
var Cantidad_A_Devolver = [Cantidad_A_Devolver]
var Cantidad_Devuelto = [Cantidad_Devuelto]
var Unidad_Material_Devuelto_Id = [Unidad_Material_Devuelto_Id]
var Devolucion_En_Ubicacion_Almacenamiento_Id = [Devolucion_En_Ubicacion_Almacenamiento_Id]
var Movimiento = [Movimiento]
var Material_Ubicacion_Stock_Id=[Material_Ubicacion_Stock_Id];

if ( Ubicacion == 0) {
  this.preventDefault();
  $app.alert("Error: La ubicaci√≥n es incorrecta, ingrese una ubicaci√≥n valida.");
  $([Devolucion_En_Ubicacion_Almacenamiento_Id]).focus();
}
else
{    
if (valor &gt; 0) {
    //Asignamos el valor al campo [Cantidad_Devuelto]
    [Cantidad_Devuelto] = valor;
    Cantidad_Devuelto = [Cantidad_Devuelto];
    Ubicacion_Formulario = [Devolucion_En_Ubicacion_Almacenamiento] + '; ';
    fnDebug("Valor: " + valor);
    fnDebug("Cantidad_Devuelto: " + [Cantidad_Devuelto]);

}

if (valor &lt; 0) {
    this.preventDefault();
    $app.alert("Ingrese cantidad de material v√°lido para devolver");
    $("#Cantidad_Material_Devuelto").focus();
}
else{

    if (valor &gt; [Cantidad_A_Devolver]) {
        fnDebug("&gt; Valor: " + valor);
        fnDebug("Cantidad_A_Devolver: " + [Cantidad_A_Devolver]);

        this.preventDefault();
        $app.alert("La cantidad devuelto no debe ser mayor a la cantidad a devolver.");
        $("#Cantidad_Material_Devuelto").focus();
    }
    else {
       
        $app.execute({
            controller: 'Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1'
            , filter: [
                { field: 'Devolucion_Material_Id', operator: '=', value: [Devolucion_Material_Id] },
                { field: 'Movimiento_Ruta_Optima_Id', operator: '=', value: [Movimiento_Ruta_Optima_Id] },
                { field: 'Tipo_Movimiento_Id', operator: '=', value: [Tipo_Movimiento_Id] },
                { field: 'Estatus_Registro_Id', operator: '=', value: 1 },
              	{ field: 'Esta_En_Bcsap', operator: '=', value: 0 }
            ]
            , dataType: 'json'
            , done: function (result) {
        
                if (debug === 1) {
                    console.log("result: ");
                    console.log(result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1);
                }
        
                arregloUbicaciones = result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1;
        
                var Ubicaciones_Origen = Ubicacion_Formulario;
        
                arregloUbicaciones.forEach(function (elemento, indice, array) { Ubicaciones_Origen = Ubicaciones_Origen + elemento.Devolucion_Ubicacion_Almacenamiento + '; '; });
                            
        
                $app.confirm(
                    "Realizar√° la devoluci√≥n del material " + material_Devolucion + " en las siguientes ubicaciones: " + Ubicaciones_Origen + ". ¬øDesea continuar?"
                ).done(function (e) {
                    if (debug == true) {
                        console.log("Se confirm√≥ la operaci√≥n");
                    }
        
                    // Ejecutamos BR ExecCS01
                    // =======================
                    $app.execute({
                        controller: 'Mov_Dev_Ruta_Optima_A_Ejecutar_V'
                        , command: 'Custom'
                        , argument: 'ExecCS01'
                        , values: [
                            { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Movimiento_Ruta_Optima_Id', newValue: Movimiento_Ruta_Optima_Id }
                            , { name: 'Devolucion_Material_Id', newValue: Devolucion_Material_Id }
                            , { name: 'Cantidad_A_Devolver', newValue: Cantidad_A_Devolver }
                            , { name: 'Cantidad_Devuelto', newValue: Cantidad_Devuelto }
                            , { name: 'Unidad_Material_Devuelto_Id', newValue: Unidad_Material_Devuelto_Id }
                            , { name: 'Devolucion_En_Ubicacion_Almacenamiento_Id', newValue: Devolucion_En_Ubicacion_Almacenamiento_Id }
                            , { name: 'Movimiento', newValue: Movimiento }
                            , { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Material_Ubicacion_Stock_Id', newValue: Material_Ubicacion_Stock_Id}
                        ]
                        , done: function (result) {
                            eval(result.clientScript);
                            fnDebug("ExecCS01 result : ");
                            fnDebug(result);
            
                             // cerrar el modal que se se queda abierto
                             $app.touch.contextDataView().discard();
                             $app.touch.contextDataView().cancel();
            
                        }
                    })
                    
        
                }); // END $app.confirm(
        
            } // END done execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
        }); // END execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
    }
    this.preventDefault();
}
}  </Script></update></c><c y="NodeSet" t="2021-06-08T19:40:31"><controller name="Mov_Dev_Ruta_Optima_A_Ejecutar_V" /><rule id="r101" /><update><Script>//this.preventDefault();
// Obtenemos el valor
var valor = $("#Cantidad_Material_Devuelto").val();
var Ubicacion = [Devolucion_En_Ubicacion_Almacenamiento_Id]
//-------------------------------//
var Ubicacion_Formulario = '';
var material_Devolucion = [Devolucion_Material];
//Variables ExecCS01
var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Movimiento_Ruta_Optima_Id = [Movimiento_Ruta_Optima_Id]
var Devolucion_Material_Id = [Devolucion_Material_Id] 
var Cantidad_A_Devolver = [Cantidad_A_Devolver]
var Cantidad_Devuelto = [Cantidad_Devuelto]
var Unidad_Material_Devuelto_Id = [Unidad_Material_Devuelto_Id]
var Devolucion_En_Ubicacion_Almacenamiento_Id = [Devolucion_En_Ubicacion_Almacenamiento_Id]
var Movimiento = [Movimiento]
var Material_Ubicacion_Stock_Id=[Material_Ubicacion_Stock_Id];

if ( Ubicacion == 0 &amp;&amp; valor &gt; 0) {
  this.preventDefault();
  $app.alert("Error: La ubicaci√≥n es incorrecta, ingrese una ubicaci√≥n valida.");
  $([Devolucion_En_Ubicacion_Almacenamiento_Id]).focus();
}
else
{    
if (valor &gt; 0) {
    //Asignamos el valor al campo [Cantidad_Devuelto]
    [Cantidad_Devuelto] = valor;
    Cantidad_Devuelto = [Cantidad_Devuelto];
    Ubicacion_Formulario = [Devolucion_En_Ubicacion_Almacenamiento] + '; ';
    fnDebug("Valor: " + valor);
    fnDebug("Cantidad_Devuelto: " + [Cantidad_Devuelto]);

}

if (valor &lt; 0) {
    this.preventDefault();
    $app.alert("Ingrese cantidad de material v√°lido para devolver");
    $("#Cantidad_Material_Devuelto").focus();
}
else{

    if (valor &gt; [Cantidad_A_Devolver]) {
        fnDebug("&gt; Valor: " + valor);
        fnDebug("Cantidad_A_Devolver: " + [Cantidad_A_Devolver]);

        this.preventDefault();
        $app.alert("La cantidad devuelto no debe ser mayor a la cantidad a devolver.");
        $("#Cantidad_Material_Devuelto").focus();
    }
    else {
       
        $app.execute({
            controller: 'Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1'
            , filter: [
                { field: 'Devolucion_Material_Id', operator: '=', value: [Devolucion_Material_Id] },
                { field: 'Movimiento_Ruta_Optima_Id', operator: '=', value: [Movimiento_Ruta_Optima_Id] },
                { field: 'Tipo_Movimiento_Id', operator: '=', value: [Tipo_Movimiento_Id] },
                { field: 'Estatus_Registro_Id', operator: '=', value: 1 },
              	{ field: 'Esta_En_Bcsap', operator: '=', value: 0 }
            ]
            , dataType: 'json'
            , done: function (result) {
        
                if (debug === 1) {
                    console.log("result: ");
                    console.log(result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1);
                }
        
                arregloUbicaciones = result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1;
        
                var Ubicaciones_Origen = Ubicacion_Formulario;
        
                arregloUbicaciones.forEach(function (elemento, indice, array) { Ubicaciones_Origen = Ubicaciones_Origen + elemento.Devolucion_Ubicacion_Almacenamiento + '; '; });
                            
        
                $app.confirm(
                    "Realizar√° la devoluci√≥n del material " + material_Devolucion + " en las siguientes ubicaciones: " + Ubicaciones_Origen + ". ¬øDesea continuar?"
                ).done(function (e) {
                    if (debug == true) {
                        console.log("Se confirm√≥ la operaci√≥n");
                    }
        
                    // Ejecutamos BR ExecCS01
                    // =======================
                    $app.execute({
                        controller: 'Mov_Dev_Ruta_Optima_A_Ejecutar_V'
                        , command: 'Custom'
                        , argument: 'ExecCS01'
                        , values: [
                            { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Movimiento_Ruta_Optima_Id', newValue: Movimiento_Ruta_Optima_Id }
                            , { name: 'Devolucion_Material_Id', newValue: Devolucion_Material_Id }
                            , { name: 'Cantidad_A_Devolver', newValue: Cantidad_A_Devolver }
                            , { name: 'Cantidad_Devuelto', newValue: Cantidad_Devuelto }
                            , { name: 'Unidad_Material_Devuelto_Id', newValue: Unidad_Material_Devuelto_Id }
                            , { name: 'Devolucion_En_Ubicacion_Almacenamiento_Id', newValue: Devolucion_En_Ubicacion_Almacenamiento_Id }
                            , { name: 'Movimiento', newValue: Movimiento }
                            , { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Material_Ubicacion_Stock_Id', newValue: Material_Ubicacion_Stock_Id}
                        ]
                        , done: function (result) {
                            eval(result.clientScript);
                            fnDebug("ExecCS01 result : ");
                            fnDebug(result);
            
                             // cerrar el modal que se se queda abierto
                             $app.touch.contextDataView().discard();
                             $app.touch.contextDataView().cancel();
            
                        }
                    })
                    
        
                }); // END $app.confirm(
        
            } // END done execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
        }); // END execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
    }
    this.preventDefault();
}
}  </Script></update></c><c y="NodeSet" t="2021-06-08T19:41:38"><controller name="Mov_Dev_Ruta_Optima_A_Ejecutar_V" /><rule id="r101" /><update><Script>//this.preventDefault();
// Obtenemos el valor
var valor = $("#Cantidad_Material_Devuelto").val();
var Ubicacion = [Devolucion_En_Ubicacion_Almacenamiento_Id]
//-------------------------------//
var Ubicacion_Formulario = '';
var material_Devolucion = [Devolucion_Material];
//Variables ExecCS01
var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Movimiento_Ruta_Optima_Id = [Movimiento_Ruta_Optima_Id]
var Devolucion_Material_Id = [Devolucion_Material_Id] 
var Cantidad_A_Devolver = [Cantidad_A_Devolver]
var Cantidad_Devuelto = [Cantidad_Devuelto]
var Unidad_Material_Devuelto_Id = [Unidad_Material_Devuelto_Id]
var Devolucion_En_Ubicacion_Almacenamiento_Id = [Devolucion_En_Ubicacion_Almacenamiento_Id]
var Movimiento = [Movimiento]
var Material_Ubicacion_Stock_Id=[Material_Ubicacion_Stock_Id];

if ( Ubicacion == 0 &amp;&amp; valor &gt; 0) {
  this.preventDefault();
  $app.alert("Seleccione una ubicaci√≥n v√°lida.");
  $([Devolucion_En_Ubicacion_Almacenamiento_Id]).focus();
}
else
{    
if (valor &gt; 0) {
    //Asignamos el valor al campo [Cantidad_Devuelto]
    [Cantidad_Devuelto] = valor;
    Cantidad_Devuelto = [Cantidad_Devuelto];
    Ubicacion_Formulario = [Devolucion_En_Ubicacion_Almacenamiento] + '; ';
    fnDebug("Valor: " + valor);
    fnDebug("Cantidad_Devuelto: " + [Cantidad_Devuelto]);

}

if (valor &lt; 0) {
    this.preventDefault();
    $app.alert("Ingrese cantidad de material v√°lido para devolver");
    $("#Cantidad_Material_Devuelto").focus();
}
else{

    if (valor &gt; [Cantidad_A_Devolver]) {
        fnDebug("&gt; Valor: " + valor);
        fnDebug("Cantidad_A_Devolver: " + [Cantidad_A_Devolver]);

        this.preventDefault();
        $app.alert("La cantidad devuelto no debe ser mayor a la cantidad a devolver.");
        $("#Cantidad_Material_Devuelto").focus();
    }
    else {
       
        $app.execute({
            controller: 'Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1'
            , filter: [
                { field: 'Devolucion_Material_Id', operator: '=', value: [Devolucion_Material_Id] },
                { field: 'Movimiento_Ruta_Optima_Id', operator: '=', value: [Movimiento_Ruta_Optima_Id] },
                { field: 'Tipo_Movimiento_Id', operator: '=', value: [Tipo_Movimiento_Id] },
                { field: 'Estatus_Registro_Id', operator: '=', value: 1 },
              	{ field: 'Esta_En_Bcsap', operator: '=', value: 0 }
            ]
            , dataType: 'json'
            , done: function (result) {
        
                if (debug === 1) {
                    console.log("result: ");
                    console.log(result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1);
                }
        
                arregloUbicaciones = result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1;
        
                var Ubicaciones_Origen = Ubicacion_Formulario;
        
                arregloUbicaciones.forEach(function (elemento, indice, array) { Ubicaciones_Origen = Ubicaciones_Origen + elemento.Devolucion_Ubicacion_Almacenamiento + '; '; });
                            
        
                $app.confirm(
                    "Realizar√° la devoluci√≥n del material " + material_Devolucion + " en las siguientes ubicaciones: " + Ubicaciones_Origen + ". ¬øDesea continuar?"
                ).done(function (e) {
                    if (debug == true) {
                        console.log("Se confirm√≥ la operaci√≥n");
                    }
        
                    // Ejecutamos BR ExecCS01
                    // =======================
                    $app.execute({
                        controller: 'Mov_Dev_Ruta_Optima_A_Ejecutar_V'
                        , command: 'Custom'
                        , argument: 'ExecCS01'
                        , values: [
                            { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Movimiento_Ruta_Optima_Id', newValue: Movimiento_Ruta_Optima_Id }
                            , { name: 'Devolucion_Material_Id', newValue: Devolucion_Material_Id }
                            , { name: 'Cantidad_A_Devolver', newValue: Cantidad_A_Devolver }
                            , { name: 'Cantidad_Devuelto', newValue: Cantidad_Devuelto }
                            , { name: 'Unidad_Material_Devuelto_Id', newValue: Unidad_Material_Devuelto_Id }
                            , { name: 'Devolucion_En_Ubicacion_Almacenamiento_Id', newValue: Devolucion_En_Ubicacion_Almacenamiento_Id }
                            , { name: 'Movimiento', newValue: Movimiento }
                            , { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Material_Ubicacion_Stock_Id', newValue: Material_Ubicacion_Stock_Id}
                        ]
                        , done: function (result) {
                            eval(result.clientScript);
                            fnDebug("ExecCS01 result : ");
                            fnDebug(result);
            
                             // cerrar el modal que se se queda abierto
                             $app.touch.contextDataView().discard();
                             $app.touch.contextDataView().cancel();
            
                        }
                    })
                    
        
                }); // END $app.confirm(
        
            } // END done execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
        }); // END execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
    }
    this.preventDefault();
}
}  </Script></update></c><c y="NodeSet" t="2021-06-08T19:45:01"><controller name="Mov_Dev_Ruta_Optima_A_Ejecutar_V" /><rule id="r101" /><update><Script>//this.preventDefault();
// Obtenemos el valor
var valor = $("#Cantidad_Material_Devuelto").val();
var Ubicacion = [Devolucion_En_Ubicacion_Almacenamiento_Id]
//-------------------------------//
var Ubicacion_Formulario = '';
var material_Devolucion = [Devolucion_Material];
//Variables ExecCS01
var Tmp_Ruta_Optima_Transaccion_Id = [Tmp_Ruta_Optima_Transaccion_Id]
var Movimiento_Ruta_Optima_Id = [Movimiento_Ruta_Optima_Id]
var Devolucion_Material_Id = [Devolucion_Material_Id] 
var Cantidad_A_Devolver = [Cantidad_A_Devolver]
var Cantidad_Devuelto = [Cantidad_Devuelto]
var Unidad_Material_Devuelto_Id = [Unidad_Material_Devuelto_Id]
var Devolucion_En_Ubicacion_Almacenamiento_Id = [Devolucion_En_Ubicacion_Almacenamiento_Id]
var Movimiento = [Movimiento]
var Material_Ubicacion_Stock_Id=[Material_Ubicacion_Stock_Id];

if ( Ubicacion == 0 &amp;&amp; valor &gt; 0) {
  this.preventDefault();
  $app.alert("Seleccione una ubicaci√≥n v√°lida.");
  $([Devolucion_En_Ubicacion_Almacenamiento_Id]).focus();
}
else
{    
if (valor &gt; 0) {
    //Asignamos el valor al campo [Cantidad_Devuelto]
    [Cantidad_Devuelto] = valor;
    Cantidad_Devuelto = [Cantidad_Devuelto];
    Ubicacion_Formulario = [Devolucion_En_Ubicacion_Almacenamiento] + '; ';
    fnDebug("Valor: " + valor);
    fnDebug("Cantidad_Devuelto: " + [Cantidad_Devuelto]);

}

if (valor &lt; 0) {
    this.preventDefault();
    $app.alert("Ingrese cantidad de material v√°lido para devolver");
    $("#Cantidad_Material_Devuelto").focus();
}
else{

    if (valor &gt; [Cantidad_A_Devolver]) {
        fnDebug("&gt; Valor: " + valor);
        fnDebug("Cantidad_A_Devolver: " + [Cantidad_A_Devolver]);

        this.preventDefault();
        $app.alert("La cantidad devuelto no debe ser mayor a la cantidad a devolver.");
        $("#Cantidad_Material_Devuelto").focus();
    }
    else {
       
        $app.execute({
            controller: 'Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1'
            , filter: [
                { field: 'Devolucion_Material_Id', operator: '=', value: [Devolucion_Material_Id] },
                { field: 'Movimiento_Ruta_Optima_Id', operator: '=', value: [Movimiento_Ruta_Optima_Id] },
                { field: 'Tipo_Movimiento_Id', operator: '=', value: [Tipo_Movimiento_Id] },
                { field: 'Estatus_Registro_Id', operator: '=', value: 1 },
              	{ field: 'Esta_En_Bcsap', operator: '=', value: 0 }
            ]
            , dataType: 'json'
            , done: function (result) {
        
                if (debug === 1) {
                    console.log("result: ");
                    console.log(result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1);
                }
        
                arregloUbicaciones = result.Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1;
        
                var Ubicaciones_Origen = Ubicacion_Formulario;
        
                arregloUbicaciones.forEach(function (elemento, indice, array) { Ubicaciones_Origen = Ubicaciones_Origen + elemento.Devolucion_Ubicacion_Almacenamiento + '; '; });
                            
        
                $app.confirm(
                    "Realizar√° la devoluci√≥n del material " + material_Devolucion + " en las siguientes ubicaciones: " + Ubicaciones_Origen + ". ¬øDesea continuar?"
                ).done(function (e) {
                    if (debug == true) {
                        console.log("Se confirm√≥ la operaci√≥n");
                    }
        
                    // Ejecutamos BR ExecCS01
                    // =======================
                    $app.execute({
                        controller: 'Mov_Dev_Ruta_Optima_A_Ejecutar_V'
                        , command: 'Custom'
                        , argument: 'ExecCS01'
                        , values: [
                            { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Movimiento_Ruta_Optima_Id', newValue: Movimiento_Ruta_Optima_Id }
                            , { name: 'Devolucion_Material_Id', newValue: Devolucion_Material_Id }
                            , { name: 'Cantidad_A_Devolver', newValue: Cantidad_A_Devolver }
                            , { name: 'Cantidad_Devuelto', newValue: Cantidad_Devuelto }
                            , { name: 'Unidad_Material_Devuelto_Id', newValue: Unidad_Material_Devuelto_Id }
                            , { name: 'Devolucion_En_Ubicacion_Almacenamiento_Id', newValue: Devolucion_En_Ubicacion_Almacenamiento_Id }
                            , { name: 'Movimiento', newValue: Movimiento }
                            , { name: 'Tmp_Ruta_Optima_Transaccion_Id', newValue: Tmp_Ruta_Optima_Transaccion_Id }
                            , { name: 'Material_Ubicacion_Stock_Id', newValue: Material_Ubicacion_Stock_Id}
                        ]
                        , done: function (result) {
                            eval(result.clientScript);
                            fnDebug("ExecCS01 result : ");
                            fnDebug(result);
            
                             // cerrar el modal que se se queda abierto
                             $app.touch.contextDataView().discard();
                             $app.touch.contextDataView().cancel();
            
                        }
                    })
                    
        
                }); // END $app.confirm(
        
            } // END done execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
        }); // END execute Movimiento_Ruta_Optima_Ubicacion_Almacenamiento1
    }
    this.preventDefault();
}
}  </Script></update></c><c y="NodeSet" t="2021-06-11T15:20:17"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id 
---------------------------------------------   
DECLARE @Es_Transferencia_De_Material BIT = 1
DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 19
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 30
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 30


SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)

SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Movimiento_Detalle SET 
        Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_Transferencia_Cancelado_Id
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-11T15:36:50"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id 
---------------------------------------------   
DECLARE @Es_Transferencia_De_Material BIT = 1
DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 19
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 30
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 30
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0


SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)

SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Movimiento_Detalle SET 
        Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_Transferencia_Cancelado_Id
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-11T15:51:34"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id 
---------------------------------------------   
DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 19
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 30
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 30
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0


SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)

SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Movimiento_Detalle SET 
        Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_Transferencia_Cancelado_Id
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-11T16:09:32"><controller name="Movimiento_Detalle2" /><actionGroup id="ag2" /><action id="a4" /><update><WhenClientScript /></update></c><c y="NodeSet" t="2021-06-11T17:02:50"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id 
---------------------------------------------   
DECLARE @Significa_Cancelado BIT = 13
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 30
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 30
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0


SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)

SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Movimiento_Detalle SET 
        Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_Transferencia_Cancelado_Id
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-11T17:03:17"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id 
---------------------------------------------   
DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 13
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 30
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 30
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0


SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)

SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Movimiento_Detalle SET 
        Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_Transferencia_Cancelado_Id
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-11T17:24:59"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id 
---------------------------------------------   
DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 13
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 30
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 30
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0


SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)

SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Movimiento_Detalle 
	SET Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_Transferencia_Cancelado_Id
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-11T17:33:40"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id 
---------------------------------------------   
DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 13
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 30
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 15
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0


SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)

SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Movimiento_Detalle 
	SET Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_Transferencia_Cancelado_Id
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-11T18:22:59"><controller name="Estatus_Movimiento" /><view id="Estatus_Mov_Transf_LookUp_List" /><dataField fieldName="En_Proceso_Enviado_A_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-11T18:23:32"><controller name="Estatus_Movimiento" /><view id="Estatus_Mov_Transf_LookUp_List" /><dataField fieldName="SignificaEnviadoATransferir" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-11T18:58:41"><controller name="Estatus_Movimiento" /><view id="Estatus_Mov_Transf_LookUp_List" /><dataField fieldName="En_Proceso_Enviado_A_Transferencia" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-11T18:58:48"><controller name="Estatus_Movimiento" /><view id="Estatus_Mov_Transf_LookUp_List" /><dataField fieldName="SignificaEnviadoATransferir" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-11T19:01:49"><controller name="Movimiento_Detalle2" /><actionGroup id="ag6" /><action id="a1" /><update><WhenClientScript /></update></c><c y="NodeSet" t="2021-06-11T19:03:41"><controller name="Movimiento_Detalle2" /><rule id="r104" /><update><Script>/*SELECT 
	TOP 1 
	@Transferencia_Ubicacion_Origen_Id = m.Transferencia_Ubicacion_Origen_Id 
	,@Transferencia_Ubicacion_Destino_Id = m.Transferencia_Ubicacion_Destino_Id
	,@Area_Entrega_Id = m.Area_Entrega_Id
	FROM 
		APP.Movimiento m 
	WHERE
		m.Movimiento_Id = @Movimiento_Id;*/
									  
-----------									  
/*SELECT 
  	TOP 1	
	@Estatus_Movimiento_Id  = em.Estatus_Movimiento_Id 
	,@Estatus_Movimiento = em.Estatus_Movimiento	
	FROM 
		[APP].[Estatus_Movimiento] em 
	WHERE em.Estatus_Registro_Id = 1 
	AND em.Aplica_A_Transferencia = 1 
	AND em.Significa_Pendiente = 1;
	*/
--------------
SET @Material_Es_Kanban =ISNULL((
  	SELECT
  		1
  	FROM 
		[dbo].[MRP_Type] mt
	INNER JOIN [APP].[Material] m ON mt.[MRP_Type_Id] = m.[MRP_Type_Id]
	WHERE
		mt.Estatus_Registro_Id = 1
	AND mt.Es_Kanban = 1
	AND m.Material_Id = @Transferencia_Material_Id
	),0);			  
</Script></update></c><c y="NodeSet" t="2021-06-11T19:21:17"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id 
---------------------------------------------   
DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0


SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)

SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Movimiento_Detalle 
	SET Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_Transferencia_Cancelado_Id
        AND Estatus_Movimiento_Id &lt;&gt; @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-11T20:08:03"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0
DECLARE @Es_Transferencia_De_Material BIT = 0




SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)


SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Movimiento_Detalle_Id = ISNULL((
    SELECT TOP 1 Movimiento_Detalle_Id
    FROM APP.Bitacora_Captura_Sap
    WHERE Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id
),0)

SET @Movimiento_Id = ISNULL((
    SELECT TOP 1 Movimiento_Id
    FROM APP.Bitacora_Captura_Sap
    WHERE Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id
),0)


IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 


    UPDATE APP.Movimiento_Detalle 
	SET Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        --,Estatus_Transferencia_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id


    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 

        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir

        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-11T20:15:58"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0
--DECLARE @Es_Transferencia_De_Material BIT = 0




SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)


SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Movimiento_Detalle_Id = ISNULL((
    SELECT TOP 1 Movimiento_Detalle_Id
    FROM APP.Bitacora_Captura_Sap
    WHERE Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id
),0)

SET @Movimiento_Id = ISNULL((
    SELECT TOP 1 Movimiento_Id
    FROM APP.Bitacora_Captura_Sap
    WHERE Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id
),0)


IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 


    UPDATE APP.Movimiento_Detalle 
	SET Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        --,Estatus_Transferencia_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id


    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 

        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir

        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T15:04:54"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id;
   

DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0
--DECLARE @Es_Transferencia_De_Material BIT = 0




SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)


SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Movimiento_Detalle_Id = ISNULL((
    SELECT TOP 1 Movimiento_Detalle_Id
    FROM APP.Bitacora_Captura_Sap
    WHERE Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id
),0)

SET @Movimiento_Id = ISNULL((
    SELECT TOP 1 Movimiento_Id
    FROM APP.Bitacora_Captura_Sap
    WHERE Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id
),0)


IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 


    UPDATE APP.Movimiento_Detalle 
	SET Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        --,Estatus_Transferencia_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id


    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 

        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir

        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T16:08:08"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Significa_Cancelado BIT = 1
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0


--obtiene el id de  la BCS que es del paso 1 y que tiene el Movimiento_Detalle_Id que se actualiz√≥ en la BR
SET @Es_Bitacora_Captura_SAP = ISNULL((
    SELECT TOP 1 Bitacora_Captura_Sap_Id 
    FROM APP.Bitacora_Captura_Sap
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id
),0)
--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

 SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
    ),0)

IF @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T16:09:56"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Significa_Cancelado BIT = 1
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0



--obtiene el id de  la BCS que es del paso 1 y que tiene el Movimiento_Detalle_Id que se actualiz√≥ en la BR
SET @Es_Bitacora_Captura_SAP = ISNULL((
    SELECT TOP 1 Bitacora_Captura_Sap_Id 
    FROM APP.Bitacora_Captura_Sap
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id
),0)
--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

 SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
    ),0)

IF @Significa_Cancelado = 1
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T16:38:36"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 

DECLARE @Significa_Cancelado BIT = 1
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0



--obtiene el id de  la BCS que es del paso 1 y que tiene el Movimiento_Detalle_Id que se actualiz√≥ en la BR
SET @Es_Bitacora_Captura_SAP = ISNULL((
    SELECT TOP 1 Bitacora_Captura_Sap_Id 
    FROM APP.Bitacora_Captura_Sap
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id
),0)
--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

 SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
    ),0)

IF @Estatus_Movimiento_Transferencia_Cancelado_Id = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado
    WHERE Bitacora_Captura_Sap_Id = @Es_Bitacora_Captura_SAP

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T17:13:24"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 

DECLARE @Significa_Cancelado BIT = 1
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0



--obtiene el id de  la BCS que es del paso 1 y que tiene el Movimiento_Detalle_Id que se actualiz√≥ en la BR
SET @Es_Bitacora_Captura_SAP = ISNULL((
    SELECT TOP 1 Bitacora_Captura_Sap_Id 
    FROM APP.Bitacora_Captura_Sap
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id AND Estatus_Registro_Id = 1
),0)
--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

 SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
    ),0)

IF @Estatus_Movimiento_Transferencia_Cancelado_Id = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP
    WHERE Bitacora_Captura_Sap_Id = @Es_Bitacora_Captura_SAP

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T17:14:23"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 

DECLARE @Significa_Cancelado BIT = 1
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0



--obtiene el id de  la BCS que es del paso 1 y que tiene el Movimiento_Detalle_Id que se actualiz√≥ en la BR
SET @Es_Bitacora_Captura_SAP = ISNULL((
    SELECT TOP 1 Bitacora_Captura_Sap_Id 
    FROM APP.Bitacora_Captura_Sap
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1
),0)
--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

 SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
    ),0)

IF @Estatus_Movimiento_Transferencia_Cancelado_Id = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP
    WHERE Bitacora_Captura_Sap_Id = @Es_Bitacora_Captura_SAP

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T17:16:34"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 

DECLARE @Significa_Cancelado_Captura_SAP BIT = 1
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0



--obtiene el id de  la BCS que es del paso 1 y que tiene el Movimiento_Detalle_Id que se actualiz√≥ en la BR
SET @Es_Bitacora_Captura_SAP = ISNULL((
    SELECT TOP 1 Bitacora_Captura_Sap_Id 
    FROM APP.Bitacora_Captura_Sap
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1
),0)
--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

 SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
    ),0)

IF @Estatus_Movimiento_Transferencia_Cancelado_Id = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP
    WHERE Bitacora_Captura_Sap_Id = @Es_Bitacora_Captura_SAP

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T17:32:46"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 

DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP BIT = 1


--obtiene el id de  la BCS que es del paso 1 y que tiene el Movimiento_Detalle_Id que se actualiz√≥ en la BR
SET @Es_Bitacora_Captura_SAP = ISNULL((
    SELECT TOP 1 Bitacora_Captura_Sap_Id 
    FROM APP.Bitacora_Captura_Sap
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1
),0)
--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

 SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)

IF @Estatus_Movimiento_Transferencia_Cancelado_Id = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP
    WHERE Bitacora_Captura_Sap_Id = @Es_Bitacora_Captura_SAP

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T17:40:08"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 

DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP BIT = 1


--obtiene el id de  la BCS que es del paso 1 y que tiene el Movimiento_Detalle_Id que se actualiz√≥ en la BR
SET @Es_Bitacora_Captura_SAP = ISNULL((
    SELECT TOP 1 Bitacora_Captura_Sap_Id 
    FROM APP.Bitacora_Captura_Sap
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1
),0)
--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP
    WHERE Bitacora_Captura_Sap_Id = @Es_Bitacora_Captura_SAP

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-12T17:49:05"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 

DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP INT = 0


--obtiene el id de  la BCS que es del paso 1 y que tiene el Movimiento_Detalle_Id que se actualiz√≥ en la BR
SET @Es_Bitacora_Captura_SAP = ISNULL((
    SELECT TOP 1 Bitacora_Captura_Sap_Id 
    FROM APP.Bitacora_Captura_Sap
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1
),0)
--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP
    WHERE Bitacora_Captura_Sap_Id = @Es_Bitacora_Captura_SAP

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-14T08:57:53"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT  *
    FROM APP.Estatus_Movimiento
   
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-14T09:00:53"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-14T09:11:19"><controller name="Bitacora_Captura_Sap" /><rule id="r103" /><update><Script>UPDATE  
   [APP].[Bitacora_Captura_Sap]
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 

WHERE 
   Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id;
   

DECLARE @Significa_Cancelado BIT = 1
DECLARE @Estatus_Movimiento_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Movimiento_Detalle_Id INT = 0
DECLARE @Movimiento_Id INT = 0
--DECLARE @Es_Transferencia_De_Material BIT = 0




SET @Es_Transferencia_De_Material = ISNULL((
    SELECT TOP 1 Es_Transferencia_De_Material
    FROM APP.Tipo_Operacion_Sap
    WHERE Tipo_Operacion_Sap_Id = @Tipo_Operacion_Sap_Id
),0)


SET @Significa_Cancelado = ISNULL((
    SELECT TOP 1 Significa_Cancelado
    FROM APP.Estatus_Captura_Sap
    WHERE Estatus_Captura_Sap_Id = @Estatus_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

SET @Movimiento_Detalle_Id = ISNULL((
    SELECT TOP 1 Movimiento_Detalle_Id
    FROM APP.Bitacora_Captura_Sap
    WHERE Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id
),0)

SET @Movimiento_Id = ISNULL((
    SELECT TOP 1 Movimiento_Id
    FROM APP.Bitacora_Captura_Sap
    WHERE Bitacora_Captura_Sap_Id = @Bitacora_Captura_Sap_Id
),0)

SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
    AND Aplica_A_Transferencia = 1
),0)

IF @Es_Transferencia_De_Material = 1 AND @Es_Paso_Uno_Transferencia = 1 AND @Significa_Cancelado = 1
BEGIN 


    UPDATE APP.Movimiento_Detalle 
	SET Estatus_Movimiento_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        --,Estatus_Transferencia_Id = @Estatus_Movimiento_Transferencia_Cancelado_Id
        ,Movimiento_Detalle_Cancelado_Por_Id = @BusinessRules_UserId
        ,Transferencia_Fecha_Cancelacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
    WHERE Movimiento_Detalle_Id = @Movimiento_Detalle_Id


    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Movimiento_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id

    END
    ELSE
    BEGIN 

        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferir

        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-14T09:23:54"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-14T09:34:53"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Movimiento_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

SET @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)
    
SET @Estatus_Movimiento_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 

    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Movimiento_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_Enviado_A_Trans_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Movimiento_En_Proceso_Enviado_A_Transfer_Id
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-14T09:46:15"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

SET @Estatus_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)
    
SET @Estatus_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 
    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Enviado_A_Trans_Id ---- --- Actualiza al estatus con id 15
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_En_Proceso_Enviado_A_Transfer_Id --- Actualiza al estatus con id 30 
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-14T09:48:25"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

SET @Estatus_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)
    
SET @Estatus_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 
    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = 15 ---- --- Actualiza al estatus con id 15
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_En_Proceso_Enviado_A_Transfer_Id --- Actualiza al estatus con id 30 
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-14T09:52:34"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

SET @Estatus_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)
    
SET @Estatus_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 
    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Enviado_A_Trans_Id ---- --- Actualiza al estatus con id 15
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_En_Proceso_Enviado_A_Transfer_Id --- Actualiza al estatus con id 30 
        WHERE Movimiento_Id = @Movimiento_Id
    END

END</Script></update></c><c y="NodeSet" t="2021-06-14T10:01:58"><controller name="Estatus_Movimiento" /><view id="Estatus_Mov_Transf_LookUp_List" /><dataField fieldName="SignificaEnviadoATransferir" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-14T10:02:13"><controller name="Estatus_Movimiento" /><view id="Estatus_Mov_Transf_LookUp_List" /><dataField fieldName="En_Proceso_Enviado_A_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-14T12:03:37"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="grid1" /><update><Label>Bit√°cora Captura SAP (Transferencia)</Label></update></c><c y="NodeSet" t="2021-06-14T12:14:28"><controller name="Estatus_Movimiento" /><view id="Estatus_Mov_Dev_LookUp_List" /><dataField fieldName="SignificaEnviadoATransferir" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-14T12:14:34"><controller name="Estatus_Movimiento" /><view id="Estatus_Mov_Dev_LookUp_List" /><dataField fieldName="En_Proceso_Enviado_A_Transferencia" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-14T12:52:24"><controller name="Tipo_Movimiento" /><actionGroup id="ag1" /><action id="a2" /><update><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:52:37"><controller name="Tipo_Movimiento" /><actionGroup id="ag2" /><action id="a1" /><update><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:52:43"><controller name="Tipo_Movimiento" /><actionGroup id="ag2" /><action id="a4" /><update><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:52:54"><controller name="Tipo_Movimiento" /><actionGroup id="ag1" /><action id="a3" /><update><Data>UPDATE APP.Tipo_Movimiento
SET Estatus_Registro_Id = 3, 
    Actualizado_Por_Id = @BusinessRules_UserId ,
    Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
WHERE Tipo_Movimiento_Id = @Tipo_Movimiento_Id

</Data><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:53:07"><controller name="Tipo_Movimiento" /><actionGroup id="ag2" /><action id="a2" /><update><Data>UPDATE APP.Tipo_Movimiento
SET Estatus_Registro_Id = 3, 
    Actualizado_Por_Id = @BusinessRules_UserId ,
    Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
WHERE Tipo_Movimiento_Id = @Tipo_Movimiento_Id

</Data><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:53:45"><controller name="Tipo_Movimiento" /><actionGroup id="ag3" /><action id="a1" /><update><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:53:52"><controller name="Tipo_Movimiento" /><actionGroup id="ag4" /><action id="a1" /><update><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:53:58"><controller name="Tipo_Movimiento" /><actionGroup id="ag4" /><action id="a2" /><update><Data>UPDATE APP.Tipo_Movimiento
SET Estatus_Registro_Id = 3, 
    Actualizado_Por_Id = @BusinessRules_UserId ,
    Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
WHERE Tipo_Movimiento_Id = @Tipo_Movimiento_Id

</Data><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:54:07"><controller name="Tipo_Movimiento" /><actionGroup id="ag6" /><action id="a1" /><update><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:54:14"><controller name="Tipo_Movimiento" /><actionGroup id="ag9" /><action id="a1" /><update><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T12:54:22"><controller name="Tipo_Movimiento" /><actionGroup id="ag9" /><action id="a2" /><update><Data>UPDATE APP.Tipo_Movimiento
SET Estatus_Registro_Id = 3, 
    Actualizado_Por_Id = @BusinessRules_UserId ,
    Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
WHERE Tipo_Movimiento_Id = @Tipo_Movimiento_Id

</Data><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-06-14T13:06:16"><controller name="Movimiento_Detalle2" /><actionGroup id="ag2" /><action id="a4" /><update><WhenClientScript>[Estatus_Movimiento_Aplica_A_Devolucion] == 1 &amp;&amp; [Estatus_Movimiento_Significa_Pendiente] == 1 || [Estatus_Movimiento_En_Proceso_Enviado_A_Transferencia] ==1</WhenClientScript></update></c><c y="NodeSet" t="2021-06-14T13:08:47"><controller name="Movimiento_Detalle2" /><actionGroup id="ag2" /><action id="a4" /><update><WhenClientScript>[Estatus_Movimiento_Aplica_A_Devolucion] == 1 &amp;&amp; [Estatus_Movimiento_Significa_Pendiente] == 1 || [Aplica_A_Devolucion] == 1 &amp;&amp; [En_Proceso_Enviado_A_Transferencia] ==1</WhenClientScript></update></c><c y="NodeSet" t="2021-06-14T13:09:45"><controller name="Movimiento_Detalle2" /><actionGroup id="ag2" /><action id="a4" /><update><WhenClientScript>[Estatus_Movimiento_Aplica_A_Devolucion] == 1 &amp;&amp; [Estatus_Movimiento_Significa_Pendiente] == 1 || [En_Proceso_Enviado_A_Transferencia] == 1</WhenClientScript></update></c><c y="NodeSet" t="2021-06-14T13:10:14"><controller name="Movimiento_Detalle2" /><view id="editForm1" /><dataField fieldName="Cantidad_Transferido" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-14T13:11:34"><controller name="Movimiento_Detalle2" /><actionGroup id="ag2" /><action id="a4" /><update><WhenClientScript /></update></c><c y="NodeSet" t="2021-06-14T14:05:32"><controller name="Bitacora_Captura_Sap1_2_1" /><view id="grid1" /><update><Label>Bit√°cora Captura SAP (Transferencias)</Label></update></c><c y="NodeSet" t="2021-06-14T15:01:01"><controller name="Movimiento2" /><actionGroup id="ag1" /><action id="a8" /><update><Roles>Solicitante</Roles></update></c><c y="NodeSet" t="2021-06-14T15:02:18"><controller name="Movimiento2" /><actionGroup id="ag1" /><action id="a8" /><update><Roles /></update></c><c y="NodeSet" t="2021-06-14T15:03:54"><controller name="Movimiento_Detalle2" /><actionGroup id="ag1" /><action id="a8" /><update><WhenClientScript /></update></c><c y="NodeSet" t="2021-06-14T15:32:46"><controller name="Movimiento_Detalle4" /><view id="grid1" /><dataField fieldName="Fecha_Devolucion" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-06-14T15:34:02"><controller name="Movimiento_Detalle4" /><view id="grid1" /><dataField fieldName="Unidad_Material_Devuelto_Id" /><move><controller name="Movimiento_Detalle4" /><view id="grid1" /><dataField fieldName="Fecha_Devolucion" /></move></c><c y="NodeSet" t="2021-06-14T15:34:13"><controller name="Movimiento_Detalle4" /><view id="grid1" /><dataField fieldName="Fecha_Devolucion" /><move><controller name="Movimiento_Detalle4" /><view id="grid1" /><dataField fieldName="Estatus_Movimiento_Id" /></move></c><c y="NodeSet" t="2021-06-14T15:34:21"><controller name="Movimiento_Detalle4" /><view id="grid1" /><dataField fieldName="Estatus_Movimiento_Id" /><move><controller name="Movimiento_Detalle4" /><view id="grid1" /><dataField fieldName="Motivo_Movimiento_Id" /></move></c><c y="NodeSet" t="2021-06-14T23:39:11"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

SET @Estatus_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)
    
SET @Estatus_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 
    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Enviado_A_Trans_Id ---- --- Actualiza al estatus con id 15
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_En_Proceso_Enviado_A_Transfer_Id --- Actualiza al estatus con id 30 
        WHERE Movimiento_Id = @Movimiento_Id
    END

END

$appfactory.find('movimiento2', 'Controller').sync();</Script></update></c><c y="NodeSet" t="2021-06-14T23:39:26"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

SET @Estatus_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)
    
SET @Estatus_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 
    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Enviado_A_Trans_Id ---- --- Actualiza al estatus con id 15
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_En_Proceso_Enviado_A_Transfer_Id --- Actualiza al estatus con id 30 
        WHERE Movimiento_Id = @Movimiento_Id
    END

END

$appfactory.find('Movimiento2', 'Controller').sync();</Script></update></c><c y="NodeSet" t="2021-06-14T23:43:09"><controller name="Movimiento_Detalle2" /><rule id="r103" /><update><Script>UPDATE  
   APP.Movimiento_Detalle 
SET 
    Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE 
   Movimiento_Detalle_Id = @Movimiento_Detalle_Id
   
-------- Cancelar transferencia con usuario solicitante 
DECLARE @Es_Bitacora_Captura_SAP INT = 0
DECLARE @Estatus_Captura_Sap_Id INT = 0
DECLARE @Estatus_Transferencia_Cancelado BIT = 0
DECLARE @Estatus_Transferencia_Cancelado_Id INT = 0
DECLARE @Estatus_En_Proceso_Enviado_A_Transfer_Id INT = 0
DECLARE @Estatus_Enviado_A_Trans_Id INT = 0
DECLARE @Significa_Cancelado_Captura_SAP_Id INT = 0

--Obtiene el id del estatus cancelado para las BCSs
SET @Significa_Cancelado_Captura_SAP_Id = ISNULL((
    SELECT TOP 1 Estatus_Captura_Sap_Id
    FROM APP.Estatus_Captura_Sap
    WHERE Significa_Cancelado = 1 AND Estatus_Registro_Id = 1
),0)

SET @Estatus_En_Proceso_Enviado_A_Transfer_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE En_Proceso_Enviado_A_Transferencia = 1
),0)

 SET @Estatus_Transferencia_Cancelado = ISNULL((
    SELECT TOP 1 Es_Transferencia_Cancelado
    FROM APP.Estatus_Movimiento
    WHERE Estatus_Movimiento_Id = @Estatus_Movimiento_Id
    ),0)
	
SET @Estatus_Transferencia_Cancelado_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Es_Transferencia_Cancelado = 1
    ),0)
    
SET @Estatus_Enviado_A_Trans_Id = ISNULL((
    SELECT TOP 1 Estatus_Movimiento_Id
    FROM APP.Estatus_Movimiento
    WHERE Significa_Enviado_A_Transferir = 1
),0)

IF @Estatus_Transferencia_Cancelado = 1 
BEGIN 
    UPDATE APP.Bitacora_Captura_Sap
	SET Estatus_Captura_Sap_Id  = @Significa_Cancelado_Captura_SAP_Id
    WHERE Es_Paso_Uno_Transferencia = 1
    AND Movimiento_Detalle_Id = @Movimiento_Detalle_Id 
  	AND Estatus_Registro_Id = 1

    IF(NOT EXISTS(
        SELECT TOP 1 1 FROM APP.Movimiento_Detalle
        WHERE Movimiento_Id = @Movimiento_Id        
        AND Estatus_Registro_Id = 1
        AND Estatus_Movimiento_Id NOT IN (@Estatus_Transferencia_Cancelado_Id, @Estatus_Enviado_A_Trans_Id)
    ))
    BEGIN
        -- significa que no hay alguno con estatus diferente a ellos, por lo tanto podemos ya enviarlo al surtidor
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_Enviado_A_Trans_Id ---- --- Actualiza al estatus con id 15
        WHERE Movimiento_Id = @Movimiento_Id
    END
    ELSE
    BEGIN 
        -- significa que se ancontr√≥ por lo menos 1 con esos estatus entoences permancer en el estatur en proceso enviado a tranferia
        UPDATE APP.Movimiento SET
            Estatus_Movimiento_Id = @Estatus_En_Proceso_Enviado_A_Transfer_Id --- Actualiza al estatus con id 30 
        WHERE Movimiento_Id = @Movimiento_Id
    END

END
</Script></update></c><c y="NodeSet" t="2021-06-14T23:44:58"><controller name="Movimiento_Detalle2" /><insert type="rule"><Type>JavaScript</Type><CommandName>Update</CommandName><Phase>After</Phase><Script>$appfactory.find('Movimiento2', 'Controller').sync();</Script></insert></c><c y="NodeSet" t="2021-06-15T15:08:18"><controller name="Movimiento_Detalle4" /><field name="Devolucion_Ubicacion_Origen_Id" /><update><ItemsNewDataView /></update></c><c y="NodeSet" t="2021-06-15T15:12:07"><controller name="Movimiento_Detalle4" /><field name="Estatus_Movimiento_Id" /><update><ItemsDataView>Estatus_Mov_Dev_LookUp_List</ItemsDataView><ItemsNewDataView /></update></c><c y="NodeSet" t="2021-06-15T15:12:53"><controller name="Movimiento_Detalle4" /><field name="Movimiento_Motivo_Cancelacion_Id" /><update><ItemsDataView>Motivo_Movimiento_Dev_LookUp_List</ItemsDataView></update></c><c y="NodeSet" t="2021-06-15T15:12:59"><controller name="Movimiento_Detalle4" /><field name="Movimiento_Motivo_Cancelacion_Id" /><update><ItemsNewDataView /></update></c><c y="NodeSet" t="2021-06-15T16:31:49"><controller name="Movimiento_Detalle3" /><view id="editForm1" /><dataField fieldName="Estatus_Movimiento_Id" /><update><HyperlinkFormatString /><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-08-17T13:28:41"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@Nuevo_Nombre, ' ','');

SET @Extencion = (SELECT REVERSE(SUBSTRING(
        REVERSE(@PictureFileName),
        0,
       CHARINDEX(

'.', REVERSE(@PictureFileName))
    )) );
	
	SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));
</Script></update></c><c y="NodeSet" t="2021-08-17T13:34:31"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@Nuevo_Nombre, ' ','1234');

SET @Extencion = (SELECT REVERSE(SUBSTRING(
        REVERSE(@PictureFileName),
        0,
       CHARINDEX(

'.', REVERSE(@PictureFileName))
    )) );
	
	SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));
</Script></update></c><c y="NodeSet" t="2021-08-17T13:39:36"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@Nuevo_Nombre, ' ','');

SET @Extencion = (SELECT REVERSE(SUBSTRING(
        REVERSE(@PictureFileName),
        0,
       CHARINDEX(

'.', REVERSE(@PictureFileName))
    )) );
	
	SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));
</Script></update></c><c y="NodeSet" t="2021-08-17T13:50:50"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @PictureFileName = @Nuevo_Nombre

SET @Nuevo_Nombre = REPLACE(@Nuevo_Nombre, ' ','');

SET @Extencion = (SELECT REVERSE(SUBSTRING(
        REVERSE(@PictureFileName),
        0,
       CHARINDEX(

'.', REVERSE(@PictureFileName))
    )) );
	
	SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));
</Script></update></c><c y="NodeSet" t="2021-08-17T13:53:09"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@Nuevo_Nombre, ' ','');

SET @Extencion = (SELECT REVERSE(SUBSTRING(
        REVERSE(@PictureFileName),
        0,
       CHARINDEX(

'.', REVERSE(@PictureFileName))
    )) );
	
	SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));
</Script></update></c><c y="NodeSet" t="2021-08-17T13:53:54"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END


</Script></update></c><c y="NodeSet" t="2021-08-17T13:54:07"><controller name="Documento_Material" /><rule id="r101" /><update><Script>UPDATE  
   APP.Documento_Material 
SET 
   Creado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Creacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
   ,Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
WHERE 
   Documento_Material_Id = @Documento_Material_Id
   
   DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@Nuevo_Nombre, ' ','');

SET @Extencion = (SELECT REVERSE(SUBSTRING(
        REVERSE(@PictureFileName),
        0,
       CHARINDEX(

'.', REVERSE(@PictureFileName))
    )) );
	
	SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));</Script></update></c><c y="NodeSet" t="2021-08-17T13:55:51"><controller name="Documento_Material" /><rule id="r101" /><update><Script>UPDATE  
   APP.Documento_Material 
SET 
   Creado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Creacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
   ,Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
WHERE 
   Documento_Material_Id = @Documento_Material_Id
   
DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@Nuevo_Nombre, ' ','');

SET @Extencion = (SELECT REVERSE(SUBSTRING(
        REVERSE(@PictureFileName),
        0,
       CHARINDEX(

'.', REVERSE(@PictureFileName))
    )) );
	
	SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));</Script></update></c><c y="NodeSet" t="2021-08-17T13:58:23"><controller name="Documento_Material" /><rule id="r101" /><update><Script>UPDATE  
   APP.Documento_Material 
SET 
   Creado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Creacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
   ,Actualizado_Por_Id = @BusinessRules_UserId 
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL) 
WHERE 
   Documento_Material_Id = @Documento_Material_Id
   
</Script></update></c><c y="NodeSet" t="2021-08-17T13:58:32"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END


DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@Nuevo_Nombre, ' ','');

SET @Extencion = (SELECT REVERSE(SUBSTRING(
        REVERSE(@PictureFileName),
        0,
       CHARINDEX(

'.', REVERSE(@PictureFileName))
    )) );
	
	SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));</Script></update></c><c y="NodeSet" t="2021-08-17T14:00:00"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@Nuevo_Nombre, ' ','');

SET @Extencion = (SELECT REVERSE(SUBSTRING(
        REVERSE(@PictureFileName),
        0,
       CHARINDEX(

'.', REVERSE(@PictureFileName))
    )) );
	
	SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));</Script></update></c><c y="NodeSet" t="2021-08-17T14:07:46"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@PictureFileName, ' ','');
SET @Extencion = (SELECT REVERSE(SUBSTRING(REVERSE(@PictureFileName),0, CHARINDEX('.', REVERSE(@PictureFileName)))) );
SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.',@Extencion));</Script></update></c><c y="NodeSet" t="2021-08-17T14:12:51"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@PictureFileName, ' ','');
SET @Extencion = (SELECT REVERSE(SUBSTRING(REVERSE(@PictureFileName),0, CHARINDEX('.', REVERSE(@PictureFileName)))) );
SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre));</Script></update></c><c y="NodeSet" t="2021-08-17T14:16:12"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@PictureFileName, ' ','');
</Script></update></c><c y="NodeSet" t="2021-08-17T14:16:13"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@PictureFileName, ' ','');
</Script></update></c><c y="NodeSet" t="2021-08-17T14:17:37"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@PictureFileName, ' ','');
SET @Extencion = (SELECT REVERSE(SUBSTRING(REVERSE(@PictureFileName),0, CHARINDEX('.', REVERSE(@PictureFileName)))) );
SET @PictureFileName = (SELECT CONCAT(@Nuevo_Nombre, '.', @Extencion));</Script></update></c><c y="NodeSet" t="2021-08-17T14:19:01"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@PictureFileName, ' ','');
SET @Extencion = (SELECT REVERSE(SUBSTRING(REVERSE(@PictureFileName),0, CHARINDEX('.', REVERSE(@PictureFileName)))) );
SET @PictureFileName = (SELECT @Nuevo_Nombre);








</Script></update></c><c y="NodeSet" t="2021-08-17T14:21:05"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);
DECLARE @Extencion VARCHAR(50);

SET @Nuevo_Nombre = REPLACE(@PictureFileName, ' ','');
SET @PictureFileName = (SELECT @Nuevo_Nombre);








</Script></update></c><c y="NodeSet" t="2021-08-17T14:21:14"><controller name="Documento_Material" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT 
SET @Already_Exists = 0 
SELECT 
   TOP 1 @Already_Exists  = 1 
FROM 
   APP.Documento_Material 
WHERE 
   dbo.fn_Sustituir_Caracteres_Especiales(Lower(Documento_Material_Id)) = dbo.fn_Sustituir_Caracteres_Especiales(Lower(@Documento_Material_Id)) -- Verificar si aplica campo
IF @Already_Exists = 1 
BEGIN 
   SET @BusinessRules_PreventDefault = 1 
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   SET @Result_ShowAlert = [dbo].[fn_Obtener_Mensaje_Sistema](1433,1,1,@Documento_Material_Id) 
   RETURN 
END

DECLARE @Nuevo_Nombre VARCHAR(50);


SET @Nuevo_Nombre = REPLACE(@PictureFileName, ' ','');
SET @PictureFileName = (SELECT @Nuevo_Nombre);








</Script></update></c><c y="NodeSet" t="2021-11-11T13:46:40"><controller name="Area_Entrega_Familia" /><clone /></c><c y="NodeSet" t="2021-11-11T14:02:53"><controller name="Area_Entrega_Familia1" /><view id="grid1" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-11-11T14:03:08"><controller name="Area_Entrega_Familia1" /><view id="editForm1" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-11-11T14:03:21"><controller name="Area_Entrega_Familia1" /><view id="createForm1" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-11-11T14:03:53"><controller name="Area_Entrega_Familia1" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Area_Entrega_Familia
WHERE
   Area_Entrega_Id = @Area_Entrega_Id
AND Familia_Id = @Familia_Id


IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](22,1,3,@Area_Entrega+' vs. '+@Familia_Clave+' vs. '+@Categoria_Clave)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2021-11-11T14:04:12"><controller name="Area_Entrega_Familia1" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Area_Entrega_Familia
WHERE
   Area_Entrega_Id = @Area_Entrega_Id
AND Familia_Id = @Familia_Id


IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](22,1,3,@Area_Entrega+' vs. '+@Familia_Clave)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2021-11-11T14:04:45"><controller name="Area_Entrega_Familia1" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
     APP.Area_Entrega_Familia
WHERE
   Area_Entrega_Id = @Area_Entrega_Id
AND Familia_Id = @Familia_Id
AND Area_Entrega_Familia_Id &lt;&gt; @Area_Entrega_Familia_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](23,1,3,@Area_Entrega+' vs. '+@Familia_Clave)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2021-11-11T14:08:40"><controller name="Area_Entrega_Familia1" /><view id="grid1" /><update><Label>Asignaci√≥n √Årea servicio vs Familia</Label></update></c><c y="NodeSet" t="2021-11-11T14:08:54"><controller name="Area_Entrega_Familia1" /><view id="editForm1" /><update><Label>Actualizar Asignaci√≥n √Årea servicio vs Familia</Label></update></c><c y="NodeSet" t="2021-11-11T14:09:07"><controller name="Area_Entrega_Familia1" /><view id="createForm1" /><update><Label>Nueva Asignaci√≥n √Årea servicio vs Familia</Label></update></c><c y="NodeSet" t="2021-11-12T10:26:53"><controller name="Area_Entrega_Familia1" /><delete /></c><c y="NodeSet" t="2021-11-12T10:27:53"><controller name="Area_Servicio_Familia" /><clone /></c><c y="NodeSet" t="2021-11-12T10:31:15"><controller name="Area_Servicio_Familia1" /><view id="grid1" /><update><Label>Asignaci√≥n √Årea servicio vs Familia</Label></update></c><c y="NodeSet" t="2021-11-12T10:32:17"><controller name="Area_Servicio_Familia1" /><view id="grid1" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-11-12T10:32:24"><controller name="Area_Servicio_Familia1" /><view id="grid1" /><dataField fieldName="Categoria_Descripcion" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-11-12T10:32:39"><controller name="Area_Servicio_Familia1" /><view id="editForm1" /><update><Label>Actualizar Asignaci√≥n √Årea servicio vs Familia</Label></update></c><c y="NodeSet" t="2021-11-12T10:32:47"><controller name="Area_Servicio_Familia1" /><view id="createForm1" /><update><Label>Nueva Asignaci√≥n √Årea servicio vs Familia</Label></update></c><c y="NodeSet" t="2021-11-12T10:32:59"><controller name="Area_Servicio_Familia1" /><view id="editForm1" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-11-12T10:33:08"><controller name="Area_Servicio_Familia1" /><view id="editForm1" /><dataField fieldName="Categoria_Descripcion" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-11-12T10:33:22"><controller name="Area_Servicio_Familia1" /><view id="createForm1" /><dataField fieldName="Categoria_Id" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-11-12T10:33:31"><controller name="Area_Servicio_Familia1" /><view id="createForm1" /><dataField fieldName="Categoria_Descripcion" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2021-11-12T10:34:03"><controller name="Area_Servicio_Familia1" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Area_Servicio_Familia
WHERE
	Area_Servicio_Id = @Area_Servicio_Id	
	AND Familia_Id = @Familia_Id
	

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](150,1,45,@Area_Servicio + ' vs. ' + @Familia_Descripcion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2021-11-12T10:34:21"><controller name="Area_Servicio_Familia1" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Area_Servicio_Familia
WHERE
	Area_Servicio_Id = @Area_Servicio_Id
	AND Familia_Id = @Familia_Id
	
	AND Area_Servicio_Familia_Id &lt;&gt; @Area_Servicio_Familia_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](151,1,45,@Area_Servicio + ' vs. ' + @Familia_Descripcion + ' vs. ' + @Categoria_Clave)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2021-11-12T10:34:32"><controller name="Area_Servicio_Familia1" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Area_Servicio_Familia
WHERE
	Area_Servicio_Id = @Area_Servicio_Id
	AND Familia_Id = @Familia_Id
	
	AND Area_Servicio_Familia_Id &lt;&gt; @Area_Servicio_Familia_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](151,1,45,@Area_Servicio + ' vs. ' + @Familia_Descripcion )
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2021-11-12T13:19:43"><controller name="Area_Servicio_Familia1" /><view id="grid1" /><dataField fieldName="Area_Servicio_Id" /><move><controller name="Area_Servicio_Familia1" /><view id="grid1" /><dataField fieldName="Familia_Clave" /></move></c><c y="NodeSet" t="2021-11-12T13:19:51"><controller name="Area_Servicio_Familia1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Area_Servicio_Id" /><move><controller name="Area_Servicio_Familia1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Familia_Clave" /></move></c><c y="NodeSet" t="2021-11-12T13:19:59"><controller name="Area_Servicio_Familia1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Area_Servicio_Id" /><move><controller name="Area_Servicio_Familia1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Familia_Clave" /></move></c><c y="NodeSet" t="2021-11-12T13:20:08"><controller name="Area_Servicio_Familia1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Area_Servicio_Id" /><move><controller name="Area_Servicio_Familia1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Familia_Id" /></move></c><c y="NodeSet" t="2021-11-12T13:20:25"><controller name="Area_Servicio_Familia1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Area_Servicio_Id" /><move><controller name="Area_Servicio_Familia1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Familia_Clave" /></move></c><c y="NodeSet" t="2021-11-12T13:48:03"><controller name="Area_Servicio_Familia1" /><field name="Familia_Descripcion" /><update><Label>Familia Descripci√≥n</Label></update></c><c y="NodeSet" t="2022-01-07T11:10:05"><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Cus_Lin" /><move><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Codigo_Bloqueo" /></move></c><c y="NodeSet" t="2022-01-07T11:10:11"><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Codigo_Bloqueo" /><move><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="No_Entregar_Antes_De" /></move></c><c y="NodeSet" t="2022-01-07T11:10:16"><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Codigo_Bloqueo" /><move><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-07T11:10:21"><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Cus_Lin" /><move><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-07T11:10:34"><controller name="Orden_Produccion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Cus_Lin" /><move><controller name="Orden_Produccion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-07T11:10:44"><controller name="Orden_Produccion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Cus_Lin" /><move><controller name="Orden_Produccion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-07T11:10:58"><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="Cus_Lin" /><move><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-07T11:11:10"><controller name="Orden_Produccion" /><view id="Orden_Produccion_LookUp_List" /><dataField fieldName="Cus_Lin" /><move><controller name="Orden_Produccion" /><view id="Orden_Produccion_LookUp_List" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-07T11:11:29"><controller name="Orden_Produccion" /><view id="Orden_Produccion_LookUp_List" /><dataField fieldName="Codigo_Bloqueo" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:11:37"><controller name="Orden_Produccion" /><view id="Orden_Produccion_LookUp_List" /><dataField fieldName="No_Entregar_Antes_De" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:11:45"><controller name="Orden_Produccion" /><view id="Orden_Produccion_LookUp_List" /><dataField fieldName="Esta_Bloqueado" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:11:58"><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="No_Entregar_Antes_De" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:12:06"><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="Codigo_Bloqueo" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:12:15"><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="Esta_Bloqueado" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:14:09"><controller name="Orden_Produccion" /><view id="createForm1" /><dataField fieldName="Codigo_Bloqueo" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:14:18"><controller name="Orden_Produccion" /><view id="createForm1" /><dataField fieldName="No_Entregar_Antes_De" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:14:39"><controller name="Orden_Produccion" /><view id="editForm1" /><dataField fieldName="No_Entregar_Antes_De" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:14:48"><controller name="Orden_Produccion" /><view id="editForm1" /><dataField fieldName="Codigo_Bloqueo" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:15:21"><controller name="Orden_Produccion1" /><view id="grid1" /><dataField fieldName="Codigo_Bloqueo" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:15:28"><controller name="Orden_Produccion1" /><view id="grid1" /><dataField fieldName="No_Entregar_Antes_De" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:15:37"><controller name="Orden_Produccion1" /><view id="grid1" /><dataField fieldName="Esta_Bloqueado" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:16:13"><controller name="Orden_Produccion1" /><view id="editForm1" /><dataField fieldName="Codigo_Bloqueo" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:16:24"><controller name="Orden_Produccion1" /><view id="editForm1" /><dataField fieldName="No_Entregar_Antes_De" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:16:37"><controller name="Orden_Produccion1" /><view id="editForm1" /><dataField fieldName="Esta_Bloqueado" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:16:53"><controller name="Orden_Produccion1" /><view id="createForm1" /><dataField fieldName="Esta_Bloqueado" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:17:02"><controller name="Orden_Produccion1" /><view id="createForm1" /><dataField fieldName="No_Entregar_Antes_De" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:17:15"><controller name="Orden_Produccion1" /><view id="createForm1" /><dataField fieldName="Codigo_Bloqueo" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T11:24:44"><controller name="Orden_Produccion" /><field name="Esta_Bloqueado" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2022-01-07T12:21:46"><controller name="Grid_Orden_Produccion_V" /><field name="Fecha_Produccion" /><move><controller name="Grid_Orden_Produccion_V" /><field name="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T12:22:00"><controller name="Grid_Orden_Produccion_V" /><field name="EstaBloqueado" /><update><ItemsStyle>CheckBox</ItemsStyle></update></c><c y="NodeSet" t="2022-01-07T12:22:28"><controller name="Grid_Orden_Produccion_V" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Grid_Orden_Produccion_V" /><view id="createForm1" /><category id="c1" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T12:22:42"><controller name="Grid_Orden_Produccion_V" /><view id="Orden_Produccion_V" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Grid_Orden_Produccion_V" /><view id="Orden_Produccion_V" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T12:22:57"><controller name="Grid_Orden_Produccion_V" /><view id="gridOrdenProduccionPorFechaImpresionRelDate" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Grid_Orden_Produccion_V" /><view id="gridOrdenProduccionPorFechaImpresionRelDate" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T12:23:07"><controller name="Grid_Orden_Produccion_V" /><view id="grid1" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Grid_Orden_Produccion_V" /><view id="grid1" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T13:50:29"><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="Esta_Bloqueado" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-07T14:50:07"><controller name="Grid_Orden_Detalle_De_Multiple_Orden_Prod_V" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Producto_Descripcion" /><move><controller name="Grid_Orden_Detalle_De_Multiple_Orden_Prod_V" /><view id="editForm1" /><category id="c1" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T14:50:10"><controller name="Grid_Orden_Detalle_De_Multiple_Orden_Prod_V" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Grid_Orden_Detalle_De_Multiple_Orden_Prod_V" /><view id="editForm1" /><category id="c1" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T14:50:21"><controller name="Grid_Orden_Detalle_De_Multiple_Orden_Prod_V" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Grid_Orden_Detalle_De_Multiple_Orden_Prod_V" /><view id="createForm1" /><category id="c1" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T14:50:40"><controller name="Grid_Orden_Detalle_De_Multiple_Orden_Prod_V" /><view id="grid1" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Grid_Orden_Detalle_De_Multiple_Orden_Prod_V" /><view id="grid1" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T15:26:28"><controller name="Grid_Orden_Detalle_De_Orden_Produccion_V" /><view id="grid1" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Grid_Orden_Detalle_De_Orden_Produccion_V" /><view id="grid1" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T15:26:40"><controller name="Grid_Orden_Detalle_De_Orden_Produccion_V" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Orden_Produccion_Id" /><move><controller name="Grid_Orden_Detalle_De_Orden_Produccion_V" /><view id="editForm1" /><category id="c1" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T15:26:49"><controller name="Grid_Orden_Detalle_De_Orden_Produccion_V" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Orden_Produccion_Id" /><move><controller name="Grid_Orden_Detalle_De_Orden_Produccion_V" /><view id="createForm1" /><category id="c1" /><dataField fieldName="EstaBloqueado" /></move></c><c y="NodeSet" t="2022-01-07T16:21:54"><controller name="Grid_Orden_Produccion_V" /><command id="Grid_Orden_Produccion_Por_Fecha_Impresion_V" /><update><Text>SELECT [Orden_Produccion_Id]
      ,[Numero_Orden_Produccion]
      ,[Fecha_Produccion]
      ,[Fecha_Liberacion_Produccion]
      ,[Fecha_Compromiso_Produccion]
      ,[Fecha_Embarque]
      ,[Creado_Por]
      ,[Fecha_Creacion]
      ,[Actualizado_Por]
      ,[Fecha_Ultima_Actualizacion]
      ,[Estatus_Registro_Id]
      ,[Estatus_Registro]
      ,[Cantidad]
      ,[Estatus_Orden_Produccion_Id]
      ,[Estatus_Orden_Produccion]
      ,[Producto_Clave]
      ,[Producto_Descripcion]
      ,[Producto_Id]
      ,[Familia_Id]
      ,[Familia_Clave]
      ,[Familia_Descripcion]
      ,[Cantidad_Dias_Produccion]
      ,[Menor_A_Dias_Establecidos]
      ,[Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud]
      ,[Area_Servicio_Id]
      ,[Usuario_Aplicacion_Id]
      ,[Usuario_Id]
	  .[Esta_Bloqueado]
  FROM [dbo].[Grid_Orden_Produccion_Por_Fecha_Impresion_V]</Text></update></c><c y="NodeSet" t="2022-01-07T16:24:43"><controller name="Grid_Orden_Produccion_V" /><command id="Grid_Orden_Produccion_Por_Fecha_Impresion_V" /><update><Text>SELECT [Orden_Produccion_Id]
      ,[Numero_Orden_Produccion]
      ,[Fecha_Produccion]
      ,[Fecha_Liberacion_Produccion]
      ,[Fecha_Compromiso_Produccion]
      ,[Fecha_Embarque]
      ,[Creado_Por]
      ,[Fecha_Creacion]
      ,[Actualizado_Por]
      ,[Fecha_Ultima_Actualizacion]
      ,[Estatus_Registro_Id]
      ,[Estatus_Registro]
      ,[Cantidad]
      ,[Estatus_Orden_Produccion_Id]
      ,[Estatus_Orden_Produccion]
      ,[Producto_Clave]
      ,[Producto_Descripcion]
      ,[Producto_Id]
      ,[Familia_Id]
      ,[Familia_Clave]
      ,[Familia_Descripcion]
      ,[Cantidad_Dias_Produccion]
      ,[Menor_A_Dias_Establecidos]
      ,[Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud]
      ,[Area_Servicio_Id]
      ,[Usuario_Aplicacion_Id]
      ,[Usuario_Id]
	  .[Esta_Bloqueado]
  FROM [dbo].[Grid_Orden_Produccion_Por_Fecha_Impresion_V]</Text></update></c><c y="NodeSet" t="2022-01-07T16:27:12"><controller name="Grid_Orden_Produccion_V" /><command id="Grid_Orden_Produccion_Por_Fecha_Impresion_V" /><update><Text>SELECT [Orden_Produccion_Id]
      ,[Numero_Orden_Produccion]
      ,[Fecha_Produccion]
      ,[Fecha_Liberacion_Produccion]
      ,[Fecha_Compromiso_Produccion]
      ,[Fecha_Embarque]
      ,[Creado_Por]
      ,[Fecha_Creacion]
      ,[Actualizado_Por]
      ,[Fecha_Ultima_Actualizacion]
      ,[Estatus_Registro_Id]
      ,[Estatus_Registro]
      ,[Cantidad]
      ,[Estatus_Orden_Produccion_Id]
      ,[Estatus_Orden_Produccion]
      ,[Producto_Clave]
      ,[Producto_Descripcion]
      ,[Producto_Id]
      ,[Familia_Id]
      ,[Familia_Clave]
      ,[Familia_Descripcion]
      ,[Cantidad_Dias_Produccion]
      ,[Menor_A_Dias_Establecidos]
      ,[Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud]
      ,[Area_Servicio_Id]
      ,[Usuario_Aplicacion_Id]
      ,[Usuario_Id]
	  .[EstaBloqueado]
  FROM [dbo].[Grid_Orden_Produccion_Por_Fecha_Impresion_V]</Text></update></c><c y="NodeSet" t="2022-01-07T16:32:15"><controller name="Grid_Orden_Produccion_V" /><command id="Grid_Orden_Produccion_Por_Fecha_Impresion_V" /><update><Text>SELECT [Orden_Produccion_Id]
      ,[Numero_Orden_Produccion]
      ,[Fecha_Produccion]
      ,[Fecha_Liberacion_Produccion]
      ,[Fecha_Compromiso_Produccion]
      ,[Fecha_Embarque]
      ,[Creado_Por]
      ,[Fecha_Creacion]
      ,[Actualizado_Por]
      ,[Fecha_Ultima_Actualizacion]
      ,[Estatus_Registro_Id]
      ,[Estatus_Registro]
      ,[Cantidad]
      ,[Estatus_Orden_Produccion_Id]
      ,[Estatus_Orden_Produccion]
      ,[Producto_Clave]
      ,[Producto_Descripcion]
      ,[Producto_Id]
      ,[Familia_Id]
      ,[Familia_Clave]
      ,[Familia_Descripcion]
      ,[Cantidad_Dias_Produccion]
      ,[Menor_A_Dias_Establecidos]
      ,[Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud]
      ,[Area_Servicio_Id]
      ,[Usuario_Aplicacion_Id]
      ,[Usuario_Id]
	  .[Esta_Bloqueado]
  FROM [dbo].[Grid_Orden_Produccion_Por_Fecha_Impresion_V]</Text></update></c><c y="NodeSet" t="2022-01-07T16:34:50"><controller name="Orden_Produccion" /><field name="Esta_Bloqueado" /><update><CodeDefault>0</CodeDefault></update></c><c y="NodeSet" t="2022-01-07T16:35:45"><controller name="Orden_Produccion" /><field name="Esta_Bloqueado" /><update><Default>((0))</Default></update></c><c y="NodeSet" t="2022-01-07T16:38:03"><controller name="Grid_Orden_Produccion_V" /><command id="Grid_Orden_Produccion_Por_Fecha_Impresion_V" /><update><Text>SELECT [Orden_Produccion_Id]
      ,[Numero_Orden_Produccion]
      ,[Fecha_Produccion]
      ,[Fecha_Liberacion_Produccion]
      ,[Fecha_Compromiso_Produccion]
      ,[Fecha_Embarque]
      ,[Creado_Por]
      ,[Fecha_Creacion]
      ,[Actualizado_Por]
      ,[Fecha_Ultima_Actualizacion]
      ,[Estatus_Registro_Id]
      ,[Estatus_Registro]
      ,[Cantidad]
      ,[Estatus_Orden_Produccion_Id]
      ,[Estatus_Orden_Produccion]
      ,[Producto_Clave]
      ,[Producto_Descripcion]
      ,[Producto_Id]
      ,[Familia_Id]
      ,[Familia_Clave]
      ,[Familia_Descripcion]
      ,[Cantidad_Dias_Produccion]
      ,[Menor_A_Dias_Establecidos]
      ,[Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud]
      ,[Area_Servicio_Id]
      ,[Usuario_Aplicacion_Id]
      ,[Usuario_Id]
	  ,[Esta_Bloqueado]
  FROM [dbo].[Grid_Orden_Produccion_Por_Fecha_Impresion_V]</Text></update></c><c y="NodeSet" t="2022-01-07T16:46:58"><controller name="Grid_Orden_Produccion_V" /><insert type="command"><CommandId>Grid_Orden_Produccion_V2</CommandId><Text>select
	"Grid_Orden_Produccion_V"."CheckBox" "CheckBox"
	,"Grid_Orden_Produccion_V"."Esta_Bloqueado" "Esta_Bloqueado"
	,"Grid_Orden_Produccion_V"."Orden_Produccion_Id" "Orden_Produccion_Id"
	,"Grid_Orden_Produccion_V"."Numero_Orden_Produccion" "Numero_Orden_Produccion"
	,"Grid_Orden_Produccion_V"."Fecha_Produccion" "Fecha_Produccion"
	,"Grid_Orden_Produccion_V"."Creado_Por" "Creado_Por"
	,"Grid_Orden_Produccion_V"."Fecha_Creacion" "Fecha_Creacion"
	,"Grid_Orden_Produccion_V"."Actualizado_Por" "Actualizado_Por"
	,"Grid_Orden_Produccion_V"."Fecha_Ultima_Actualizacion" "Fecha_Ultima_Actualizacion"
	,"Grid_Orden_Produccion_V"."Estatus_Registro_Id" "Estatus_Registro_Id"
	,"Grid_Orden_Produccion_V"."Estatus_Registro" "Estatus_Registro"
	,"Grid_Orden_Produccion_V"."Cantidad" "Cantidad"
	,"Grid_Orden_Produccion_V"."Estatus_Orden_Produccion_Id" "Estatus_Orden_Produccion_Id"
	,"Grid_Orden_Produccion_V"."Estatus_Orden_Produccion" "Estatus_Orden_Produccion"
	,"Grid_Orden_Produccion_V"."Producto_Clave" "Producto_Clave"
	,"Grid_Orden_Produccion_V"."Producto_Descripcion" "Producto_Descripcion"
	,"Grid_Orden_Produccion_V"."Producto_Id" "Producto_Id"
	,"Grid_Orden_Produccion_V"."Familia_Id" "Familia_Id"
	,"Grid_Orden_Produccion_V"."Familia_Clave" "Familia_Clave"
	,"Grid_Orden_Produccion_V"."Familia_Descripcion" "Familia_Descripcion"
	,"Grid_Orden_Produccion_V"."Cantidad_Dias_Produccion" "Cantidad_Dias_Produccion"
	,"Grid_Orden_Produccion_V"."Menor_A_Dias_Establecidos" "Menor_A_Dias_Establecidos"
	,"Grid_Orden_Produccion_V"."Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud" "Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud"
	,"Grid_Orden_Produccion_V"."Area_Servicio_Id" "Area_Servicio_Id"
	,"Grid_Orden_Produccion_V"."Usuario_Aplicacion_Id" "Usuario_Aplicacion_Id"
	,"Grid_Orden_Produccion_V"."Usuario_Id" "Usuario_Id"
from "dbo"."Grid_Orden_Produccion_V" "Grid_Orden_Produccion_V"
</Text><Custom>false</Custom><Type>Text</Type></insert></c><c y="NodeSet" t="2022-01-07T16:47:35"><controller name="Grid_Orden_Produccion_V" /><command id="Grid_Orden_Produccion_V2" /><update><Text>select
	"Grid_Orden_Produccion_V"."CheckBox" "CheckBox"
	,"Grid_Orden_Produccion_V"."Esta_Bloqueado" "EstaBloqueado"
	,"Grid_Orden_Produccion_V"."Orden_Produccion_Id" "Orden_Produccion_Id"
	,"Grid_Orden_Produccion_V"."Numero_Orden_Produccion" "Numero_Orden_Produccion"
	,"Grid_Orden_Produccion_V"."Fecha_Produccion" "Fecha_Produccion"
	,"Grid_Orden_Produccion_V"."Creado_Por" "Creado_Por"
	,"Grid_Orden_Produccion_V"."Fecha_Creacion" "Fecha_Creacion"
	,"Grid_Orden_Produccion_V"."Actualizado_Por" "Actualizado_Por"
	,"Grid_Orden_Produccion_V"."Fecha_Ultima_Actualizacion" "Fecha_Ultima_Actualizacion"
	,"Grid_Orden_Produccion_V"."Estatus_Registro_Id" "Estatus_Registro_Id"
	,"Grid_Orden_Produccion_V"."Estatus_Registro" "Estatus_Registro"
	,"Grid_Orden_Produccion_V"."Cantidad" "Cantidad"
	,"Grid_Orden_Produccion_V"."Estatus_Orden_Produccion_Id" "Estatus_Orden_Produccion_Id"
	,"Grid_Orden_Produccion_V"."Estatus_Orden_Produccion" "Estatus_Orden_Produccion"
	,"Grid_Orden_Produccion_V"."Producto_Clave" "Producto_Clave"
	,"Grid_Orden_Produccion_V"."Producto_Descripcion" "Producto_Descripcion"
	,"Grid_Orden_Produccion_V"."Producto_Id" "Producto_Id"
	,"Grid_Orden_Produccion_V"."Familia_Id" "Familia_Id"
	,"Grid_Orden_Produccion_V"."Familia_Clave" "Familia_Clave"
	,"Grid_Orden_Produccion_V"."Familia_Descripcion" "Familia_Descripcion"
	,"Grid_Orden_Produccion_V"."Cantidad_Dias_Produccion" "Cantidad_Dias_Produccion"
	,"Grid_Orden_Produccion_V"."Menor_A_Dias_Establecidos" "Menor_A_Dias_Establecidos"
	,"Grid_Orden_Produccion_V"."Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud" "Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud"
	,"Grid_Orden_Produccion_V"."Area_Servicio_Id" "Area_Servicio_Id"
	,"Grid_Orden_Produccion_V"."Usuario_Aplicacion_Id" "Usuario_Aplicacion_Id"
	,"Grid_Orden_Produccion_V"."Usuario_Id" "Usuario_Id"
from "dbo"."Grid_Orden_Produccion_V" "Grid_Orden_Produccion_V"
</Text></update></c><c y="NodeSet" t="2022-01-07T16:48:09"><controller name="Grid_Orden_Produccion_V" /><view id="grid1" /><update><CommandId>Grid_Orden_Produccion_V2</CommandId></update></c><c y="NodeSet" t="2022-01-07T16:50:08"><controller name="Grid_Orden_Produccion_V" /><command id="Grid_Orden_Produccion_Por_Fecha_Impresion_V" /><update><Text>SELECT [Orden_Produccion_Id]
      ,[Numero_Orden_Produccion]
      ,[Fecha_Produccion]
      ,[Fecha_Liberacion_Produccion]
      ,[Fecha_Compromiso_Produccion]
      ,[Fecha_Embarque]
      ,[Creado_Por]
      ,[Fecha_Creacion]
      ,[Actualizado_Por]
      ,[Fecha_Ultima_Actualizacion]
      ,[Estatus_Registro_Id]
      ,[Estatus_Registro]
      ,[Cantidad]
      ,[Estatus_Orden_Produccion_Id]
      ,[Estatus_Orden_Produccion]
      ,[Producto_Clave]
      ,[Producto_Descripcion]
      ,[Producto_Id]
      ,[Familia_Id]
      ,[Familia_Clave]
      ,[Familia_Descripcion]
      ,[Cantidad_Dias_Produccion]
      ,[Menor_A_Dias_Establecidos]
      ,[Cantidad_Orden_Detalle_Pendiente_Por_Enviar_A_Solicitud]
      ,[Area_Servicio_Id]
      ,[Usuario_Aplicacion_Id]
      ,[Usuario_Id]
	  ,[Esta_Bloqueado] As EstaBloqueado
  FROM [dbo].[Grid_Orden_Produccion_Por_Fecha_Impresion_V]</Text></update></c><c y="NodeSet" t="2022-01-10T17:51:41"><controller name="Grid_Orden_Produccion_V" /><view id="Orden_Produccion_V" /><dataField fieldName="EstaBloqueado" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-10T17:52:05"><controller name="Grid_Orden_Produccion_V" /><view id="gridOrdenProduccionPorFechaImpresionRelDate" /><dataField fieldName="EstaBloqueado" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-10T17:57:02"><controller name="Grid_Orden_Produccion_V" /><view id="editForm1" /><dataField fieldName="EstaBloqueado" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-10T17:57:34"><controller name="Grid_Orden_Produccion_V" /><view id="Orden_Produccion_V" /><dataField fieldName="EstaBloqueado" /><update><ReadOnly /><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-10T17:57:52"><controller name="Grid_Orden_Produccion_V" /><view id="gridOrdenProduccionPorFechaImpresionRelDate" /><dataField fieldName="EstaBloqueado" /><update><ReadOnly /><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-10T17:58:15"><controller name="Grid_Orden_Produccion_V" /><view id="grid1" /><dataField fieldName="EstaBloqueado" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T10:01:32"><controller name="Orden_Produccion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Orden_Produccion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-11T10:01:44"><controller name="Orden_Produccion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Orden_Produccion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-11T10:01:53"><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-11T10:02:02"><controller name="Orden_Produccion" /><view id="Orden_Produccion_LookUp_List" /><dataField fieldName="Numero_Orden_Produccion" /><move><controller name="Orden_Produccion" /><view id="Orden_Produccion_LookUp_List" /><dataField fieldName="Esta_Bloqueado" /></move></c><c y="NodeSet" t="2022-01-11T10:02:26"><controller name="Orden_Produccion" /><field name="Esta_Bloqueado" /><update><Default /></update></c><c y="NodeSet" t="2022-01-11T10:07:30"><controller name="Orden_Produccion" /><field name="Esta_Bloqueado" /><update><Label>Esta Bloqueado?</Label></update></c><c y="NodeSet" t="2022-01-11T10:07:45"><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="No_Entregar_Antes_De" /><move><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="ProductoCatlg" /></move></c><c y="NodeSet" t="2022-01-11T10:07:51"><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Codigo_Bloqueo" /><move><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Stay" /></move></c><c y="NodeSet" t="2022-01-11T10:07:57"><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="Stay" /><move><controller name="Orden_Produccion" /><view id="grid1" /><dataField fieldName="ProductoCatlg" /></move></c><c y="NodeSet" t="2022-01-11T10:08:15"><controller name="Orden_Produccion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Codigo_Bloqueo" /><move><controller name="Orden_Produccion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="ProductoCatlg" /></move></c><c y="NodeSet" t="2022-01-11T10:08:38"><controller name="Orden_Produccion" /><view id="editForm1" /><dataField fieldName="ProductoCatlg" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T10:08:48"><controller name="Orden_Produccion" /><view id="editForm1" /><dataField fieldName="Stay" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T10:09:06"><controller name="Orden_Produccion" /><view id="createForm1" /><dataField fieldName="Stay" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T10:09:14"><controller name="Orden_Produccion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Codigo_Bloqueo" /><move><controller name="Orden_Produccion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="ProductoCatlg" /></move></c><c y="NodeSet" t="2022-01-11T10:09:18"><controller name="Orden_Produccion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="ProductoCatlg" /><move><controller name="Orden_Produccion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Stay" /></move></c><c y="NodeSet" t="2022-01-11T10:09:27"><controller name="Orden_Produccion" /><view id="createForm1" /><dataField fieldName="ProductoCatlg" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T10:09:43"><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="ProductoCatlg" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T10:09:54"><controller name="Orden_Produccion" /><view id="Orden_Produccion_Listado" /><dataField fieldName="Stay" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T10:10:09"><controller name="Orden_Produccion" /><view id="Orden_Produccion_LookUp_List" /><dataField fieldName="ProductoCatlg" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T10:10:19"><controller name="Orden_Produccion" /><view id="Orden_Produccion_LookUp_List" /><dataField fieldName="Stay" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T12:44:39"><controller name="Material_Exclusion" /><view id="grid1" /><dataField fieldName="Motivo_Exclusion" /><move><controller name="Material_Exclusion" /><view id="grid1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:44:51"><controller name="Material_Exclusion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Motivo_Exclusion" /><move><controller name="Material_Exclusion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:45:20"><controller name="Material_Exclusion1" /><view id="grid1" /><dataField fieldName="Motivo_Exclusion" /><move><controller name="Material_Exclusion1" /><view id="grid1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:45:36"><controller name="Material_Exclusion1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Motivo_Exclusion" /><move><controller name="Material_Exclusion1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:45:47"><controller name="Material_Exclusion1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:45:57"><controller name="Material_Exclusion1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:46:08"><controller name="Material_Exclusion1" /><view id="grid1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion1" /><view id="grid1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:46:15"><controller name="Material_Exclusion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Motivo_Exclusion" /><move><controller name="Material_Exclusion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:46:20"><controller name="Material_Exclusion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:46:28"><controller name="Material_Exclusion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:46:34"><controller name="Material_Exclusion" /><view id="grid1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion" /><view id="grid1" /><dataField fieldName="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:46:43"><controller name="Material_Exclusion" /><field name="Excluido_Desde" /><move><controller name="Material_Exclusion" /><field name="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T12:54:46"><controller name="Material_Exclusion1" /><rule id="r104" /><update><Script>SET @Excluido_Desde_Id= 3; -- Se puso el 3 debido a que es el numero de Id que nos indica el tipo de exclusion a utilizar 

IF @Tipo_Exclusion_Id = 3

</Script></update></c><c y="NodeSet" t="2022-01-11T12:56:33"><controller name="Material_Exclusion1" /><rule id="r104" /><update><Script>SET @Excluido_Desde_Id= 3; -- Se puso el 3 debido a que es el numero de Id que nos indica el tipo de exclusion a utilizar 

IF @Tipo_Exclusion_Id = 3
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2022-01-11T12:59:01"><controller name="Material_Exclusion1" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 3
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:00:59"><controller name="Material_Exclusion1" /><field name="Material_A_Excluir" /><update><AllowNulls>false</AllowNulls></update></c><c y="NodeSet" t="2022-01-11T13:04:33"><controller name="Material_Exclusion1" /><field name="Material_A_Excluir" /><update><ItemsStyle>Lookup</ItemsStyle><ItemsDataController>Material</ItemsDataController><ItemsDataView>Material_LookUp_List</ItemsDataView><ItemsDataValueField>Material_Id</ItemsDataValueField><ItemsDataTextField>Material_Descripcion</ItemsDataTextField></update></c><c y="NodeSet" t="2022-01-11T13:05:47"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:07:04"><controller name="Material_Exclusion" /><field name="Material_A_Excluir" /><update><ItemsStyle>Lookup</ItemsStyle><ItemsDataController>Material</ItemsDataController><ItemsDataView>Material_LookUp_List</ItemsDataView><ItemsDataValueField>Material_Id</ItemsDataValueField><ItemsDataTextField>Material_Descripcion</ItemsDataTextField></update></c><c y="NodeSet" t="2022-01-11T13:09:52"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir = Null
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:13:41"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir = Null
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:15:08"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:16:27"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:42:39"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3 IN @Material_A_Excluir = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:44:08"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3 IN @Material_A_Excluir = NULL
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:45:04"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir = NULL
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:47:08"><controller name="Material_Exclusion" /><field name="Material_A_Excluir" /><update><ItemsDataTextField>Material</ItemsDataTextField></update></c><c y="NodeSet" t="2022-01-11T13:48:56"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:49:48"><controller name="Material_Exclusion" /><field name="Material_A_Excluir" /><update><AllowNulls>false</AllowNulls></update></c><c y="NodeSet" t="2022-01-11T13:52:50"><controller name="Material_Exclusion" /><field name="Material_A_Excluir" /><update><AllowNulls>true</AllowNulls></update></c><c y="NodeSet" t="2022-01-11T13:52:57"><controller name="Material_Exclusion" /><field name="Material_Id" /><update><AllowNulls>true</AllowNulls></update></c><c y="NodeSet" t="2022-01-11T13:54:03"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3 
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T13:56:56"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir != Null
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T14:01:14"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2022-01-11T14:01:24"><controller name="Material_Exclusion" /><rule id="r104" /><update><Script>SET @Excluido_Desde_Id= 3; -- Se puso el 3 debido a que es el numero de Id que nos indica el tipo de exclusion a utilizar 


IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir != Null
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2022-01-11T14:01:39"><controller name="Material_Exclusion" /><rule id="r104" /><update><Script>SET @Excluido_Desde_Id= 3; -- Se puso el 3 debido a que es el numero de Id que nos indica el tipo de exclusion a utilizar 


IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir = Null
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2022-01-11T14:03:31"><controller name="Material_Exclusion" /><field name="Material_Id" /><update><AllowNulls>false</AllowNulls></update></c><c y="NodeSet" t="2022-01-11T14:04:31"><controller name="Material_Exclusion1" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2022-01-11T14:05:02"><controller name="Material_Exclusion1" /><rule id="r104" /><update><Script>SET @Excluido_Desde_Id= 3; -- Se puso el 3 debido a que es el numero de Id que nos indica el tipo de exclusion a utilizar 

</Script></update></c><c y="NodeSet" t="2022-01-11T14:05:26"><controller name="Material_Exclusion" /><rule id="r104" /><update><Script>SET @Excluido_Desde_Id= 3; -- Se puso el 3 debido a que es el numero de Id que nos indica el tipo de exclusion a utilizar 

</Script></update></c><c y="NodeSet" t="2022-01-11T14:05:37"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 


IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir = Null
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T14:06:43"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 


IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir = Null
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T14:07:37"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 


IF @Tipo_Exclusion_Id = 3
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T14:09:50"><controller name="Material_Exclusion" /><field name="Material_A_Excluir" /><update><ItemsStyle /></update></c><c y="NodeSet" t="2022-01-11T14:10:40"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 


IF @Tipo_Exclusion_Id = 3 AND @Material_A_Excluir = Null
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T15:02:58"><controller name="Grid_Orden_Produccion_V" /><view id="editForm1" /><dataField fieldName="EstaBloqueado" /><update><Hidden>true</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T15:03:12"><controller name="Grid_Orden_Produccion_V" /><view id="editForm1" /><dataField fieldName="EstaBloqueado" /><update><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T15:03:18"><controller name="Grid_Orden_Produccion_V" /><view id="editForm1" /><dataField fieldName="EstaBloqueado" /><update><ReadOnly /><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T15:04:14"><controller name="Grid_Orden_Produccion_V" /><view id="editForm1" /><update><CommandId>Grid_Orden_Produccion_V2</CommandId></update></c><c y="NodeSet" t="2022-01-11T15:05:03"><controller name="Grid_Orden_Produccion_V" /><view id="editForm1" /><dataField fieldName="EstaBloqueado" /><update><ReadOnly>true</ReadOnly><Hidden>false</Hidden><DataViewShowInSummary>false</DataViewShowInSummary></update></c><c y="NodeSet" t="2022-01-11T15:06:57"><controller name="Grid_Orden_Produccion_V" /><view id="createForm1" /><update><CommandId>Grid_Orden_Produccion_V2</CommandId></update></c><c y="NodeSet" t="2022-01-11T15:07:12"><controller name="Grid_Orden_Produccion_V" /><view id="Orden_Produccion_V" /><update><CommandId>Grid_Orden_Produccion_V2</CommandId></update></c><c y="NodeSet" t="2022-01-11T15:29:31"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 


IF @Tipo_Exclusion_Id = 7 AND ISNULL(@Material_A_Excluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T15:32:23"><controller name="Material_Exclusion" /><field name="Material_A_Excluir" /><update><ItemsStyle>Lookup</ItemsStyle></update></c><c y="NodeSet" t="2022-01-11T15:32:58"><controller name="Material_Exclusion1" /><field name="Motivo_Exclusion" /><move><controller name="Material_Exclusion1" /><field name="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T15:33:02"><controller name="Material_Exclusion1" /><field name="Excluido_Desde" /><move><controller name="Material_Exclusion1" /><field name="Material_A_Excluir" /></move></c><c y="NodeSet" t="2022-01-11T15:33:52"><controller name="Material_Exclusion1" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@Material_A_Excluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2022-01-11T15:41:23"><controller name="Material_Exclusion" /><field name="Material_A_Excluir" /><update><ItemsStyle /></update></c><c y="NodeSet" t="2022-01-11T15:41:42"><controller name="Material_Exclusion1" /><field name="Material_A_Excluir" /><update><ItemsStyle /></update></c><c y="NodeSet" t="2022-01-11T15:45:57"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@Material_A_Excluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'se tomara en cuenta Material A Excluir ' + @Material_A_Excluir
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T15:46:43"><controller name="Material_Exclusion" /><rule id="r102" /><update><Script>UPDATE 
   APP.Material_Exclusion
SET
    Creado_Por_Id = @BusinessRules_UserId
   ,Fecha_Creacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
   ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Exclusion_Id = @Material_Exclusion_Id
   
IF @Tipo_Exclusion_Id = 7
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'se tomara en cuenta Material A Excluir ' + @Material_A_Excluir
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T15:49:40"><controller name="Material_Exclusion" /><rule id="r102" /><update><Script>UPDATE 
   APP.Material_Exclusion
SET
    Creado_Por_Id = @BusinessRules_UserId
   ,Fecha_Creacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
   ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Exclusion_Id = @Material_Exclusion_Id
</Script></update></c><c y="NodeSet" t="2022-01-11T15:50:03"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@Material_A_Excluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2022-01-11T15:50:24"><controller name="Material_Exclusion" /><rule id="r102" /><update><Script>UPDATE 
   APP.Material_Exclusion
SET
    Creado_Por_Id = @BusinessRules_UserId
   ,Fecha_Creacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
   ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Exclusion_Id = @Material_Exclusion_Id
   
IF @Tipo_Exclusion_Id = 7
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'se tomara en cuenta Material A Excluir ' + @Material_A_Excluir
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T15:53:38"><controller name="Material_Exclusion" /><rule id="r102" /><update><Script>UPDATE 
   APP.Material_Exclusion
SET
    Creado_Por_Id = @BusinessRules_UserId
   ,Fecha_Creacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
   ,Actualizado_Por_Id = @BusinessRules_UserId
   ,Fecha_Ultima_Actualizacion = dbo.fn_Convertir_UTC_A_Fecha_Hora_Local(GETDATE(),NULL)
WHERE
   Material_Exclusion_Id = @Material_Exclusion_Id
</Script></update></c><c y="NodeSet" t="2022-01-11T16:00:38"><controller name="Material_Exclusion" /><field name="Motivo_Exclusion" /><move><controller name="Material_Exclusion" /><field name="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:00:43"><controller name="Material_Exclusion" /><field name="Excluido_Desde" /><move><controller name="Material_Exclusion" /><field name="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:00:54"><controller name="Material_Exclusion1" /><field name="Excluido_Desde" /><move><controller name="Material_Exclusion1" /><field name="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:01:02"><controller name="Material_Exclusion1" /><view id="grid1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion1" /><view id="grid1" /><dataField fieldName="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:01:10"><controller name="Material_Exclusion1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion1" /><view id="createForm1" /><category id="c1" /><dataField fieldName="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:01:18"><controller name="Material_Exclusion1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion1" /><view id="editForm1" /><category id="c1" /><dataField fieldName="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:01:26"><controller name="Material_Exclusion" /><view id="grid1" /><dataField fieldName="Motivo_Exclusion" /><move><controller name="Material_Exclusion" /><view id="grid1" /><dataField fieldName="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:01:29"><controller name="Material_Exclusion" /><view id="grid1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion" /><view id="grid1" /><dataField fieldName="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:01:35"><controller name="Material_Exclusion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="Tipo_Exclusion_Id" /><move><controller name="Material_Exclusion" /><view id="editForm1" /><category id="c1" /><dataField fieldName="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:01:44"><controller name="Material_Exclusion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="Excluido_Desde_Id" /><move><controller name="Material_Exclusion" /><view id="createForm1" /><category id="c1" /><dataField fieldName="MaterialAExcluir" /></move></c><c y="NodeSet" t="2022-01-11T16:01:59"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@MaterialAExcluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2022-01-11T16:02:10"><controller name="Material_Exclusion1" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@MaterialAExcluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 
</Script></update></c><c y="NodeSet" t="2022-01-11T16:04:21"><controller name="Material_Exclusion1" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id
AND Material_Exclusion_Id &lt;&gt; @Material_Exclusion_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](128,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@MaterialAExcluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T16:04:33"><controller name="Material_Exclusion" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id
AND Material_Exclusion_Id &lt;&gt; @Material_Exclusion_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](128,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@MaterialAExcluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T16:05:43"><controller name="Material_Exclusion" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id
AND Material_Exclusion_Id &lt;&gt; @Material_Exclusion_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](128,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@MaterialAExcluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-11T16:05:49"><controller name="Material_Exclusion" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id
AND Material_Exclusion_Id &lt;&gt; @Material_Exclusion_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](128,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@MaterialAExcluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END </Script></update></c><c y="NodeSet" t="2022-01-12T12:12:37"><controller name="Material_Exclusion" /><field name="Material_Id" /><update><AllowNulls>true</AllowNulls></update></c><c y="NodeSet" t="2022-01-12T12:14:04"><controller name="Material_Exclusion" /><rule id="r100" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](127,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@MaterialAExcluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id != 7 AND ISNULL(@Material,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END
</Script></update></c><c y="NodeSet" t="2022-01-12T12:14:31"><controller name="Material_Exclusion" /><rule id="r103" /><update><Script>DECLARE @Already_Exists BIT

SET @Already_Exists = 0

SELECT
   TOP 1 @Already_Exists  = 1
FROM
   APP.Material_Exclusion
WHERE
	Tipo_Exclusion_Id = @Tipo_Exclusion_Id
AND Material_Id = @Material_Id
AND Material_Exclusion_Id &lt;&gt; @Material_Exclusion_Id

IF @Already_Exists = 1
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = [dbo].[fn_Obtener_Mensaje_Sistema](128,1,41,@Material + @Tipo_Exclusion)
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id = 7 AND ISNULL(@MaterialAExcluir,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material A Excluir'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END 

IF @Tipo_Exclusion_Id != 7 AND ISNULL(@Material,'') = ''
BEGIN
   SET @BusinessRules_PreventDefault = 1
   SET @Result_ShowViewMessage = 'Es necesario insertar un Material'
   SET @Result_ShowAlert = @Result_ShowViewMessage
   RETURN
END</Script></update></c></log><log type="Application"><c y="NodeSet" t="2021-05-18T19:54:57"><pages /><insert type="page"><Name>Reguistro_Material_Indirecto</Name><Generate>Always</Generate><UseExtenders>false</UseExtenders><Offline>false</Offline><Kiosk>false</Kiosk><Title>Reguistro de Material Indirecto.</Title><Description>Ver Reguistro de Material Indirecto.</Description><About>Est√° p√°gina permite administrar toda la informaci√≥n relacionada con los Reguistro de Material Indirecto</About><Roles>UsuarioMatInde</Roles></insert></c><c y="NodeSet" t="2021-05-18T19:55:32"><page name="Reguistro_Material_Indirecto" /><insert type="container"><Flow>NewRow</Flow></insert></c><c y="NodeSet" t="2021-05-18T20:00:11"><page name="Reguistro_Material_Indirecto" /><container id="c101" /><insert type="dataView"><Controller>Material2</Controller><Tag>view-style-grid, 
view-style-list, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag><ShowInSummary>false</ShowInSummary><MultiSelect>false</MultiSelect><ShowActionBar>true</ShowActionBar><ShowDescription>true</ShowDescription><ShowViewSelector>true</ShowViewSelector><ShowSearchBar>true</ShowSearchBar><ShowQuickFind>true</ShowQuickFind><SearchByFirstLetter>false</SearchByFirstLetter><ShowRowNumber>false</ShowRowNumber><ShowPager>Bottom</ShowPager><ShowPageSize>true</ShowPageSize><ShowModalForms>false</ShowModalForms><SearchOnStart>false</SearchOnStart><ShowDetailsInListMode>true</ShowDetailsInListMode><AutoHighlightFirstRow>false</AutoHighlightFirstRow><AutoSelectFirstRow>false</AutoSelectFirstRow><AutoHide>Nothing</AutoHide></insert></c><c y="NodeSet" t="2021-05-18T20:02:26"><page name="Reguistro_Material_Indirecto" /><update><Roles>UsuarioMatInde,administrador</Roles></update></c><c y="NodeSet" t="2021-05-18T20:12:01"><page name="Reguistro_Material_Indirecto" /><dataView id="view1" /><update><View>grid1</View><Tag>view-style-grid, 
view-style-list, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag></update></c><c y="NodeSet" t="2021-05-19T10:52:23"><page name="Reguistro_Material_Indirecto" /><delete /></c><c y="NodeSet" t="2021-05-19T10:53:33"><pages /><insert type="page"><Name>Reguistro_Material_Indirecto</Name><Generate>Always</Generate><UseExtenders>false</UseExtenders><Offline>false</Offline><Kiosk>false</Kiosk><Path>Reguistro de Material Indirecto.</Path><Title>Reguistro de Material Indirecto.</Title><Description>Ver Reguistro de Material Indirecto.</Description><About>Est√° p√°gina permite administrar toda la informaci√≥n relacionada con los Reguistro</About><Roles>UsuarioMatInde,administrador</Roles></insert></c><c y="NodeSet" t="2021-05-19T10:53:44"><page name="Reguistro_Material_Indirecto" /><insert type="container"><Flow>NewRow</Flow></insert></c><c y="NodeSet" t="2021-05-19T10:54:17"><page name="Reguistro_Material_Indirecto" /><container id="c101" /><insert type="dataView"><Controller>Material2</Controller><ShowInSummary>false</ShowInSummary><MultiSelect>false</MultiSelect><ShowActionBar>true</ShowActionBar><ShowDescription>true</ShowDescription><ShowViewSelector>true</ShowViewSelector><ShowSearchBar>true</ShowSearchBar><ShowQuickFind>true</ShowQuickFind><SearchByFirstLetter>false</SearchByFirstLetter><ShowRowNumber>false</ShowRowNumber><ShowPager>Bottom</ShowPager><ShowPageSize>true</ShowPageSize><ShowModalForms>false</ShowModalForms><SearchOnStart>false</SearchOnStart><ShowDetailsInListMode>true</ShowDetailsInListMode><AutoHighlightFirstRow>false</AutoHighlightFirstRow><AutoSelectFirstRow>false</AutoSelectFirstRow><AutoHide>Nothing</AutoHide></insert></c><c y="NodeSet" t="2021-05-19T10:54:59"><page name="Reguistro_Material_Indirecto" /><dataView id="view1" /><update><View>grid1</View><Tag>view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag></update></c><c y="NodeSet" t="2021-05-19T16:25:41"><page name="Reguistro_Material_Indirecto" /><update><Name>Registro_Material_Indirecto</Name></update></c><c y="NodeSet" t="2021-05-19T16:25:52"><page name="Registro_Material_Indirecto" /><rename>Registro de Material Indirecto.</rename></c><c y="NodeSet" t="2021-05-19T16:26:13"><page name="Registro_Material_Indirecto" /><update><Title>Registro de Material Indirecto.</Title><Description>Ver Registro de Material Indirecto.</Description><About>Est√° p√°gina permite administrar toda la informaci√≥n relacionada con los Registro</About></update></c><c y="NodeSet" t="2021-05-20T10:20:16"><page name="Registro_Material_Indirecto" /><update><Roles>hidden</Roles></update></c><c y="NodeSet" t="2021-05-20T10:22:11"><page name="Etiquetas_Para_Proveedores" /><update><Roles>administrador,CompradorRSL,UsuarioMatInde</Roles></update></c><c y="NodeSet" t="2021-05-20T11:35:33"><page name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><rename>Reportes De Solicitud De Material Indirecto</rename></c><c y="NodeSet" t="2021-05-20T11:46:41"><page name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><update><UseExtenders>false</UseExtenders><Offline>false</Offline><Kiosk>false</Kiosk><Title>Reportes De Solicitud De Material Indirecto</Title><Description>Ver Reportes De Solicitud De Material Indirecto</Description><About>Est√° p√°gina permite administrar toda la informaci√≥n relacionada con los Reportes De Solicitud De Material Indirecto.</About></update></c><c y="NodeSet" t="2021-05-20T12:01:30"><page name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><update><Roles>administrador</Roles></update></c><c y="NodeSet" t="2021-05-20T13:13:16"><pages /><renameRefs type="view"><Controller>Grid_Reporte_Solicitud_Ind_Dia_Actual_V</Controller><Name>grid1</Name><NewName>Grid_Reporte_Solicitud_Ind_Dia_Actual_V</NewName></renameRefs></c><c y="NodeSet" t="2021-05-20T13:22:38"><page name="Grid_Solicitudes_Entregadas_Por_Cadista_Para_Admin_Dia_Actual_V" /><move><page name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /></move></c><c y="NodeSet" t="2021-05-20T13:22:47"><page name="Grid_Solicitudes_Entregadas_Por_Cadista_Para_Admin_Dia_Actual_V" /><before><page name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /></before></c><c y="NodeSet" t="2021-05-20T13:22:54"><page name="Grid_Reporte_Solicitud_Ind_Dia_Actual_V" /><before><page name="Grid_Solicitudes_Entregadas_Por_Cadista_Para_Admin_Dia_Actual_V" /></before></c><c y="NodeSet" t="2021-05-27T15:25:37"><pages /><insert type="page"><Name>Bitacora_Captura_SAP_Pendientes_Por_Capturar</Name><Generate>Always</Generate><UseExtenders>false</UseExtenders><Offline>false</Offline><Kiosk>false</Kiosk><Path>Transferencias Pendientes Por Capturar</Path><Title>Transferencias Pendientes Por Capturar</Title><Description>Ver Transferencias Pendientes Por Capturar</Description><About>Est√° p√°gina permite administrar toda la informaci√≥n relacionada con Transferencias Pendientes Por Capturar</About><Roles>Solicitante</Roles></insert></c><c y="NodeSet" t="2021-05-27T15:27:56"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><insert type="container"><Flow>NewRow</Flow></insert></c><c y="NodeSet" t="2021-05-27T15:29:09"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><container id="c101" /><insert type="dataView"><Controller>Bitacora_Captura_Sap3</Controller><View>grid1</View><Tag>
view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag><ShowInSummary>false</ShowInSummary><MultiSelect>false</MultiSelect><ShowActionBar>true</ShowActionBar><ShowDescription>true</ShowDescription><ShowViewSelector>true</ShowViewSelector><ShowSearchBar>true</ShowSearchBar><ShowQuickFind>true</ShowQuickFind><SearchByFirstLetter>false</SearchByFirstLetter><ShowRowNumber>false</ShowRowNumber><ShowPager>Bottom</ShowPager><ShowPageSize>true</ShowPageSize><ShowModalForms>false</ShowModalForms><SearchOnStart>false</SearchOnStart><ShowDetailsInListMode>true</ShowDetailsInListMode><AutoHighlightFirstRow>false</AutoHighlightFirstRow><AutoSelectFirstRow>false</AutoSelectFirstRow><AutoHide>Nothing</AutoHide></insert></c><c y="NodeSet" t="2021-05-27T15:32:41"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><rename>Solicitudes de Transferencia Pendientes Por Capturar</rename></c><c y="NodeSet" t="2021-05-27T15:34:35"><page name="Movimiento_Ruta_Optima_Ubicacion_Almacenamiento" /><before><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /></before></c><c y="NodeSet" t="2021-05-27T16:02:49"><pages /><deleteRefs type="controller"><Name>Bitacora_Captura_Sap3</Name></deleteRefs></c><c y="NodeSet" t="2021-05-27T16:06:55"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><container id="c101" /><insert type="dataView"><Controller>Bitacora_Captura_Sap1_2_1</Controller><View>grid1</View><Tag>
view-style-grid,
view-style-list,
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag><ShowInSummary>false</ShowInSummary><MultiSelect>false</MultiSelect><ShowActionBar>true</ShowActionBar><ShowDescription>true</ShowDescription><ShowViewSelector>true</ShowViewSelector><ShowSearchBar>true</ShowSearchBar><ShowQuickFind>true</ShowQuickFind><SearchByFirstLetter>false</SearchByFirstLetter><ShowRowNumber>false</ShowRowNumber><ShowPager>Bottom</ShowPager><ShowPageSize>true</ShowPageSize><ShowModalForms>false</ShowModalForms><SearchOnStart>false</SearchOnStart><ShowDetailsInListMode>true</ShowDetailsInListMode><AutoHighlightFirstRow>false</AutoHighlightFirstRow><AutoSelectFirstRow>false</AutoSelectFirstRow><AutoHide>Nothing</AutoHide></insert></c><c y="NodeSet" t="2021-05-27T16:30:22"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><rename>Solicitudes de Transferencia (Pendientes)</rename></c><c y="NodeSet" t="2021-05-27T16:32:50"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><rename>Bit√°cora Captura SAP (Transferencia Pendientes)</rename></c><c y="NodeSet" t="2021-05-27T16:33:29"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><update><Title>Bit√°cora Captura SAP (Transferencia Pendientes)</Title><Description>Ver Bit√°cora Captura SAP (Transferencia Pendientes)</Description></update></c><c y="NodeSet" t="2021-05-27T16:43:58"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><update><CustomStyle>material-icon-library-books</CustomStyle></update></c><c y="NodeSet" t="2021-05-28T14:15:54"><page name="reportes" /><move><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /></move></c><c y="NodeSet" t="2021-05-28T14:16:33"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><rename>Bit√°cora Captura SAP</rename></c><c y="NodeSet" t="2021-05-28T14:17:18"><page name="Bitacora_Captura_SAP_Pendientes_Por_Capturar" /><update><Name>Bitacora_Captura_SAP_</Name><Title>Bit√°cora Captura SAP </Title><Description>Ver Bit√°cora Captura SAP </Description><About>Est√° p√°gina permite administrar toda la informaci√≥n relacionada con la Bit√°cora Captura SAP </About></update></c><c y="NodeSet" t="2021-06-02T10:04:48"><page name="Bitacora_Captura_Sap" /><dataView id="view1" /><update><View>Grid_BCSAP_Admin_Dia_Actual_V</View><Tag>view-style-grid,  
view-style-list-disabled,
view-style-cards-disabled, 
view-style-charts-disabled, 
view-style-calendar-disabled, 
inline-editing-none, 
inline-editing-option-none  </Tag></update></c><c y="NodeSet" t="2021-06-02T10:28:43"><page name="Bitacora_Captura_Sap" /><dataView id="view1" /><update><View>grid1</View><Tag>view-style-grid,  
view-style-list-disabled,
view-style-cards-disabled, 
view-style-charts-disabled, 
view-style-calendar-disabled, 
inline-editing-none, 
inline-editing-option-none  </Tag></update></c><c y="NodeSet" t="2021-06-02T10:45:56"><page name="Bitacora_Captura_Sap" /><dataView id="view1" /><update><View>Grid_BCSAP_Admin_Dia_Actual_V</View><Tag>view-style-grid,  
view-style-list-disabled,
view-style-cards-disabled, 
view-style-charts-disabled, 
view-style-calendar-disabled, 
inline-editing-none, 
inline-editing-option-none  </Tag></update></c><c y="NodeSet" t="2021-06-07T18:32:16"><page name="solicdevmat" /><dataView id="view2" /><update><Controller>Movimiento_Detalle4</Controller><Tag>view-style-grid, 
view-style-list-disabled, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag></update></c><c y="NodeSet" t="2021-06-07T18:33:14"><pages /><deleteRefs type="view"><Controller>Movimiento_Detalle4</Controller><Name>grid1</Name></deleteRefs></c><c y="NodeSet" t="2021-06-08T09:20:26"><page name="solicdevmat" /><dataView id="view2" /><update><Controller>Movimiento_Detalle1</Controller><Tag>view-style-grid, 
view-style-list-disabled, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag></update></c><c y="NodeSet" t="2021-06-08T09:23:15"><page name="solicdevmat" /><dataView id="view2" /><update><Controller>Movimiento_Detalle4</Controller><Tag>view-style-grid, 
view-style-list-disabled, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag></update></c><c y="NodeSet" t="2021-06-08T18:29:23"><page name="solictransfmat" /><dataView id="view2" /><update><Tag>view-style-grid, 
view-style-list-disabled, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag><FilterField2 /></update></c><c y="NodeSet" t="2021-06-08T18:30:11"><page name="solictransfmat" /><dataView id="view2" /><update><Tag>view-style-grid, 
view-style-list-disabled, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag></update></c><c y="NodeSet" t="2021-06-08T18:46:51"><page name="solictransfmat" /><dataView id="view2" /><update><Tag>view-style-grid, 
view-style-list-disabled, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag><FilterField2>Area_Entrega_Id</FilterField2></update></c><c y="NodeSet" t="2021-11-11T13:48:08"><pages /><insert type="page"><Name>Asignacion_Area_servicio_vs_Familia</Name><Generate>Always</Generate><UseExtenders>false</UseExtenders><Offline>false</Offline><Kiosk>false</Kiosk><Path>Asignaci√≥n √Årea servicio vs Familia</Path><Title>Asignaci√≥n √Årea servicio vs Familia</Title><Roles>*</Roles></insert></c><c y="NodeSet" t="2021-11-11T13:49:11"><page name="Asignacion_Area_servicio_vs_Familia" /><insert type="container"><Flow>NewRow</Flow></insert></c><c y="NodeSet" t="2021-11-11T13:49:36"><page name="Asignacion_Area_servicio_vs_Familia" /><container id="c101" /><insert type="dataView"><Controller>Area_Entrega_Familia1</Controller><View>grid1</View><ShowInSummary>false</ShowInSummary><MultiSelect>false</MultiSelect><ShowActionBar>true</ShowActionBar><ShowDescription>true</ShowDescription><ShowViewSelector>true</ShowViewSelector><ShowSearchBar>true</ShowSearchBar><ShowQuickFind>true</ShowQuickFind><SearchByFirstLetter>false</SearchByFirstLetter><ShowRowNumber>false</ShowRowNumber><ShowPager>Bottom</ShowPager><ShowPageSize>true</ShowPageSize><ShowModalForms>false</ShowModalForms><SearchOnStart>false</SearchOnStart><ShowDetailsInListMode>true</ShowDetailsInListMode><AutoHighlightFirstRow>false</AutoHighlightFirstRow><AutoSelectFirstRow>false</AutoSelectFirstRow><AutoHide>Nothing</AutoHide></insert></c><c y="NodeSet" t="2021-11-11T13:51:03"><page name="Area_Entrega_Area_Servicio" /><move><page name="Asignacion_Area_servicio_vs_Familia" /></move></c><c y="NodeSet" t="2021-11-11T13:51:07"><page name="Area_Entrega" /><move><page name="Asignacion_Area_servicio_vs_Familia" /></move></c><c y="NodeSet" t="2021-11-11T13:51:20"><page name="Nivel_Prioridad_Surtido" /><before><page name="Asignacion_Area_servicio_vs_Familia" /></before></c><c y="NodeSet" t="2021-11-11T13:52:05"><page name="Area_Entrega_Familia" /><before><page name="Asignacion_Area_servicio_vs_Familia" /></before></c><c y="NodeSet" t="2021-11-11T13:52:25"><page name="Area_Entrega_Familia" /><move><page name="Asignacion_Area_servicio_vs_Familia" /></move></c><c y="NodeSet" t="2021-11-11T13:52:33"><page name="Familia_Patron" /><before><page name="Asignacion_Area_servicio_vs_Familia" /></before></c><c y="NodeSet" t="2021-11-11T13:53:56"><page name="Asignacion_Area_servicio_vs_Familia" /><dataView id="view1" /><update><Tag>view-style-grid, 
view-style-list, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag></update></c><c y="NodeSet" t="2021-11-11T13:54:40"><page name="Asignacion_Area_servicio_vs_Familia" /><update><Roles>administrador,SupervisorAlmacen</Roles></update></c><c y="NodeSet" t="2021-11-11T14:01:10"><page name="Asignacion_Area_servicio_vs_Familia" /><update><Title>Ver Asignaci√≥n √Årea servicio vs Familia</Title><Description>Est√° p√°gina permite administrar toda la informaci√≥n relacionada con la Asignaci√≥n √Årea servicio vs Familia.</Description></update></c><c y="NodeSet" t="2021-11-11T14:15:11"><page name="Asignacion_Area_servicio_vs_Familia" /><update><Title>Asignaci√≥n √Årea servicio vs Familia</Title></update></c><c y="NodeSet" t="2021-11-11T14:15:49"><page name="Asignacion_Area_servicio_vs_Familia" /><update><Description>Ver Asignaci√≥n √Årea servicio vs Familia</Description><About>Est√° p√°gina permite administrar toda la informaci√≥n relacionada con la Asignaci√≥n √Årea servicio vs Familia.</About></update></c><c y="NodeSet" t="2021-11-12T10:26:53"><pages /><deleteRefs type="controller"><Name>Area_Entrega_Familia1</Name></deleteRefs></c><c y="NodeSet" t="2021-11-12T10:30:04"><page name="Asignacion_Area_servicio_vs_Familia" /><container id="c101" /><insert type="dataView"><Controller>Area_Servicio_Familia1</Controller><View>grid1</View><ShowInSummary>false</ShowInSummary><MultiSelect>false</MultiSelect><ShowActionBar>true</ShowActionBar><ShowDescription>true</ShowDescription><ShowViewSelector>true</ShowViewSelector><ShowSearchBar>true</ShowSearchBar><ShowQuickFind>true</ShowQuickFind><SearchByFirstLetter>false</SearchByFirstLetter><ShowRowNumber>false</ShowRowNumber><ShowPager>Bottom</ShowPager><ShowPageSize>true</ShowPageSize><ShowModalForms>false</ShowModalForms><SearchOnStart>false</SearchOnStart><ShowDetailsInListMode>true</ShowDetailsInListMode><AutoHighlightFirstRow>false</AutoHighlightFirstRow><AutoSelectFirstRow>false</AutoSelectFirstRow><AutoHide>Nothing</AutoHide></insert></c><c y="NodeSet" t="2021-11-12T10:30:37"><page name="Asignacion_Area_servicio_vs_Familia" /><dataView id="view1" /><update><Tag>view-style-grid, 
view-style-list, 
view-style-cards-disabled,
view-style-charts-disabled,
view-style-calendar-disabled,
inline-editing-none,
inline-editing-option-none</Tag></update></c></log></logs>